(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))h(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&h(b)}).observe(document,{childList:!0,subtree:!0});function d(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(f){if(f.ep)return;f.ep=!0;const g=d(f);fetch(f.href,g)}})();var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ad={},n7={get exports(){return ad},set exports(r){ad=r}},Rd={},At={},o7={get exports(){return At},set exports(r){At=r}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),i7=Symbol.for("react.portal"),r7=Symbol.for("react.fragment"),s7=Symbol.for("react.strict_mode"),a7=Symbol.for("react.profiler"),l7=Symbol.for("react.provider"),c7=Symbol.for("react.context"),d7=Symbol.for("react.forward_ref"),u7=Symbol.for("react.suspense"),h7=Symbol.for("react.memo"),f7=Symbol.for("react.lazy"),ly=Symbol.iterator;function p7(r){return r===null||typeof r!="object"?null:(r=ly&&r[ly]||r["@@iterator"],typeof r=="function"?r:null)}var b0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w0=Object.assign,_0={};function ps(r,a,d){this.props=r,this.context=a,this.refs=_0,this.updater=d||b0}ps.prototype.isReactComponent={};ps.prototype.setState=function(r,a){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,a,"setState")};ps.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function v0(){}v0.prototype=ps.prototype;function hm(r,a,d){this.props=r,this.context=a,this.refs=_0,this.updater=d||b0}var fm=hm.prototype=new v0;fm.constructor=hm;w0(fm,ps.prototype);fm.isPureReactComponent=!0;var cy=Array.isArray,C0=Object.prototype.hasOwnProperty,pm={current:null},A0={key:!0,ref:!0,__self:!0,__source:!0};function y0(r,a,d){var h,f={},g=null,b=null;if(a!=null)for(h in a.ref!==void 0&&(b=a.ref),a.key!==void 0&&(g=""+a.key),a)C0.call(a,h)&&!A0.hasOwnProperty(h)&&(f[h]=a[h]);var _=arguments.length-2;if(_===1)f.children=d;else if(1<_){for(var k=Array(_),A=0;A<_;A++)k[A]=arguments[A+2];f.children=k}if(r&&r.defaultProps)for(h in _=r.defaultProps,_)f[h]===void 0&&(f[h]=_[h]);return{$$typeof:Za,type:r,key:g,ref:b,props:f,_owner:pm.current}}function g7(r,a){return{$$typeof:Za,type:r.type,key:a,ref:r.ref,props:r.props,_owner:r._owner}}function gm(r){return typeof r=="object"&&r!==null&&r.$$typeof===Za}function m7(r){var a={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(d){return a[d]})}var dy=/\/+/g;function Hp(r,a){return typeof r=="object"&&r!==null&&r.key!=null?m7(""+r.key):a.toString(36)}function Qc(r,a,d,h,f){var g=typeof r;(g==="undefined"||g==="boolean")&&(r=null);var b=!1;if(r===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(r.$$typeof){case Za:case i7:b=!0}}if(b)return b=r,f=f(b),r=h===""?"."+Hp(b,0):h,cy(f)?(d="",r!=null&&(d=r.replace(dy,"$&/")+"/"),Qc(f,a,d,"",function(A){return A})):f!=null&&(gm(f)&&(f=g7(f,d+(!f.key||b&&b.key===f.key?"":(""+f.key).replace(dy,"$&/")+"/")+r)),a.push(f)),1;if(b=0,h=h===""?".":h+":",cy(r))for(var _=0;_<r.length;_++){g=r[_];var k=h+Hp(g,_);b+=Qc(g,a,d,k,f)}else if(k=p7(r),typeof k=="function")for(r=k.call(r),_=0;!(g=r.next()).done;)g=g.value,k=h+Hp(g,_++),b+=Qc(g,a,d,k,f);else if(g==="object")throw a=String(r),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return b}function Bc(r,a,d){if(r==null)return r;var h=[],f=0;return Qc(r,h,"","",function(g){return a.call(d,g,f++)}),h}function k7(r){if(r._status===-1){var a=r._result;a=a(),a.then(function(d){(r._status===0||r._status===-1)&&(r._status=1,r._result=d)},function(d){(r._status===0||r._status===-1)&&(r._status=2,r._result=d)}),r._status===-1&&(r._status=0,r._result=a)}if(r._status===1)return r._result.default;throw r._result}var Ut={current:null},Zc={transition:null},b7={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Zc,ReactCurrentOwner:pm};me.Children={map:Bc,forEach:function(r,a,d){Bc(r,function(){a.apply(this,arguments)},d)},count:function(r){var a=0;return Bc(r,function(){a++}),a},toArray:function(r){return Bc(r,function(a){return a})||[]},only:function(r){if(!gm(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};me.Component=ps;me.Fragment=r7;me.Profiler=a7;me.PureComponent=hm;me.StrictMode=s7;me.Suspense=u7;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b7;me.cloneElement=function(r,a,d){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var h=w0({},r.props),f=r.key,g=r.ref,b=r._owner;if(a!=null){if(a.ref!==void 0&&(g=a.ref,b=pm.current),a.key!==void 0&&(f=""+a.key),r.type&&r.type.defaultProps)var _=r.type.defaultProps;for(k in a)C0.call(a,k)&&!A0.hasOwnProperty(k)&&(h[k]=a[k]===void 0&&_!==void 0?_[k]:a[k])}var k=arguments.length-2;if(k===1)h.children=d;else if(1<k){_=Array(k);for(var A=0;A<k;A++)_[A]=arguments[A+2];h.children=_}return{$$typeof:Za,type:r.type,key:f,ref:g,props:h,_owner:b}};me.createContext=function(r){return r={$$typeof:c7,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:l7,_context:r},r.Consumer=r};me.createElement=y0;me.createFactory=function(r){var a=y0.bind(null,r);return a.type=r,a};me.createRef=function(){return{current:null}};me.forwardRef=function(r){return{$$typeof:d7,render:r}};me.isValidElement=gm;me.lazy=function(r){return{$$typeof:f7,_payload:{_status:-1,_result:r},_init:k7}};me.memo=function(r,a){return{$$typeof:h7,type:r,compare:a===void 0?null:a}};me.startTransition=function(r){var a=Zc.transition;Zc.transition={};try{r()}finally{Zc.transition=a}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(r,a){return Ut.current.useCallback(r,a)};me.useContext=function(r){return Ut.current.useContext(r)};me.useDebugValue=function(){};me.useDeferredValue=function(r){return Ut.current.useDeferredValue(r)};me.useEffect=function(r,a){return Ut.current.useEffect(r,a)};me.useId=function(){return Ut.current.useId()};me.useImperativeHandle=function(r,a,d){return Ut.current.useImperativeHandle(r,a,d)};me.useInsertionEffect=function(r,a){return Ut.current.useInsertionEffect(r,a)};me.useLayoutEffect=function(r,a){return Ut.current.useLayoutEffect(r,a)};me.useMemo=function(r,a){return Ut.current.useMemo(r,a)};me.useReducer=function(r,a,d){return Ut.current.useReducer(r,a,d)};me.useRef=function(r){return Ut.current.useRef(r)};me.useState=function(r){return Ut.current.useState(r)};me.useSyncExternalStore=function(r,a,d){return Ut.current.useSyncExternalStore(r,a,d)};me.useTransition=function(){return Ut.current.useTransition()};me.version="18.2.0";(function(r){r.exports=me})(o7);const x0=k0(At);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7=At,_7=Symbol.for("react.element"),v7=Symbol.for("react.fragment"),C7=Object.prototype.hasOwnProperty,A7=w7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y7={key:!0,ref:!0,__self:!0,__source:!0};function E0(r,a,d){var h,f={},g=null,b=null;d!==void 0&&(g=""+d),a.key!==void 0&&(g=""+a.key),a.ref!==void 0&&(b=a.ref);for(h in a)C7.call(a,h)&&!y7.hasOwnProperty(h)&&(f[h]=a[h]);if(r&&r.defaultProps)for(h in a=r.defaultProps,a)f[h]===void 0&&(f[h]=a[h]);return{$$typeof:_7,type:r,key:g,ref:b,props:f,_owner:A7.current}}Rd.Fragment=v7;Rd.jsx=E0;Rd.jsxs=E0;(function(r){r.exports=Rd})(n7);const xe=ad.jsx,yo=ad.jsxs;var pg={},gg={},x7={get exports(){return gg},set exports(r){gg=r}},pn={},mg={},E7={get exports(){return mg},set exports(r){mg=r}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function a(X,se){var he=X.length;X.push(se);e:for(;0<he;){var We=he-1>>>1,I=X[We];if(0<f(I,se))X[We]=se,X[he]=I,he=We;else break e}}function d(X){return X.length===0?null:X[0]}function h(X){if(X.length===0)return null;var se=X[0],he=X.pop();if(he!==se){X[0]=he;e:for(var We=0,I=X.length,Ee=I>>>1;We<Ee;){var mn=2*(We+1)-1,Ro=X[mn],Tn=mn+1,Oo=X[Tn];if(0>f(Ro,he))Tn<I&&0>f(Oo,Ro)?(X[We]=Oo,X[Tn]=he,We=Tn):(X[We]=Ro,X[mn]=he,We=mn);else if(Tn<I&&0>f(Oo,he))X[We]=Oo,X[Tn]=he,We=Tn;else break e}}return se}function f(X,se){var he=X.sortIndex-se.sortIndex;return he!==0?he:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;r.unstable_now=function(){return g.now()}}else{var b=Date,_=b.now();r.unstable_now=function(){return b.now()-_}}var k=[],A=[],S=1,E=null,D=3,y=!1,R=!1,V=!1,J=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(X){for(var se=d(A);se!==null;){if(se.callback===null)h(A);else if(se.startTime<=X)h(A),se.sortIndex=se.expirationTime,a(k,se);else break;se=d(A)}}function j(X){if(V=!1,O(X),!R)if(d(k)!==null)R=!0,Me(Q);else{var se=d(A);se!==null&&ut(j,se.startTime-X)}}function Q(X,se){R=!1,V&&(V=!1,z(q),q=-1),y=!0;var he=D;try{for(O(se),E=d(k);E!==null&&(!(E.expirationTime>se)||X&&!ge());){var We=E.callback;if(typeof We=="function"){E.callback=null,D=E.priorityLevel;var I=We(E.expirationTime<=se);se=r.unstable_now(),typeof I=="function"?E.callback=I:E===d(k)&&h(k),O(se)}else h(k);E=d(k)}if(E!==null)var Ee=!0;else{var mn=d(A);mn!==null&&ut(j,mn.startTime-se),Ee=!1}return Ee}finally{E=null,D=he,y=!1}}var H=!1,U=null,q=-1,oe=5,ee=-1;function ge(){return!(r.unstable_now()-ee<oe)}function je(){if(U!==null){var X=r.unstable_now();ee=X;var se=!0;try{se=U(!0,X)}finally{se?Qe():(H=!1,U=null)}}else H=!1}var Qe;if(typeof B=="function")Qe=function(){B(je)};else if(typeof MessageChannel<"u"){var nn=new MessageChannel,dt=nn.port2;nn.port1.onmessage=je,Qe=function(){dt.postMessage(null)}}else Qe=function(){J(je,0)};function Me(X){U=X,H||(H=!0,Qe())}function ut(X,se){q=J(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){R||y||(R=!0,Me(Q))},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return d(k)},r.unstable_next=function(X){switch(D){case 1:case 2:case 3:var se=3;break;default:se=D}var he=D;D=se;try{return X()}finally{D=he}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=D;D=X;try{return se()}finally{D=he}},r.unstable_scheduleCallback=function(X,se,he){var We=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?We+he:We):he=We,X){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=he+I,X={id:S++,callback:se,priorityLevel:X,startTime:he,expirationTime:I,sortIndex:-1},he>We?(X.sortIndex=he,a(A,X),d(k)===null&&X===d(A)&&(V?(z(q),q=-1):V=!0,ut(j,he-We))):(X.sortIndex=I,a(k,X),R||y||(R=!0,Me(Q))),X},r.unstable_shouldYield=ge,r.unstable_wrapCallback=function(X){var se=D;return function(){var he=D;D=se;try{return X.apply(this,arguments)}finally{D=he}}}})(S0);(function(r){r.exports=S0})(E7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=At,fn=mg;function G(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,Ba={};function cr(r,a){as(r,a),as(r+"Capture",a)}function as(r,a){for(Ba[r]=a,r=0;r<a.length;r++)T0.add(a[r])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kg=Object.prototype.hasOwnProperty,S7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uy={},hy={};function D7(r){return kg.call(hy,r)?!0:kg.call(uy,r)?!1:S7.test(r)?hy[r]=!0:(uy[r]=!0,!1)}function T7(r,a,d,h){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P7(r,a,d,h){if(a===null||typeof a>"u"||T7(r,a,d,h))return!0;if(h)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function Wt(r,a,d,h,f,g,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=d,this.propertyName=r,this.type=a,this.sanitizeURL=g,this.removeEmptyString=b}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){It[r]=new Wt(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];It[a]=new Wt(a,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){It[r]=new Wt(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){It[r]=new Wt(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){It[r]=new Wt(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){It[r]=new Wt(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){It[r]=new Wt(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){It[r]=new Wt(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){It[r]=new Wt(r,5,!1,r.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function km(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(mm,km);It[a]=new Wt(a,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(mm,km);It[a]=new Wt(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(mm,km);It[a]=new Wt(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){It[r]=new Wt(r,1,!1,r.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){It[r]=new Wt(r,1,!1,r.toLowerCase(),null,!0,!0)});function bm(r,a,d,h){var f=It.hasOwnProperty(a)?It[a]:null;(f!==null?f.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P7(a,d,f,h)&&(d=null),h||f===null?D7(a)&&(d===null?r.removeAttribute(a):r.setAttribute(a,""+d)):f.mustUseProperty?r[f.propertyName]=d===null?f.type===3?!1:"":d:(a=f.attributeName,h=f.attributeNamespace,d===null?r.removeAttribute(a):(f=f.type,d=f===3||f===4&&d===!0?"":""+d,h?r.setAttributeNS(h,a,d):r.setAttribute(a,d))))}var Bo=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),P0=Symbol.for("react.provider"),I0=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),wg=Symbol.for("react.suspense"),_g=Symbol.for("react.suspense_list"),vm=Symbol.for("react.memo"),Xo=Symbol.for("react.lazy"),B0=Symbol.for("react.offscreen"),fy=Symbol.iterator;function da(r){return r===null||typeof r!="object"?null:(r=fy&&r[fy]||r["@@iterator"],typeof r=="function"?r:null)}var it=Object.assign,Up;function ba(r){if(Up===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Up=a&&a[1]||""}return`
`+Up+r}var Wp=!1;function $p(r,a){if(!r||Wp)return"";Wp=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(A){var h=A}Reflect.construct(r,[],a)}else{try{a.call()}catch(A){h=A}r.call(a.prototype)}else{try{throw Error()}catch(A){h=A}r()}}catch(A){if(A&&h&&typeof A.stack=="string"){for(var f=A.stack.split(`
`),g=h.stack.split(`
`),b=f.length-1,_=g.length-1;1<=b&&0<=_&&f[b]!==g[_];)_--;for(;1<=b&&0<=_;b--,_--)if(f[b]!==g[_]){if(b!==1||_!==1)do if(b--,_--,0>_||f[b]!==g[_]){var k=`
`+f[b].replace(" at new "," at ");return r.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",r.displayName)),k}while(1<=b&&0<=_);break}}}finally{Wp=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?ba(r):""}function I7(r){switch(r.tag){case 5:return ba(r.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return r=$p(r.type,!1),r;case 11:return r=$p(r.type.render,!1),r;case 1:return r=$p(r.type,!0),r;default:return""}}function vg(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Wr:return"Fragment";case Ur:return"Portal";case bg:return"Profiler";case wm:return"StrictMode";case wg:return"Suspense";case _g:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case I0:return(r.displayName||"Context")+".Consumer";case P0:return(r._context.displayName||"Context")+".Provider";case _m:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case vm:return a=r.displayName||null,a!==null?a:vg(r.type)||"Memo";case Xo:a=r._payload,r=r._init;try{return vg(r(a))}catch{}}return null}function B7(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(a);case 8:return a===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fi(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function R0(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function R7(r){var a=R0(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var f=d.get,g=d.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){h=""+b,g.call(this,b)}}),Object.defineProperty(r,a,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Oc(r){r._valueTracker||(r._valueTracker=R7(r))}function O0(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var d=a.getValue(),h="";return r&&(h=R0(r)?r.checked?"true":"false":r.value),r=h,r!==d?(a.setValue(r),!0):!1}function ld(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Cg(r,a){var d=a.checked;return it({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function py(r,a){var d=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;d=fi(a.value!=null?a.value:d),r._wrapperState={initialChecked:h,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function z0(r,a){a=a.checked,a!=null&&bm(r,"checked",a,!1)}function Ag(r,a){z0(r,a);var d=fi(a.value),h=a.type;if(d!=null)h==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?yg(r,a.type,d):a.hasOwnProperty("defaultValue")&&yg(r,a.type,fi(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function gy(r,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,d||a===r.value||(r.value=a),r.defaultValue=a}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function yg(r,a,d){(a!=="number"||ld(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var wa=Array.isArray;function ts(r,a,d,h){if(r=r.options,a){a={};for(var f=0;f<d.length;f++)a["$"+d[f]]=!0;for(d=0;d<r.length;d++)f=a.hasOwnProperty("$"+r[d].value),r[d].selected!==f&&(r[d].selected=f),f&&h&&(r[d].defaultSelected=!0)}else{for(d=""+fi(d),a=null,f=0;f<r.length;f++){if(r[f].value===d){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function xg(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function my(r,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(G(92));if(wa(d)){if(1<d.length)throw Error(G(93));d=d[0]}a=d}a==null&&(a=""),d=a}r._wrapperState={initialValue:fi(d)}}function M0(r,a){var d=fi(a.value),h=fi(a.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),a.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),h!=null&&(r.defaultValue=""+h)}function ky(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function N0(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eg(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?N0(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var zc,F0=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,h,f){MSApp.execUnsafeLocalFunction(function(){return r(a,d,h,f)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=zc.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Ra(r,a){if(a){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=a;return}}r.textContent=a}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O7=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(r){O7.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Aa[a]=Aa[r]})});function L0(r,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Aa.hasOwnProperty(r)&&Aa[r]?(""+a).trim():a+"px"}function V0(r,a){r=r.style;for(var d in a)if(a.hasOwnProperty(d)){var h=d.indexOf("--")===0,f=L0(d,a[d],h);d==="float"&&(d="cssFloat"),h?r.setProperty(d,f):r[d]=f}}var z7=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sg(r,a){if(a){if(z7[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(G(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(G(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(G(61))}if(a.style!=null&&typeof a.style!="object")throw Error(G(62))}}function Dg(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function Cm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pg=null,ns=null,os=null;function by(r){if(r=Xa(r)){if(typeof Pg!="function")throw Error(G(280));var a=r.stateNode;a&&(a=Fd(a),Pg(r.stateNode,r.type,a))}}function j0(r){ns?os?os.push(r):os=[r]:ns=r}function H0(){if(ns){var r=ns,a=os;if(os=ns=null,by(r),a)for(r=0;r<a.length;r++)by(a[r])}}function U0(r,a){return r(a)}function W0(){}var qp=!1;function $0(r,a,d){if(qp)return r(a,d);qp=!0;try{return U0(r,a,d)}finally{qp=!1,(ns!==null||os!==null)&&(W0(),H0())}}function Oa(r,a){var d=r.stateNode;if(d===null)return null;var h=Fd(d);if(h===null)return null;d=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(G(231,a,typeof d));return d}var Ig=!1;if(Do)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Ig=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Ig=!1}function M7(r,a,d,h,f,g,b,_,k){var A=Array.prototype.slice.call(arguments,3);try{a.apply(d,A)}catch(S){this.onError(S)}}var ya=!1,cd=null,dd=!1,Bg=null,N7={onError:function(r){ya=!0,cd=r}};function F7(r,a,d,h,f,g,b,_,k){ya=!1,cd=null,M7.apply(N7,arguments)}function L7(r,a,d,h,f,g,b,_,k){if(F7.apply(this,arguments),ya){if(ya){var A=cd;ya=!1,cd=null}else throw Error(G(198));dd||(dd=!0,Bg=A)}}function dr(r){var a=r,d=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(d=a.return),r=a.return;while(r)}return a.tag===3?d:null}function q0(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function wy(r){if(dr(r)!==r)throw Error(G(188))}function V7(r){var a=r.alternate;if(!a){if(a=dr(r),a===null)throw Error(G(188));return a!==r?null:r}for(var d=r,h=a;;){var f=d.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){d=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===d)return wy(f),r;if(g===h)return wy(f),a;g=g.sibling}throw Error(G(188))}if(d.return!==h.return)d=f,h=g;else{for(var b=!1,_=f.child;_;){if(_===d){b=!0,d=f,h=g;break}if(_===h){b=!0,h=f,d=g;break}_=_.sibling}if(!b){for(_=g.child;_;){if(_===d){b=!0,d=g,h=f;break}if(_===h){b=!0,h=g,d=f;break}_=_.sibling}if(!b)throw Error(G(189))}}if(d.alternate!==h)throw Error(G(190))}if(d.tag!==3)throw Error(G(188));return d.stateNode.current===d?r:a}function K0(r){return r=V7(r),r!==null?G0(r):null}function G0(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=G0(r);if(a!==null)return a;r=r.sibling}return null}var Q0=fn.unstable_scheduleCallback,_y=fn.unstable_cancelCallback,j7=fn.unstable_shouldYield,H7=fn.unstable_requestPaint,ft=fn.unstable_now,U7=fn.unstable_getCurrentPriorityLevel,Am=fn.unstable_ImmediatePriority,Z0=fn.unstable_UserBlockingPriority,ud=fn.unstable_NormalPriority,W7=fn.unstable_LowPriority,J0=fn.unstable_IdlePriority,Od=null,co=null;function $7(r){if(co&&typeof co.onCommitFiberRoot=="function")try{co.onCommitFiberRoot(Od,r,void 0,(r.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:G7,q7=Math.log,K7=Math.LN2;function G7(r){return r>>>=0,r===0?32:31-(q7(r)/K7|0)|0}var Mc=64,Nc=4194304;function _a(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function hd(r,a){var d=r.pendingLanes;if(d===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,b=d&268435455;if(b!==0){var _=b&~f;_!==0?h=_a(_):(g&=b,g!==0&&(h=_a(g)))}else b=d&~f,b!==0?h=_a(b):g!==0&&(h=_a(g));if(h===0)return 0;if(a!==0&&a!==h&&!(a&f)&&(f=h&-h,g=a&-a,f>=g||f===16&&(g&4194240)!==0))return a;if(h&4&&(h|=d&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=h;0<a;)d=31-Un(a),f=1<<d,h|=r[d],a&=~f;return h}function Q7(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z7(r,a){for(var d=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var b=31-Un(g),_=1<<b,k=f[b];k===-1?(!(_&d)||_&h)&&(f[b]=Q7(_,a)):k<=a&&(r.expiredLanes|=_),g&=~_}}function Rg(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Y0(){var r=Mc;return Mc<<=1,!(Mc&4194240)&&(Mc=64),r}function Kp(r){for(var a=[],d=0;31>d;d++)a.push(r);return a}function Ja(r,a,d){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Un(a),r[a]=d}function J7(r,a){var d=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<d;){var f=31-Un(d),g=1<<f;a[f]=0,h[f]=-1,r[f]=-1,d&=~g}}function ym(r,a){var d=r.entangledLanes|=a;for(r=r.entanglements;d;){var h=31-Un(d),f=1<<h;f&a|r[h]&a&&(r[h]|=a),d&=~f}}var Ie=0;function X0(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var e1,xm,t1,n1,o1,Og=!1,Fc=[],ri=null,si=null,ai=null,za=new Map,Ma=new Map,ti=[],Y7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(r,a){switch(r){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":za.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(a.pointerId)}}function ha(r,a,d,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:d,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},a!==null&&(a=Xa(a),a!==null&&xm(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function X7(r,a,d,h,f){switch(a){case"focusin":return ri=ha(ri,r,a,d,h,f),!0;case"dragenter":return si=ha(si,r,a,d,h,f),!0;case"mouseover":return ai=ha(ai,r,a,d,h,f),!0;case"pointerover":var g=f.pointerId;return za.set(g,ha(za.get(g)||null,r,a,d,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Ma.set(g,ha(Ma.get(g)||null,r,a,d,h,f)),!0}return!1}function i1(r){var a=Xi(r.target);if(a!==null){var d=dr(a);if(d!==null){if(a=d.tag,a===13){if(a=q0(d),a!==null){r.blockedOn=a,o1(r.priority,function(){t1(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jc(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var d=zg(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);Tg=h,d.target.dispatchEvent(h),Tg=null}else return a=Xa(d),a!==null&&xm(a),r.blockedOn=d,!1;a.shift()}return!0}function Cy(r,a,d){Jc(r)&&d.delete(a)}function e6(){Og=!1,ri!==null&&Jc(ri)&&(ri=null),si!==null&&Jc(si)&&(si=null),ai!==null&&Jc(ai)&&(ai=null),za.forEach(Cy),Ma.forEach(Cy)}function fa(r,a){r.blockedOn===a&&(r.blockedOn=null,Og||(Og=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,e6)))}function Na(r){function a(f){return fa(f,r)}if(0<Fc.length){fa(Fc[0],r);for(var d=1;d<Fc.length;d++){var h=Fc[d];h.blockedOn===r&&(h.blockedOn=null)}}for(ri!==null&&fa(ri,r),si!==null&&fa(si,r),ai!==null&&fa(ai,r),za.forEach(a),Ma.forEach(a),d=0;d<ti.length;d++)h=ti[d],h.blockedOn===r&&(h.blockedOn=null);for(;0<ti.length&&(d=ti[0],d.blockedOn===null);)i1(d),d.blockedOn===null&&ti.shift()}var is=Bo.ReactCurrentBatchConfig,fd=!0;function t6(r,a,d,h){var f=Ie,g=is.transition;is.transition=null;try{Ie=1,Em(r,a,d,h)}finally{Ie=f,is.transition=g}}function n6(r,a,d,h){var f=Ie,g=is.transition;is.transition=null;try{Ie=4,Em(r,a,d,h)}finally{Ie=f,is.transition=g}}function Em(r,a,d,h){if(fd){var f=zg(r,a,d,h);if(f===null)og(r,a,h,pd,d),vy(r,h);else if(X7(f,r,a,d,h))h.stopPropagation();else if(vy(r,h),a&4&&-1<Y7.indexOf(r)){for(;f!==null;){var g=Xa(f);if(g!==null&&e1(g),g=zg(r,a,d,h),g===null&&og(r,a,h,pd,d),g===f)break;f=g}f!==null&&h.stopPropagation()}else og(r,a,h,null,d)}}var pd=null;function zg(r,a,d,h){if(pd=null,r=Cm(h),r=Xi(r),r!==null)if(a=dr(r),a===null)r=null;else if(d=a.tag,d===13){if(r=q0(a),r!==null)return r;r=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return pd=r,null}function r1(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U7()){case Am:return 1;case Z0:return 4;case ud:case W7:return 16;case J0:return 536870912;default:return 16}default:return 16}}var oi=null,Sm=null,Yc=null;function s1(){if(Yc)return Yc;var r,a=Sm,d=a.length,h,f="value"in oi?oi.value:oi.textContent,g=f.length;for(r=0;r<d&&a[r]===f[r];r++);var b=d-r;for(h=1;h<=b&&a[d-h]===f[g-h];h++);return Yc=f.slice(r,1<h?1-h:void 0)}function Xc(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Lc(){return!0}function Ay(){return!1}function gn(r){function a(d,h,f,g,b){this._reactName=d,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var _ in r)r.hasOwnProperty(_)&&(d=r[_],this[_]=d?d(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lc:Ay,this.isPropagationStopped=Ay,this}return it(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),a}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=gn(gs),Ya=it({},gs,{view:0,detail:0}),o6=gn(Ya),Gp,Qp,pa,zd=it({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==pa&&(pa&&r.type==="mousemove"?(Gp=r.screenX-pa.screenX,Qp=r.screenY-pa.screenY):Qp=Gp=0,pa=r),Gp)},movementY:function(r){return"movementY"in r?r.movementY:Qp}}),yy=gn(zd),i6=it({},zd,{dataTransfer:0}),r6=gn(i6),s6=it({},Ya,{relatedTarget:0}),Zp=gn(s6),a6=it({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),l6=gn(a6),c6=it({},gs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),d6=gn(c6),u6=it({},gs,{data:0}),xy=gn(u6),h6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g6(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=p6[r])?!!a[r]:!1}function Tm(){return g6}var m6=it({},Ya,{key:function(r){if(r.key){var a=h6[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Xc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?f6[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(r){return r.type==="keypress"?Xc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),k6=gn(m6),b6=it({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ey=gn(b6),w6=it({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),_6=gn(w6),v6=it({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C6=gn(v6),A6=it({},zd,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),y6=gn(A6),x6=[9,13,27,32],Pm=Do&&"CompositionEvent"in window,xa=null;Do&&"documentMode"in document&&(xa=document.documentMode);var E6=Do&&"TextEvent"in window&&!xa,a1=Do&&(!Pm||xa&&8<xa&&11>=xa),Sy=String.fromCharCode(32),Dy=!1;function l1(r,a){switch(r){case"keyup":return x6.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c1(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var $r=!1;function S6(r,a){switch(r){case"compositionend":return c1(a);case"keypress":return a.which!==32?null:(Dy=!0,Sy);case"textInput":return r=a.data,r===Sy&&Dy?null:r;default:return null}}function D6(r,a){if($r)return r==="compositionend"||!Pm&&l1(r,a)?(r=s1(),Yc=Sm=oi=null,$r=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return a1&&a.locale!=="ko"?null:a.data;default:return null}}var T6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!T6[r.type]:a==="textarea"}function d1(r,a,d,h){j0(h),a=gd(a,"onChange"),0<a.length&&(d=new Dm("onChange","change",null,d,h),r.push({event:d,listeners:a}))}var Ea=null,Fa=null;function P6(r){v1(r,0)}function Md(r){var a=Gr(r);if(O0(a))return r}function I6(r,a){if(r==="change")return a}var u1=!1;if(Do){var Jp;if(Do){var Yp="oninput"in document;if(!Yp){var Py=document.createElement("div");Py.setAttribute("oninput","return;"),Yp=typeof Py.oninput=="function"}Jp=Yp}else Jp=!1;u1=Jp&&(!document.documentMode||9<document.documentMode)}function Iy(){Ea&&(Ea.detachEvent("onpropertychange",h1),Fa=Ea=null)}function h1(r){if(r.propertyName==="value"&&Md(Fa)){var a=[];d1(a,Fa,r,Cm(r)),$0(P6,a)}}function B6(r,a,d){r==="focusin"?(Iy(),Ea=a,Fa=d,Ea.attachEvent("onpropertychange",h1)):r==="focusout"&&Iy()}function R6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Md(Fa)}function O6(r,a){if(r==="click")return Md(a)}function z6(r,a){if(r==="input"||r==="change")return Md(a)}function M6(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var $n=typeof Object.is=="function"?Object.is:M6;function La(r,a){if($n(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var d=Object.keys(r),h=Object.keys(a);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var f=d[h];if(!kg.call(a,f)||!$n(r[f],a[f]))return!1}return!0}function By(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ry(r,a){var d=By(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=a&&h>=a)return{node:d,offset:a-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=By(d)}}function f1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?f1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function p1(){for(var r=window,a=ld();a instanceof r.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)r=a.contentWindow;else break;a=ld(r.document)}return a}function Im(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function N6(r){var a=p1(),d=r.focusedElem,h=r.selectionRange;if(a!==d&&d&&d.ownerDocument&&f1(d.ownerDocument.documentElement,d)){if(h!==null&&Im(d)){if(a=h.start,r=h.end,r===void 0&&(r=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(r,d.value.length);else if(r=(a=d.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var f=d.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Ry(d,g);var b=Ry(d,h);f&&b&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(a),r.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),r.addRange(a)))}}for(a=[],r=d;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)r=a[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var F6=Do&&"documentMode"in document&&11>=document.documentMode,qr=null,Mg=null,Sa=null,Ng=!1;function Oy(r,a,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ng||qr==null||qr!==ld(h)||(h=qr,"selectionStart"in h&&Im(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sa&&La(Sa,h)||(Sa=h,h=gd(Mg,"onSelect"),0<h.length&&(a=new Dm("onSelect","select",null,a,d),r.push({event:a,listeners:h}),a.target=qr)))}function Vc(r,a){var d={};return d[r.toLowerCase()]=a.toLowerCase(),d["Webkit"+r]="webkit"+a,d["Moz"+r]="moz"+a,d}var Kr={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Xp={},g1={};Do&&(g1=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Nd(r){if(Xp[r])return Xp[r];if(!Kr[r])return r;var a=Kr[r],d;for(d in a)if(a.hasOwnProperty(d)&&d in g1)return Xp[r]=a[d];return r}var m1=Nd("animationend"),k1=Nd("animationiteration"),b1=Nd("animationstart"),w1=Nd("transitionend"),_1=new Map,zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(r,a){_1.set(r,a),cr(a,[r])}for(var eg=0;eg<zy.length;eg++){var tg=zy[eg],L6=tg.toLowerCase(),V6=tg[0].toUpperCase()+tg.slice(1);gi(L6,"on"+V6)}gi(m1,"onAnimationEnd");gi(k1,"onAnimationIteration");gi(b1,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(w1,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j6=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function My(r,a,d){var h=r.type||"unknown-event";r.currentTarget=d,L7(h,a,void 0,r),r.currentTarget=null}function v1(r,a){a=(a&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],f=h.event;h=h.listeners;e:{var g=void 0;if(a)for(var b=h.length-1;0<=b;b--){var _=h[b],k=_.instance,A=_.currentTarget;if(_=_.listener,k!==g&&f.isPropagationStopped())break e;My(f,_,A),g=k}else for(b=0;b<h.length;b++){if(_=h[b],k=_.instance,A=_.currentTarget,_=_.listener,k!==g&&f.isPropagationStopped())break e;My(f,_,A),g=k}}}if(dd)throw r=Bg,dd=!1,Bg=null,r}function Ke(r,a){var d=a[Hg];d===void 0&&(d=a[Hg]=new Set);var h=r+"__bubble";d.has(h)||(C1(a,r,2,!1),d.add(h))}function ng(r,a,d){var h=0;a&&(h|=4),C1(d,r,h,a)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Va(r){if(!r[jc]){r[jc]=!0,T0.forEach(function(d){d!=="selectionchange"&&(j6.has(d)||ng(d,!1,r),ng(d,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[jc]||(a[jc]=!0,ng("selectionchange",!1,a))}}function C1(r,a,d,h){switch(r1(a)){case 1:var f=t6;break;case 4:f=n6;break;default:f=Em}d=f.bind(null,a,d,r),f=void 0,!Ig||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(a,d,{capture:!0,passive:f}):r.addEventListener(a,d,!0):f!==void 0?r.addEventListener(a,d,{passive:f}):r.addEventListener(a,d,!1)}function og(r,a,d,h,f){var g=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var _=h.stateNode.containerInfo;if(_===f||_.nodeType===8&&_.parentNode===f)break;if(b===4)for(b=h.return;b!==null;){var k=b.tag;if((k===3||k===4)&&(k=b.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;b=b.return}for(;_!==null;){if(b=Xi(_),b===null)return;if(k=b.tag,k===5||k===6){h=g=b;continue e}_=_.parentNode}}h=h.return}$0(function(){var A=g,S=Cm(d),E=[];e:{var D=_1.get(r);if(D!==void 0){var y=Dm,R=r;switch(r){case"keypress":if(Xc(d)===0)break e;case"keydown":case"keyup":y=k6;break;case"focusin":R="focus",y=Zp;break;case"focusout":R="blur",y=Zp;break;case"beforeblur":case"afterblur":y=Zp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=r6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_6;break;case m1:case k1:case b1:y=l6;break;case w1:y=C6;break;case"scroll":y=o6;break;case"wheel":y=y6;break;case"copy":case"cut":case"paste":y=d6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ey}var V=(a&4)!==0,J=!V&&r==="scroll",z=V?D!==null?D+"Capture":null:D;V=[];for(var B=A,O;B!==null;){O=B;var j=O.stateNode;if(O.tag===5&&j!==null&&(O=j,z!==null&&(j=Oa(B,z),j!=null&&V.push(ja(B,j,O)))),J)break;B=B.return}0<V.length&&(D=new y(D,R,null,d,S),E.push({event:D,listeners:V}))}}if(!(a&7)){e:{if(D=r==="mouseover"||r==="pointerover",y=r==="mouseout"||r==="pointerout",D&&d!==Tg&&(R=d.relatedTarget||d.fromElement)&&(Xi(R)||R[To]))break e;if((y||D)&&(D=S.window===S?S:(D=S.ownerDocument)?D.defaultView||D.parentWindow:window,y?(R=d.relatedTarget||d.toElement,y=A,R=R?Xi(R):null,R!==null&&(J=dr(R),R!==J||R.tag!==5&&R.tag!==6)&&(R=null)):(y=null,R=A),y!==R)){if(V=yy,j="onMouseLeave",z="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(V=Ey,j="onPointerLeave",z="onPointerEnter",B="pointer"),J=y==null?D:Gr(y),O=R==null?D:Gr(R),D=new V(j,B+"leave",y,d,S),D.target=J,D.relatedTarget=O,j=null,Xi(S)===A&&(V=new V(z,B+"enter",R,d,S),V.target=O,V.relatedTarget=J,j=V),J=j,y&&R)t:{for(V=y,z=R,B=0,O=V;O;O=Hr(O))B++;for(O=0,j=z;j;j=Hr(j))O++;for(;0<B-O;)V=Hr(V),B--;for(;0<O-B;)z=Hr(z),O--;for(;B--;){if(V===z||z!==null&&V===z.alternate)break t;V=Hr(V),z=Hr(z)}V=null}else V=null;y!==null&&Ny(E,D,y,V,!1),R!==null&&J!==null&&Ny(E,J,R,V,!0)}}e:{if(D=A?Gr(A):window,y=D.nodeName&&D.nodeName.toLowerCase(),y==="select"||y==="input"&&D.type==="file")var Q=I6;else if(Ty(D))if(u1)Q=z6;else{Q=R6;var H=B6}else(y=D.nodeName)&&y.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Q=O6);if(Q&&(Q=Q(r,A))){d1(E,Q,d,S);break e}H&&H(r,D,A),r==="focusout"&&(H=D._wrapperState)&&H.controlled&&D.type==="number"&&yg(D,"number",D.value)}switch(H=A?Gr(A):window,r){case"focusin":(Ty(H)||H.contentEditable==="true")&&(qr=H,Mg=A,Sa=null);break;case"focusout":Sa=Mg=qr=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,Oy(E,d,S);break;case"selectionchange":if(F6)break;case"keydown":case"keyup":Oy(E,d,S)}var U;if(Pm)e:{switch(r){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else $r?l1(r,d)&&(q="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(q="onCompositionStart");q&&(a1&&d.locale!=="ko"&&($r||q!=="onCompositionStart"?q==="onCompositionEnd"&&$r&&(U=s1()):(oi=S,Sm="value"in oi?oi.value:oi.textContent,$r=!0)),H=gd(A,q),0<H.length&&(q=new xy(q,r,null,d,S),E.push({event:q,listeners:H}),U?q.data=U:(U=c1(d),U!==null&&(q.data=U)))),(U=E6?S6(r,d):D6(r,d))&&(A=gd(A,"onBeforeInput"),0<A.length&&(S=new xy("onBeforeInput","beforeinput",null,d,S),E.push({event:S,listeners:A}),S.data=U))}v1(E,a)})}function ja(r,a,d){return{instance:r,listener:a,currentTarget:d}}function gd(r,a){for(var d=a+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Oa(r,d),g!=null&&h.unshift(ja(r,g,f)),g=Oa(r,a),g!=null&&h.push(ja(r,g,f))),r=r.return}return h}function Hr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ny(r,a,d,h,f){for(var g=a._reactName,b=[];d!==null&&d!==h;){var _=d,k=_.alternate,A=_.stateNode;if(k!==null&&k===h)break;_.tag===5&&A!==null&&(_=A,f?(k=Oa(d,g),k!=null&&b.unshift(ja(d,k,_))):f||(k=Oa(d,g),k!=null&&b.push(ja(d,k,_)))),d=d.return}b.length!==0&&r.push({event:a,listeners:b})}var H6=/\r\n?/g,U6=/\u0000|\uFFFD/g;function Fy(r){return(typeof r=="string"?r:""+r).replace(H6,`
`).replace(U6,"")}function Hc(r,a,d){if(a=Fy(a),Fy(r)!==a&&d)throw Error(G(425))}function md(){}var Fg=null,Lg=null;function Vg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jg=typeof setTimeout=="function"?setTimeout:void 0,W6=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,$6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(r){return Ly.resolve(null).then(r).catch(q6)}:jg;function q6(r){setTimeout(function(){throw r})}function ig(r,a){var d=a,h=0;do{var f=d.nextSibling;if(r.removeChild(d),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(h===0){r.removeChild(f),Na(a);return}h--}else d!=="$"&&d!=="$?"&&d!=="$!"||h++;d=f}while(d);Na(a)}function li(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function Vy(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return r;a--}else d==="/$"&&a++}r=r.previousSibling}return null}var ms=Math.random().toString(36).slice(2),lo="__reactFiber$"+ms,Ha="__reactProps$"+ms,To="__reactContainer$"+ms,Hg="__reactEvents$"+ms,K6="__reactListeners$"+ms,G6="__reactHandles$"+ms;function Xi(r){var a=r[lo];if(a)return a;for(var d=r.parentNode;d;){if(a=d[To]||d[lo]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(r=Vy(r);r!==null;){if(d=r[lo])return d;r=Vy(r)}return a}r=d,d=r.parentNode}return null}function Xa(r){return r=r[lo]||r[To],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Gr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(G(33))}function Fd(r){return r[Ha]||null}var Ug=[],Qr=-1;function mi(r){return{current:r}}function Ge(r){0>Qr||(r.current=Ug[Qr],Ug[Qr]=null,Qr--)}function Ue(r,a){Qr++,Ug[Qr]=r.current,r.current=a}var pi={},Nt=mi(pi),Xt=mi(!1),ir=pi;function ls(r,a){var d=r.type.contextTypes;if(!d)return pi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in d)f[g]=a[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=f),f}function en(r){return r=r.childContextTypes,r!=null}function kd(){Ge(Xt),Ge(Nt)}function jy(r,a,d){if(Nt.current!==pi)throw Error(G(168));Ue(Nt,a),Ue(Xt,d)}function A1(r,a,d){var h=r.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return d;h=h.getChildContext();for(var f in h)if(!(f in a))throw Error(G(108,B7(r)||"Unknown",f));return it({},d,h)}function bd(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,ir=Nt.current,Ue(Nt,r),Ue(Xt,Xt.current),!0}function Hy(r,a,d){var h=r.stateNode;if(!h)throw Error(G(169));d?(r=A1(r,a,ir),h.__reactInternalMemoizedMergedChildContext=r,Ge(Xt),Ge(Nt),Ue(Nt,r)):Ge(Xt),Ue(Xt,d)}var Ao=null,Ld=!1,rg=!1;function y1(r){Ao===null?Ao=[r]:Ao.push(r)}function Q6(r){Ld=!0,y1(r)}function ki(){if(!rg&&Ao!==null){rg=!0;var r=0,a=Ie;try{var d=Ao;for(Ie=1;r<d.length;r++){var h=d[r];do h=h(!0);while(h!==null)}Ao=null,Ld=!1}catch(f){throw Ao!==null&&(Ao=Ao.slice(r+1)),Q0(Am,ki),f}finally{Ie=a,rg=!1}}return null}var Zr=[],Jr=0,wd=null,_d=0,An=[],yn=0,rr=null,xo=1,Eo="";function Ji(r,a){Zr[Jr++]=_d,Zr[Jr++]=wd,wd=r,_d=a}function x1(r,a,d){An[yn++]=xo,An[yn++]=Eo,An[yn++]=rr,rr=r;var h=xo;r=Eo;var f=32-Un(h)-1;h&=~(1<<f),d+=1;var g=32-Un(a)+f;if(30<g){var b=f-f%5;g=(h&(1<<b)-1).toString(32),h>>=b,f-=b,xo=1<<32-Un(a)+f|d<<f|h,Eo=g+r}else xo=1<<g|d<<f|h,Eo=r}function Bm(r){r.return!==null&&(Ji(r,1),x1(r,1,0))}function Rm(r){for(;r===wd;)wd=Zr[--Jr],Zr[Jr]=null,_d=Zr[--Jr],Zr[Jr]=null;for(;r===rr;)rr=An[--yn],An[yn]=null,Eo=An[--yn],An[yn]=null,xo=An[--yn],An[yn]=null}var hn=null,un=null,Ze=!1,Hn=null;function E1(r,a){var d=xn(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=r,a=r.deletions,a===null?(r.deletions=[d],r.flags|=16):a.push(d)}function Uy(r,a){switch(r.tag){case 5:var d=r.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,hn=r,un=li(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,hn=r,un=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=rr!==null?{id:xo,overflow:Eo}:null,r.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=xn(18,null,null,0),d.stateNode=a,d.return=r,r.child=d,hn=r,un=null,!0):!1;default:return!1}}function Wg(r){return(r.mode&1)!==0&&(r.flags&128)===0}function $g(r){if(Ze){var a=un;if(a){var d=a;if(!Uy(r,a)){if(Wg(r))throw Error(G(418));a=li(d.nextSibling);var h=hn;a&&Uy(r,a)?E1(h,d):(r.flags=r.flags&-4097|2,Ze=!1,hn=r)}}else{if(Wg(r))throw Error(G(418));r.flags=r.flags&-4097|2,Ze=!1,hn=r}}}function Wy(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;hn=r}function Uc(r){if(r!==hn)return!1;if(!Ze)return Wy(r),Ze=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Vg(r.type,r.memoizedProps)),a&&(a=un)){if(Wg(r))throw S1(),Error(G(418));for(;a;)E1(r,a),a=li(a.nextSibling)}if(Wy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(G(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(a===0){un=li(r.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}r=r.nextSibling}un=null}}else un=hn?li(r.stateNode.nextSibling):null;return!0}function S1(){for(var r=un;r;)r=li(r.nextSibling)}function cs(){un=hn=null,Ze=!1}function Om(r){Hn===null?Hn=[r]:Hn.push(r)}var Z6=Bo.ReactCurrentBatchConfig;function Vn(r,a){if(r&&r.defaultProps){a=it({},a),r=r.defaultProps;for(var d in r)a[d]===void 0&&(a[d]=r[d]);return a}return a}var vd=mi(null),Cd=null,Yr=null,zm=null;function Mm(){zm=Yr=Cd=null}function Nm(r){var a=vd.current;Ge(vd),r._currentValue=a}function qg(r,a,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===d)break;r=r.return}}function rs(r,a){Cd=r,zm=Yr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(Yt=!0),r.firstContext=null)}function Sn(r){var a=r._currentValue;if(zm!==r)if(r={context:r,memoizedValue:a,next:null},Yr===null){if(Cd===null)throw Error(G(308));Yr=r,Cd.dependencies={lanes:0,firstContext:r}}else Yr=Yr.next=r;return a}var er=null;function Fm(r){er===null?er=[r]:er.push(r)}function D1(r,a,d,h){var f=a.interleaved;return f===null?(d.next=d,Fm(a)):(d.next=f.next,f.next=d),a.interleaved=d,Po(r,h)}function Po(r,a){r.lanes|=a;var d=r.alternate;for(d!==null&&(d.lanes|=a),d=r,r=r.return;r!==null;)r.childLanes|=a,d=r.alternate,d!==null&&(d.childLanes|=a),d=r,r=r.return;return d.tag===3?d.stateNode:null}var ei=!1;function Lm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T1(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function So(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function ci(r,a,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Ae&2){var f=h.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),h.pending=a,Po(r,d)}return f=h.interleaved,f===null?(a.next=a,Fm(h)):(a.next=f.next,f.next=a),h.interleaved=a,Po(r,d)}function ed(r,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var h=a.lanes;h&=r.pendingLanes,d|=h,a.lanes=d,ym(r,d)}}function $y(r,a){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var f=null,g=null;if(d=d.firstBaseUpdate,d!==null){do{var b={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};g===null?f=g=b:g=g.next=b,d=d.next}while(d!==null);g===null?f=g=a:g=g.next=a}else f=g=a;d={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=a:r.next=a,d.lastBaseUpdate=a}function Ad(r,a,d,h){var f=r.updateQueue;ei=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var k=_,A=k.next;k.next=null,b===null?g=A:b.next=A,b=k;var S=r.alternate;S!==null&&(S=S.updateQueue,_=S.lastBaseUpdate,_!==b&&(_===null?S.firstBaseUpdate=A:_.next=A,S.lastBaseUpdate=k))}if(g!==null){var E=f.baseState;b=0,S=A=k=null,_=g;do{var D=_.lane,y=_.eventTime;if((h&D)===D){S!==null&&(S=S.next={eventTime:y,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var R=r,V=_;switch(D=a,y=d,V.tag){case 1:if(R=V.payload,typeof R=="function"){E=R.call(y,E,D);break e}E=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=V.payload,D=typeof R=="function"?R.call(y,E,D):R,D==null)break e;E=it({},E,D);break e;case 2:ei=!0}}_.callback!==null&&_.lane!==0&&(r.flags|=64,D=f.effects,D===null?f.effects=[_]:D.push(_))}else y={eventTime:y,lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},S===null?(A=S=y,k=E):S=S.next=y,b|=D;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;D=_,_=D.next,D.next=null,f.lastBaseUpdate=D,f.shared.pending=null}}while(1);if(S===null&&(k=E),f.baseState=k,f.firstBaseUpdate=A,f.lastBaseUpdate=S,a=f.shared.interleaved,a!==null){f=a;do b|=f.lane,f=f.next;while(f!==a)}else g===null&&(f.shared.lanes=0);ar|=b,r.lanes=b,r.memoizedState=E}}function qy(r,a,d){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var h=r[a],f=h.callback;if(f!==null){if(h.callback=null,h=d,typeof f!="function")throw Error(G(191,f));f.call(h)}}}var P1=new D0.Component().refs;function Kg(r,a,d,h){a=r.memoizedState,d=d(h,a),d=d==null?a:it({},a,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Vd={isMounted:function(r){return(r=r._reactInternals)?dr(r)===r:!1},enqueueSetState:function(r,a,d){r=r._reactInternals;var h=Ht(),f=ui(r),g=So(h,f);g.payload=a,d!=null&&(g.callback=d),a=ci(r,g,f),a!==null&&(Wn(a,r,f,h),ed(a,r,f))},enqueueReplaceState:function(r,a,d){r=r._reactInternals;var h=Ht(),f=ui(r),g=So(h,f);g.tag=1,g.payload=a,d!=null&&(g.callback=d),a=ci(r,g,f),a!==null&&(Wn(a,r,f,h),ed(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var d=Ht(),h=ui(r),f=So(d,h);f.tag=2,a!=null&&(f.callback=a),a=ci(r,f,h),a!==null&&(Wn(a,r,h,d),ed(a,r,h))}};function Ky(r,a,d,h,f,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,b):a.prototype&&a.prototype.isPureReactComponent?!La(d,h)||!La(f,g):!0}function I1(r,a,d){var h=!1,f=pi,g=a.contextType;return typeof g=="object"&&g!==null?g=Sn(g):(f=en(a)?ir:Nt.current,h=a.contextTypes,g=(h=h!=null)?ls(r,f):pi),a=new a(d,g),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vd,r.stateNode=a,a._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),a}function Gy(r,a,d,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,h),a.state!==r&&Vd.enqueueReplaceState(a,a.state,null)}function Gg(r,a,d,h){var f=r.stateNode;f.props=d,f.state=r.memoizedState,f.refs=P1,Lm(r);var g=a.contextType;typeof g=="object"&&g!==null?f.context=Sn(g):(g=en(a)?ir:Nt.current,f.context=ls(r,g)),f.state=r.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Kg(r,a,g,d),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(a=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),a!==f.state&&Vd.enqueueReplaceState(f,f.state,null),Ad(r,d,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ga(r,a,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(G(309));var h=d.stateNode}if(!h)throw Error(G(147,r));var f=h,g=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===g?a.ref:(a=function(b){var _=f.refs;_===P1&&(_=f.refs={}),b===null?delete _[g]:_[g]=b},a._stringRef=g,a)}if(typeof r!="string")throw Error(G(284));if(!d._owner)throw Error(G(290,r))}return r}function Wc(r,a){throw r=Object.prototype.toString.call(a),Error(G(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function Qy(r){var a=r._init;return a(r._payload)}function B1(r){function a(z,B){if(r){var O=z.deletions;O===null?(z.deletions=[B],z.flags|=16):O.push(B)}}function d(z,B){if(!r)return null;for(;B!==null;)a(z,B),B=B.sibling;return null}function h(z,B){for(z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function f(z,B){return z=hi(z,B),z.index=0,z.sibling=null,z}function g(z,B,O){return z.index=O,r?(O=z.alternate,O!==null?(O=O.index,O<B?(z.flags|=2,B):O):(z.flags|=2,B)):(z.flags|=1048576,B)}function b(z){return r&&z.alternate===null&&(z.flags|=2),z}function _(z,B,O,j){return B===null||B.tag!==6?(B=hg(O,z.mode,j),B.return=z,B):(B=f(B,O),B.return=z,B)}function k(z,B,O,j){var Q=O.type;return Q===Wr?S(z,B,O.props.children,j,O.key):B!==null&&(B.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Xo&&Qy(Q)===B.type)?(j=f(B,O.props),j.ref=ga(z,B,O),j.return=z,j):(j=sd(O.type,O.key,O.props,null,z.mode,j),j.ref=ga(z,B,O),j.return=z,j)}function A(z,B,O,j){return B===null||B.tag!==4||B.stateNode.containerInfo!==O.containerInfo||B.stateNode.implementation!==O.implementation?(B=fg(O,z.mode,j),B.return=z,B):(B=f(B,O.children||[]),B.return=z,B)}function S(z,B,O,j,Q){return B===null||B.tag!==7?(B=or(O,z.mode,j,Q),B.return=z,B):(B=f(B,O),B.return=z,B)}function E(z,B,O){if(typeof B=="string"&&B!==""||typeof B=="number")return B=hg(""+B,z.mode,O),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Rc:return O=sd(B.type,B.key,B.props,null,z.mode,O),O.ref=ga(z,null,B),O.return=z,O;case Ur:return B=fg(B,z.mode,O),B.return=z,B;case Xo:var j=B._init;return E(z,j(B._payload),O)}if(wa(B)||da(B))return B=or(B,z.mode,O,null),B.return=z,B;Wc(z,B)}return null}function D(z,B,O,j){var Q=B!==null?B.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Q!==null?null:_(z,B,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Rc:return O.key===Q?k(z,B,O,j):null;case Ur:return O.key===Q?A(z,B,O,j):null;case Xo:return Q=O._init,D(z,B,Q(O._payload),j)}if(wa(O)||da(O))return Q!==null?null:S(z,B,O,j,null);Wc(z,O)}return null}function y(z,B,O,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return z=z.get(O)||null,_(B,z,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rc:return z=z.get(j.key===null?O:j.key)||null,k(B,z,j,Q);case Ur:return z=z.get(j.key===null?O:j.key)||null,A(B,z,j,Q);case Xo:var H=j._init;return y(z,B,O,H(j._payload),Q)}if(wa(j)||da(j))return z=z.get(O)||null,S(B,z,j,Q,null);Wc(B,j)}return null}function R(z,B,O,j){for(var Q=null,H=null,U=B,q=B=0,oe=null;U!==null&&q<O.length;q++){U.index>q?(oe=U,U=null):oe=U.sibling;var ee=D(z,U,O[q],j);if(ee===null){U===null&&(U=oe);break}r&&U&&ee.alternate===null&&a(z,U),B=g(ee,B,q),H===null?Q=ee:H.sibling=ee,H=ee,U=oe}if(q===O.length)return d(z,U),Ze&&Ji(z,q),Q;if(U===null){for(;q<O.length;q++)U=E(z,O[q],j),U!==null&&(B=g(U,B,q),H===null?Q=U:H.sibling=U,H=U);return Ze&&Ji(z,q),Q}for(U=h(z,U);q<O.length;q++)oe=y(U,z,q,O[q],j),oe!==null&&(r&&oe.alternate!==null&&U.delete(oe.key===null?q:oe.key),B=g(oe,B,q),H===null?Q=oe:H.sibling=oe,H=oe);return r&&U.forEach(function(ge){return a(z,ge)}),Ze&&Ji(z,q),Q}function V(z,B,O,j){var Q=da(O);if(typeof Q!="function")throw Error(G(150));if(O=Q.call(O),O==null)throw Error(G(151));for(var H=Q=null,U=B,q=B=0,oe=null,ee=O.next();U!==null&&!ee.done;q++,ee=O.next()){U.index>q?(oe=U,U=null):oe=U.sibling;var ge=D(z,U,ee.value,j);if(ge===null){U===null&&(U=oe);break}r&&U&&ge.alternate===null&&a(z,U),B=g(ge,B,q),H===null?Q=ge:H.sibling=ge,H=ge,U=oe}if(ee.done)return d(z,U),Ze&&Ji(z,q),Q;if(U===null){for(;!ee.done;q++,ee=O.next())ee=E(z,ee.value,j),ee!==null&&(B=g(ee,B,q),H===null?Q=ee:H.sibling=ee,H=ee);return Ze&&Ji(z,q),Q}for(U=h(z,U);!ee.done;q++,ee=O.next())ee=y(U,z,q,ee.value,j),ee!==null&&(r&&ee.alternate!==null&&U.delete(ee.key===null?q:ee.key),B=g(ee,B,q),H===null?Q=ee:H.sibling=ee,H=ee);return r&&U.forEach(function(je){return a(z,je)}),Ze&&Ji(z,q),Q}function J(z,B,O,j){if(typeof O=="object"&&O!==null&&O.type===Wr&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Rc:e:{for(var Q=O.key,H=B;H!==null;){if(H.key===Q){if(Q=O.type,Q===Wr){if(H.tag===7){d(z,H.sibling),B=f(H,O.props.children),B.return=z,z=B;break e}}else if(H.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Xo&&Qy(Q)===H.type){d(z,H.sibling),B=f(H,O.props),B.ref=ga(z,H,O),B.return=z,z=B;break e}d(z,H);break}else a(z,H);H=H.sibling}O.type===Wr?(B=or(O.props.children,z.mode,j,O.key),B.return=z,z=B):(j=sd(O.type,O.key,O.props,null,z.mode,j),j.ref=ga(z,B,O),j.return=z,z=j)}return b(z);case Ur:e:{for(H=O.key;B!==null;){if(B.key===H)if(B.tag===4&&B.stateNode.containerInfo===O.containerInfo&&B.stateNode.implementation===O.implementation){d(z,B.sibling),B=f(B,O.children||[]),B.return=z,z=B;break e}else{d(z,B);break}else a(z,B);B=B.sibling}B=fg(O,z.mode,j),B.return=z,z=B}return b(z);case Xo:return H=O._init,J(z,B,H(O._payload),j)}if(wa(O))return R(z,B,O,j);if(da(O))return V(z,B,O,j);Wc(z,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,B!==null&&B.tag===6?(d(z,B.sibling),B=f(B,O),B.return=z,z=B):(d(z,B),B=hg(O,z.mode,j),B.return=z,z=B),b(z)):d(z,B)}return J}var ds=B1(!0),R1=B1(!1),el={},uo=mi(el),Ua=mi(el),Wa=mi(el);function tr(r){if(r===el)throw Error(G(174));return r}function Vm(r,a){switch(Ue(Wa,a),Ue(Ua,r),Ue(uo,el),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Eg(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Eg(a,r)}Ge(uo),Ue(uo,a)}function us(){Ge(uo),Ge(Ua),Ge(Wa)}function O1(r){tr(Wa.current);var a=tr(uo.current),d=Eg(a,r.type);a!==d&&(Ue(Ua,r),Ue(uo,d))}function jm(r){Ua.current===r&&(Ge(uo),Ge(Ua))}var nt=mi(0);function yd(r){for(var a=r;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var sg=[];function Hm(){for(var r=0;r<sg.length;r++)sg[r]._workInProgressVersionPrimary=null;sg.length=0}var td=Bo.ReactCurrentDispatcher,ag=Bo.ReactCurrentBatchConfig,sr=0,ot=null,bt=null,yt=null,xd=!1,Da=!1,$a=0,J6=0;function Ot(){throw Error(G(321))}function Um(r,a){if(a===null)return!1;for(var d=0;d<a.length&&d<r.length;d++)if(!$n(r[d],a[d]))return!1;return!0}function Wm(r,a,d,h,f,g){if(sr=g,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,td.current=r===null||r.memoizedState===null?tL:nL,r=d(h,f),Da){g=0;do{if(Da=!1,$a=0,25<=g)throw Error(G(301));g+=1,yt=bt=null,a.updateQueue=null,td.current=oL,r=d(h,f)}while(Da)}if(td.current=Ed,a=bt!==null&&bt.next!==null,sr=0,yt=bt=ot=null,xd=!1,a)throw Error(G(300));return r}function $m(){var r=$a!==0;return $a=0,r}function ao(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ot.memoizedState=yt=r:yt=yt.next=r,yt}function Dn(){if(bt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var a=yt===null?ot.memoizedState:yt.next;if(a!==null)yt=a,bt=r;else{if(r===null)throw Error(G(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},yt===null?ot.memoizedState=yt=r:yt=yt.next=r}return yt}function qa(r,a){return typeof a=="function"?a(r):a}function lg(r){var a=Dn(),d=a.queue;if(d===null)throw Error(G(311));d.lastRenderedReducer=r;var h=bt,f=h.baseQueue,g=d.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}h.baseQueue=f=g,d.pending=null}if(f!==null){g=f.next,h=h.baseState;var _=b=null,k=null,A=g;do{var S=A.lane;if((sr&S)===S)k!==null&&(k=k.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),h=A.hasEagerState?A.eagerState:r(h,A.action);else{var E={lane:S,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};k===null?(_=k=E,b=h):k=k.next=E,ot.lanes|=S,ar|=S}A=A.next}while(A!==null&&A!==g);k===null?b=h:k.next=_,$n(h,a.memoizedState)||(Yt=!0),a.memoizedState=h,a.baseState=b,a.baseQueue=k,d.lastRenderedState=h}if(r=d.interleaved,r!==null){f=r;do g=f.lane,ot.lanes|=g,ar|=g,f=f.next;while(f!==r)}else f===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function cg(r){var a=Dn(),d=a.queue;if(d===null)throw Error(G(311));d.lastRenderedReducer=r;var h=d.dispatch,f=d.pending,g=a.memoizedState;if(f!==null){d.pending=null;var b=f=f.next;do g=r(g,b.action),b=b.next;while(b!==f);$n(g,a.memoizedState)||(Yt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),d.lastRenderedState=g}return[g,h]}function z1(){}function M1(r,a){var d=ot,h=Dn(),f=a(),g=!$n(h.memoizedState,f);if(g&&(h.memoizedState=f,Yt=!0),h=h.queue,qm(L1.bind(null,d,h,r),[r]),h.getSnapshot!==a||g||yt!==null&&yt.memoizedState.tag&1){if(d.flags|=2048,Ka(9,F1.bind(null,d,h,f,a),void 0,null),xt===null)throw Error(G(349));sr&30||N1(d,a,f)}return f}function N1(r,a,d){r.flags|=16384,r={getSnapshot:a,value:d},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.stores=[r]):(d=a.stores,d===null?a.stores=[r]:d.push(r))}function F1(r,a,d,h){a.value=d,a.getSnapshot=h,V1(a)&&j1(r)}function L1(r,a,d){return d(function(){V1(a)&&j1(r)})}function V1(r){var a=r.getSnapshot;r=r.value;try{var d=a();return!$n(r,d)}catch{return!0}}function j1(r){var a=Po(r,1);a!==null&&Wn(a,r,1,-1)}function Zy(r){var a=ao();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},a.queue=r,r=r.dispatch=eL.bind(null,ot,r),[a.memoizedState,r]}function Ka(r,a,d,h){return r={tag:r,create:a,destroy:d,deps:h,next:null},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.lastEffect=r.next=r):(d=a.lastEffect,d===null?a.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,a.lastEffect=r)),r}function H1(){return Dn().memoizedState}function nd(r,a,d,h){var f=ao();ot.flags|=r,f.memoizedState=Ka(1|a,d,void 0,h===void 0?null:h)}function jd(r,a,d,h){var f=Dn();h=h===void 0?null:h;var g=void 0;if(bt!==null){var b=bt.memoizedState;if(g=b.destroy,h!==null&&Um(h,b.deps)){f.memoizedState=Ka(a,d,g,h);return}}ot.flags|=r,f.memoizedState=Ka(1|a,d,g,h)}function Jy(r,a){return nd(8390656,8,r,a)}function qm(r,a){return jd(2048,8,r,a)}function U1(r,a){return jd(4,2,r,a)}function W1(r,a){return jd(4,4,r,a)}function $1(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function q1(r,a,d){return d=d!=null?d.concat([r]):null,jd(4,4,$1.bind(null,a,r),d)}function Km(){}function K1(r,a){var d=Dn();a=a===void 0?null:a;var h=d.memoizedState;return h!==null&&a!==null&&Um(a,h[1])?h[0]:(d.memoizedState=[r,a],r)}function G1(r,a){var d=Dn();a=a===void 0?null:a;var h=d.memoizedState;return h!==null&&a!==null&&Um(a,h[1])?h[0]:(r=r(),d.memoizedState=[r,a],r)}function Q1(r,a,d){return sr&21?($n(d,a)||(d=Y0(),ot.lanes|=d,ar|=d,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,Yt=!0),r.memoizedState=d)}function Y6(r,a){var d=Ie;Ie=d!==0&&4>d?d:4,r(!0);var h=ag.transition;ag.transition={};try{r(!1),a()}finally{Ie=d,ag.transition=h}}function Z1(){return Dn().memoizedState}function X6(r,a,d){var h=ui(r);if(d={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null},J1(r))Y1(a,d);else if(d=D1(r,a,d,h),d!==null){var f=Ht();Wn(d,r,h,f),X1(d,a,h)}}function eL(r,a,d){var h=ui(r),f={lane:h,action:d,hasEagerState:!1,eagerState:null,next:null};if(J1(r))Y1(a,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,_=g(b,d);if(f.hasEagerState=!0,f.eagerState=_,$n(_,b)){var k=a.interleaved;k===null?(f.next=f,Fm(a)):(f.next=k.next,k.next=f),a.interleaved=f;return}}catch{}finally{}d=D1(r,a,f,h),d!==null&&(f=Ht(),Wn(d,r,h,f),X1(d,a,h))}}function J1(r){var a=r.alternate;return r===ot||a!==null&&a===ot}function Y1(r,a){Da=xd=!0;var d=r.pending;d===null?a.next=a:(a.next=d.next,d.next=a),r.pending=a}function X1(r,a,d){if(d&4194240){var h=a.lanes;h&=r.pendingLanes,d|=h,a.lanes=d,ym(r,d)}}var Ed={readContext:Sn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},tL={readContext:Sn,useCallback:function(r,a){return ao().memoizedState=[r,a===void 0?null:a],r},useContext:Sn,useEffect:Jy,useImperativeHandle:function(r,a,d){return d=d!=null?d.concat([r]):null,nd(4194308,4,$1.bind(null,a,r),d)},useLayoutEffect:function(r,a){return nd(4194308,4,r,a)},useInsertionEffect:function(r,a){return nd(4,2,r,a)},useMemo:function(r,a){var d=ao();return a=a===void 0?null:a,r=r(),d.memoizedState=[r,a],r},useReducer:function(r,a,d){var h=ao();return a=d!==void 0?d(a):a,h.memoizedState=h.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},h.queue=r,r=r.dispatch=X6.bind(null,ot,r),[h.memoizedState,r]},useRef:function(r){var a=ao();return r={current:r},a.memoizedState=r},useState:Zy,useDebugValue:Km,useDeferredValue:function(r){return ao().memoizedState=r},useTransition:function(){var r=Zy(!1),a=r[0];return r=Y6.bind(null,r[1]),ao().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,d){var h=ot,f=ao();if(Ze){if(d===void 0)throw Error(G(407));d=d()}else{if(d=a(),xt===null)throw Error(G(349));sr&30||N1(h,a,d)}f.memoizedState=d;var g={value:d,getSnapshot:a};return f.queue=g,Jy(L1.bind(null,h,g,r),[r]),h.flags|=2048,Ka(9,F1.bind(null,h,g,d,a),void 0,null),d},useId:function(){var r=ao(),a=xt.identifierPrefix;if(Ze){var d=Eo,h=xo;d=(h&~(1<<32-Un(h)-1)).toString(32)+d,a=":"+a+"R"+d,d=$a++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=J6++,a=":"+a+"r"+d.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},nL={readContext:Sn,useCallback:K1,useContext:Sn,useEffect:qm,useImperativeHandle:q1,useInsertionEffect:U1,useLayoutEffect:W1,useMemo:G1,useReducer:lg,useRef:H1,useState:function(){return lg(qa)},useDebugValue:Km,useDeferredValue:function(r){var a=Dn();return Q1(a,bt.memoizedState,r)},useTransition:function(){var r=lg(qa)[0],a=Dn().memoizedState;return[r,a]},useMutableSource:z1,useSyncExternalStore:M1,useId:Z1,unstable_isNewReconciler:!1},oL={readContext:Sn,useCallback:K1,useContext:Sn,useEffect:qm,useImperativeHandle:q1,useInsertionEffect:U1,useLayoutEffect:W1,useMemo:G1,useReducer:cg,useRef:H1,useState:function(){return cg(qa)},useDebugValue:Km,useDeferredValue:function(r){var a=Dn();return bt===null?a.memoizedState=r:Q1(a,bt.memoizedState,r)},useTransition:function(){var r=cg(qa)[0],a=Dn().memoizedState;return[r,a]},useMutableSource:z1,useSyncExternalStore:M1,useId:Z1,unstable_isNewReconciler:!1};function hs(r,a){try{var d="",h=a;do d+=I7(h),h=h.return;while(h);var f=d}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:a,stack:f,digest:null}}function dg(r,a,d){return{value:r,source:null,stack:d??null,digest:a??null}}function Qg(r,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var iL=typeof WeakMap=="function"?WeakMap:Map;function ex(r,a,d){d=So(-1,d),d.tag=3,d.payload={element:null};var h=a.value;return d.callback=function(){Dd||(Dd=!0,rm=h),Qg(r,a)},d}function tx(r,a,d){d=So(-1,d),d.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=a.value;d.payload=function(){return h(f)},d.callback=function(){Qg(r,a)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(d.callback=function(){Qg(r,a),typeof h!="function"&&(di===null?di=new Set([this]):di.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),d}function Yy(r,a,d){var h=r.pingCache;if(h===null){h=r.pingCache=new iL;var f=new Set;h.set(a,f)}else f=h.get(a),f===void 0&&(f=new Set,h.set(a,f));f.has(d)||(f.add(d),r=bL.bind(null,r,a,d),a.then(r,r))}function Xy(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function e0(r,a,d,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===a?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=So(-1,1),a.tag=2,ci(d,a,1))),d.lanes|=1),r)}var rL=Bo.ReactCurrentOwner,Yt=!1;function jt(r,a,d,h){a.child=r===null?R1(a,null,d,h):ds(a,r.child,d,h)}function t0(r,a,d,h,f){d=d.render;var g=a.ref;return rs(a,f),h=Wm(r,a,d,h,g,f),d=$m(),r!==null&&!Yt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f,Io(r,a,f)):(Ze&&d&&Bm(a),a.flags|=1,jt(r,a,h,f),a.child)}function n0(r,a,d,h,f){if(r===null){var g=d.type;return typeof g=="function"&&!tk(g)&&g.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=g,nx(r,a,g,h,f)):(r=sd(d.type,null,h,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!(r.lanes&f)){var b=g.memoizedProps;if(d=d.compare,d=d!==null?d:La,d(b,h)&&r.ref===a.ref)return Io(r,a,f)}return a.flags|=1,r=hi(g,h),r.ref=a.ref,r.return=a,a.child=r}function nx(r,a,d,h,f){if(r!==null){var g=r.memoizedProps;if(La(g,h)&&r.ref===a.ref)if(Yt=!1,a.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(Yt=!0);else return a.lanes=r.lanes,Io(r,a,f)}return Zg(r,a,d,h,f)}function ox(r,a,d){var h=a.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(es,cn),cn|=d;else{if(!(d&1073741824))return r=g!==null?g.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ue(es,cn),cn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:d,Ue(es,cn),cn|=h}else g!==null?(h=g.baseLanes|d,a.memoizedState=null):h=d,Ue(es,cn),cn|=h;return jt(r,a,f,d),a.child}function ix(r,a){var d=a.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Zg(r,a,d,h,f){var g=en(d)?ir:Nt.current;return g=ls(a,g),rs(a,f),d=Wm(r,a,d,h,g,f),h=$m(),r!==null&&!Yt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f,Io(r,a,f)):(Ze&&h&&Bm(a),a.flags|=1,jt(r,a,d,f),a.child)}function o0(r,a,d,h,f){if(en(d)){var g=!0;bd(a)}else g=!1;if(rs(a,f),a.stateNode===null)od(r,a),I1(a,d,h),Gg(a,d,h,f),h=!0;else if(r===null){var b=a.stateNode,_=a.memoizedProps;b.props=_;var k=b.context,A=d.contextType;typeof A=="object"&&A!==null?A=Sn(A):(A=en(d)?ir:Nt.current,A=ls(a,A));var S=d.getDerivedStateFromProps,E=typeof S=="function"||typeof b.getSnapshotBeforeUpdate=="function";E||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==h||k!==A)&&Gy(a,b,h,A),ei=!1;var D=a.memoizedState;b.state=D,Ad(a,h,b,f),k=a.memoizedState,_!==h||D!==k||Xt.current||ei?(typeof S=="function"&&(Kg(a,d,S,h),k=a.memoizedState),(_=ei||Ky(a,d,_,h,D,k,A))?(E||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=k),b.props=h,b.state=k,b.context=A,h=_):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,T1(r,a),_=a.memoizedProps,A=a.type===a.elementType?_:Vn(a.type,_),b.props=A,E=a.pendingProps,D=b.context,k=d.contextType,typeof k=="object"&&k!==null?k=Sn(k):(k=en(d)?ir:Nt.current,k=ls(a,k));var y=d.getDerivedStateFromProps;(S=typeof y=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==E||D!==k)&&Gy(a,b,h,k),ei=!1,D=a.memoizedState,b.state=D,Ad(a,h,b,f);var R=a.memoizedState;_!==E||D!==R||Xt.current||ei?(typeof y=="function"&&(Kg(a,d,y,h),R=a.memoizedState),(A=ei||Ky(a,d,A,h,D,R,k)||!1)?(S||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,R,k),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,R,k)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===r.memoizedProps&&D===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&D===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=R),b.props=h,b.state=R,b.context=k,h=A):(typeof b.componentDidUpdate!="function"||_===r.memoizedProps&&D===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&D===r.memoizedState||(a.flags|=1024),h=!1)}return Jg(r,a,d,h,g,f)}function Jg(r,a,d,h,f,g){ix(r,a);var b=(a.flags&128)!==0;if(!h&&!b)return f&&Hy(a,d,!1),Io(r,a,g);h=a.stateNode,rL.current=a;var _=b&&typeof d.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,r!==null&&b?(a.child=ds(a,r.child,null,g),a.child=ds(a,null,_,g)):jt(r,a,_,g),a.memoizedState=h.state,f&&Hy(a,d,!0),a.child}function rx(r){var a=r.stateNode;a.pendingContext?jy(r,a.pendingContext,a.pendingContext!==a.context):a.context&&jy(r,a.context,!1),Vm(r,a.containerInfo)}function i0(r,a,d,h,f){return cs(),Om(f),a.flags|=256,jt(r,a,d,h),a.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Xg(r){return{baseLanes:r,cachePool:null,transitions:null}}function sx(r,a,d){var h=a.pendingProps,f=nt.current,g=!1,b=(a.flags&128)!==0,_;if((_=b)||(_=r!==null&&r.memoizedState===null?!1:(f&2)!==0),_?(g=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ue(nt,f&1),r===null)return $g(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(b=h.children,r=h.fallback,g?(h=a.mode,g=a.child,b={mode:"hidden",children:b},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=Wd(b,h,0,null),r=or(r,h,d,null),g.return=a,r.return=a,g.sibling=r,a.child=g,a.child.memoizedState=Xg(d),a.memoizedState=Yg,r):Gm(a,b));if(f=r.memoizedState,f!==null&&(_=f.dehydrated,_!==null))return sL(r,a,b,h,_,f,d);if(g){g=h.fallback,b=a.mode,f=r.child,_=f.sibling;var k={mode:"hidden",children:h.children};return!(b&1)&&a.child!==f?(h=a.child,h.childLanes=0,h.pendingProps=k,a.deletions=null):(h=hi(f,k),h.subtreeFlags=f.subtreeFlags&14680064),_!==null?g=hi(_,g):(g=or(g,b,d,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,b=r.child.memoizedState,b=b===null?Xg(d):{baseLanes:b.baseLanes|d,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=r.childLanes&~d,a.memoizedState=Yg,h}return g=r.child,r=g.sibling,h=hi(g,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=d),h.return=a,h.sibling=null,r!==null&&(d=a.deletions,d===null?(a.deletions=[r],a.flags|=16):d.push(r)),a.child=h,a.memoizedState=null,h}function Gm(r,a){return a=Wd({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function $c(r,a,d,h){return h!==null&&Om(h),ds(a,r.child,null,d),r=Gm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function sL(r,a,d,h,f,g,b){if(d)return a.flags&256?(a.flags&=-257,h=dg(Error(G(422))),$c(r,a,b,h)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(g=h.fallback,f=a.mode,h=Wd({mode:"visible",children:h.children},f,0,null),g=or(g,f,b,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,a.mode&1&&ds(a,r.child,null,b),a.child.memoizedState=Xg(b),a.memoizedState=Yg,g);if(!(a.mode&1))return $c(r,a,b,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var _=h.dgst;return h=_,g=Error(G(419)),h=dg(g,h,void 0),$c(r,a,b,h)}if(_=(b&r.childLanes)!==0,Yt||_){if(h=xt,h!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|b)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Po(r,f),Wn(h,r,f,-1))}return ek(),h=dg(Error(G(421))),$c(r,a,b,h)}return f.data==="$?"?(a.flags|=128,a.child=r.child,a=wL.bind(null,r),f._reactRetry=a,null):(r=g.treeContext,un=li(f.nextSibling),hn=a,Ze=!0,Hn=null,r!==null&&(An[yn++]=xo,An[yn++]=Eo,An[yn++]=rr,xo=r.id,Eo=r.overflow,rr=a),a=Gm(a,h.children),a.flags|=4096,a)}function r0(r,a,d){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),qg(r.return,a,d)}function ug(r,a,d,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=d,g.tailMode=f)}function ax(r,a,d){var h=a.pendingProps,f=h.revealOrder,g=h.tail;if(jt(r,a,h.children,d),h=nt.current,h&2)h=h&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&r0(r,d,a);else if(r.tag===19)r0(r,d,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ue(nt,h),!(a.mode&1))a.memoizedState=null;else switch(f){case"forwards":for(d=a.child,f=null;d!==null;)r=d.alternate,r!==null&&yd(r)===null&&(f=d),d=d.sibling;d=f,d===null?(f=a.child,a.child=null):(f=d.sibling,d.sibling=null),ug(a,!1,f,d,g);break;case"backwards":for(d=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&yd(r)===null){a.child=f;break}r=f.sibling,f.sibling=d,d=f,f=r}ug(a,!0,d,null,g);break;case"together":ug(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function od(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Io(r,a,d){if(r!==null&&(a.dependencies=r.dependencies),ar|=a.lanes,!(d&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(G(153));if(a.child!==null){for(r=a.child,d=hi(r,r.pendingProps),a.child=d,d.return=a;r.sibling!==null;)r=r.sibling,d=d.sibling=hi(r,r.pendingProps),d.return=a;d.sibling=null}return a.child}function aL(r,a,d){switch(a.tag){case 3:rx(a),cs();break;case 5:O1(a);break;case 1:en(a.type)&&bd(a);break;case 4:Vm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,f=a.memoizedProps.value;Ue(vd,h._currentValue),h._currentValue=f;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Ue(nt,nt.current&1),a.flags|=128,null):d&a.child.childLanes?sx(r,a,d):(Ue(nt,nt.current&1),r=Io(r,a,d),r!==null?r.sibling:null);Ue(nt,nt.current&1);break;case 19:if(h=(d&a.childLanes)!==0,r.flags&128){if(h)return ax(r,a,d);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(nt,nt.current),h)break;return null;case 22:case 23:return a.lanes=0,ox(r,a,d)}return Io(r,a,d)}var lx,em,cx,dx;lx=function(r,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}};em=function(){};cx=function(r,a,d,h){var f=r.memoizedProps;if(f!==h){r=a.stateNode,tr(uo.current);var g=null;switch(d){case"input":f=Cg(r,f),h=Cg(r,h),g=[];break;case"select":f=it({},f,{value:void 0}),h=it({},h,{value:void 0}),g=[];break;case"textarea":f=xg(r,f),h=xg(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=md)}Sg(d,h);var b;d=null;for(A in f)if(!h.hasOwnProperty(A)&&f.hasOwnProperty(A)&&f[A]!=null)if(A==="style"){var _=f[A];for(b in _)_.hasOwnProperty(b)&&(d||(d={}),d[b]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Ba.hasOwnProperty(A)?g||(g=[]):(g=g||[]).push(A,null));for(A in h){var k=h[A];if(_=f!=null?f[A]:void 0,h.hasOwnProperty(A)&&k!==_&&(k!=null||_!=null))if(A==="style")if(_){for(b in _)!_.hasOwnProperty(b)||k&&k.hasOwnProperty(b)||(d||(d={}),d[b]="");for(b in k)k.hasOwnProperty(b)&&_[b]!==k[b]&&(d||(d={}),d[b]=k[b])}else d||(g||(g=[]),g.push(A,d)),d=k;else A==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,_=_?_.__html:void 0,k!=null&&_!==k&&(g=g||[]).push(A,k)):A==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push(A,""+k):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(A)?(k!=null&&A==="onScroll"&&Ke("scroll",r),g||_===k||(g=[])):(g=g||[]).push(A,k))}d&&(g=g||[]).push("style",d);var A=g;(a.updateQueue=A)&&(a.flags|=4)}};dx=function(r,a,d,h){d!==h&&(a.flags|=4)};function ma(r,a){if(!Ze)switch(r.tailMode){case"hidden":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function zt(r){var a=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(a)for(var f=r.child;f!==null;)d|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)d|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=d,a}function lL(r,a,d){var h=a.pendingProps;switch(Rm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return en(a.type)&&kd(),zt(a),null;case 3:return h=a.stateNode,us(),Ge(Xt),Ge(Nt),Hm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Uc(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Hn!==null&&(lm(Hn),Hn=null))),em(r,a),zt(a),null;case 5:jm(a);var f=tr(Wa.current);if(d=a.type,r!==null&&a.stateNode!=null)cx(r,a,d,h,f),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(G(166));return zt(a),null}if(r=tr(uo.current),Uc(a)){h=a.stateNode,d=a.type;var g=a.memoizedProps;switch(h[lo]=a,h[Ha]=g,r=(a.mode&1)!==0,d){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(f=0;f<va.length;f++)Ke(va[f],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":py(h,g),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",h);break;case"textarea":my(h,g),Ke("invalid",h)}Sg(d,g),f=null;for(var b in g)if(g.hasOwnProperty(b)){var _=g[b];b==="children"?typeof _=="string"?h.textContent!==_&&(g.suppressHydrationWarning!==!0&&Hc(h.textContent,_,r),f=["children",_]):typeof _=="number"&&h.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&Hc(h.textContent,_,r),f=["children",""+_]):Ba.hasOwnProperty(b)&&_!=null&&b==="onScroll"&&Ke("scroll",h)}switch(d){case"input":Oc(h),gy(h,g,!0);break;case"textarea":Oc(h),ky(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=md)}h=f,a.updateQueue=h,h!==null&&(a.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=N0(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=b.createElement(d,{is:h.is}):(r=b.createElement(d),d==="select"&&(b=r,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):r=b.createElementNS(r,d),r[lo]=a,r[Ha]=h,lx(r,a,!1,!1),a.stateNode=r;e:{switch(b=Dg(d,h),d){case"dialog":Ke("cancel",r),Ke("close",r),f=h;break;case"iframe":case"object":case"embed":Ke("load",r),f=h;break;case"video":case"audio":for(f=0;f<va.length;f++)Ke(va[f],r);f=h;break;case"source":Ke("error",r),f=h;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=h;break;case"details":Ke("toggle",r),f=h;break;case"input":py(r,h),f=Cg(r,h),Ke("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=it({},h,{value:void 0}),Ke("invalid",r);break;case"textarea":my(r,h),f=xg(r,h),Ke("invalid",r);break;default:f=h}Sg(d,f),_=f;for(g in _)if(_.hasOwnProperty(g)){var k=_[g];g==="style"?V0(r,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&F0(r,k)):g==="children"?typeof k=="string"?(d!=="textarea"||k!=="")&&Ra(r,k):typeof k=="number"&&Ra(r,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ba.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Ke("scroll",r):k!=null&&bm(r,g,k,b))}switch(d){case"input":Oc(r),gy(r,h,!1);break;case"textarea":Oc(r),ky(r);break;case"option":h.value!=null&&r.setAttribute("value",""+fi(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?ts(r,!!h.multiple,g,!1):h.defaultValue!=null&&ts(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=md)}switch(d){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return zt(a),null;case 6:if(r&&a.stateNode!=null)dx(r,a,r.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(G(166));if(d=tr(Wa.current),tr(uo.current),Uc(a)){if(h=a.stateNode,d=a.memoizedProps,h[lo]=a,(g=h.nodeValue!==d)&&(r=hn,r!==null))switch(r.tag){case 3:Hc(h.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Hc(h.nodeValue,d,(r.mode&1)!==0)}g&&(a.flags|=4)}else h=(d.nodeType===9?d:d.ownerDocument).createTextNode(h),h[lo]=a,a.stateNode=h}return zt(a),null;case 13:if(Ge(nt),h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&un!==null&&a.mode&1&&!(a.flags&128))S1(),cs(),a.flags|=98560,g=!1;else if(g=Uc(a),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(G(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(G(317));g[lo]=a}else cs(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;zt(a),g=!1}else Hn!==null&&(lm(Hn),Hn=null),g=!0;if(!g)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(r===null||nt.current&1?wt===0&&(wt=3):ek())),a.updateQueue!==null&&(a.flags|=4),zt(a),null);case 4:return us(),em(r,a),r===null&&Va(a.stateNode.containerInfo),zt(a),null;case 10:return Nm(a.type._context),zt(a),null;case 17:return en(a.type)&&kd(),zt(a),null;case 19:if(Ge(nt),g=a.memoizedState,g===null)return zt(a),null;if(h=(a.flags&128)!==0,b=g.rendering,b===null)if(h)ma(g,!1);else{if(wt!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(b=yd(r),b!==null){for(a.flags|=128,ma(g,!1),h=b.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=d,d=a.child;d!==null;)g=d,r=h,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,r=b.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return Ue(nt,nt.current&1|2),a.child}r=r.sibling}g.tail!==null&&ft()>fs&&(a.flags|=128,h=!0,ma(g,!1),a.lanes=4194304)}else{if(!h)if(r=yd(b),r!==null){if(a.flags|=128,h=!0,d=r.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ma(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Ze)return zt(a),null}else 2*ft()-g.renderingStartTime>fs&&d!==1073741824&&(a.flags|=128,h=!0,ma(g,!1),a.lanes=4194304);g.isBackwards?(b.sibling=a.child,a.child=b):(d=g.last,d!==null?d.sibling=b:a.child=b,g.last=b)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=ft(),a.sibling=null,d=nt.current,Ue(nt,h?d&1|2:d&1),a):(zt(a),null);case 22:case 23:return Xm(),h=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?cn&1073741824&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),null;case 24:return null;case 25:return null}throw Error(G(156,a.tag))}function cL(r,a){switch(Rm(a),a.tag){case 1:return en(a.type)&&kd(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return us(),Ge(Xt),Ge(Nt),Hm(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return jm(a),null;case 13:if(Ge(nt),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(G(340));cs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Ge(nt),null;case 4:return us(),null;case 10:return Nm(a.type._context),null;case 22:case 23:return Xm(),null;case 24:return null;default:return null}}var qc=!1,Mt=!1,dL=typeof WeakSet=="function"?WeakSet:Set,te=null;function Xr(r,a){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(h){ct(r,a,h)}else d.current=null}function tm(r,a,d){try{d()}catch(h){ct(r,a,h)}}var s0=!1;function uL(r,a){if(Fg=fd,r=p1(),Im(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{d.nodeType,g.nodeType}catch{d=null;break e}var b=0,_=-1,k=-1,A=0,S=0,E=r,D=null;t:for(;;){for(var y;E!==d||f!==0&&E.nodeType!==3||(_=b+f),E!==g||h!==0&&E.nodeType!==3||(k=b+h),E.nodeType===3&&(b+=E.nodeValue.length),(y=E.firstChild)!==null;)D=E,E=y;for(;;){if(E===r)break t;if(D===d&&++A===f&&(_=b),D===g&&++S===h&&(k=b),(y=E.nextSibling)!==null)break;E=D,D=E.parentNode}E=y}d=_===-1||k===-1?null:{start:_,end:k}}else d=null}d=d||{start:0,end:0}}else d=null;for(Lg={focusedElem:r,selectionRange:d},fd=!1,te=a;te!==null;)if(a=te,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,te=r;else for(;te!==null;){a=te;try{var R=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var V=R.memoizedProps,J=R.memoizedState,z=a.stateNode,B=z.getSnapshotBeforeUpdate(a.elementType===a.type?V:Vn(a.type,V),J);z.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var O=a.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){ct(a,a.return,j)}if(r=a.sibling,r!==null){r.return=a.return,te=r;break}te=a.return}return R=s0,s0=!1,R}function Ta(r,a,d){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&tm(a,d,g)}f=f.next}while(f!==h)}}function Hd(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&r)===r){var h=d.create;d.destroy=h()}d=d.next}while(d!==a)}}function nm(r){var a=r.ref;if(a!==null){var d=r.stateNode;switch(r.tag){case 5:r=d;break;default:r=d}typeof a=="function"?a(r):a.current=r}}function ux(r){var a=r.alternate;a!==null&&(r.alternate=null,ux(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[lo],delete a[Ha],delete a[Hg],delete a[K6],delete a[G6])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function hx(r){return r.tag===5||r.tag===3||r.tag===4}function a0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||hx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function om(r,a,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(r,a):d.insertBefore(r,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(r,d)):(a=d,a.appendChild(r)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=md));else if(h!==4&&(r=r.child,r!==null))for(om(r,a,d),r=r.sibling;r!==null;)om(r,a,d),r=r.sibling}function im(r,a,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?d.insertBefore(r,a):d.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(im(r,a,d),r=r.sibling;r!==null;)im(r,a,d),r=r.sibling}var Tt=null,jn=!1;function Yo(r,a,d){for(d=d.child;d!==null;)fx(r,a,d),d=d.sibling}function fx(r,a,d){if(co&&typeof co.onCommitFiberUnmount=="function")try{co.onCommitFiberUnmount(Od,d)}catch{}switch(d.tag){case 5:Mt||Xr(d,a);case 6:var h=Tt,f=jn;Tt=null,Yo(r,a,d),Tt=h,jn=f,Tt!==null&&(jn?(r=Tt,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):Tt.removeChild(d.stateNode));break;case 18:Tt!==null&&(jn?(r=Tt,d=d.stateNode,r.nodeType===8?ig(r.parentNode,d):r.nodeType===1&&ig(r,d),Na(r)):ig(Tt,d.stateNode));break;case 4:h=Tt,f=jn,Tt=d.stateNode.containerInfo,jn=!0,Yo(r,a,d),Tt=h,jn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(h=d.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&tm(d,a,b),f=f.next}while(f!==h)}Yo(r,a,d);break;case 1:if(!Mt&&(Xr(d,a),h=d.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=d.memoizedProps,h.state=d.memoizedState,h.componentWillUnmount()}catch(_){ct(d,a,_)}Yo(r,a,d);break;case 21:Yo(r,a,d);break;case 22:d.mode&1?(Mt=(h=Mt)||d.memoizedState!==null,Yo(r,a,d),Mt=h):Yo(r,a,d);break;default:Yo(r,a,d)}}function l0(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new dL),a.forEach(function(h){var f=_L.bind(null,r,h);d.has(h)||(d.add(h),h.then(f,f))})}}function Ln(r,a){var d=a.deletions;if(d!==null)for(var h=0;h<d.length;h++){var f=d[h];try{var g=r,b=a,_=b;e:for(;_!==null;){switch(_.tag){case 5:Tt=_.stateNode,jn=!1;break e;case 3:Tt=_.stateNode.containerInfo,jn=!0;break e;case 4:Tt=_.stateNode.containerInfo,jn=!0;break e}_=_.return}if(Tt===null)throw Error(G(160));fx(g,b,f),Tt=null,jn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(A){ct(f,a,A)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)px(a,r),a=a.sibling}function px(r,a){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ln(a,r),so(r),h&4){try{Ta(3,r,r.return),Hd(3,r)}catch(V){ct(r,r.return,V)}try{Ta(5,r,r.return)}catch(V){ct(r,r.return,V)}}break;case 1:Ln(a,r),so(r),h&512&&d!==null&&Xr(d,d.return);break;case 5:if(Ln(a,r),so(r),h&512&&d!==null&&Xr(d,d.return),r.flags&32){var f=r.stateNode;try{Ra(f,"")}catch(V){ct(r,r.return,V)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,b=d!==null?d.memoizedProps:g,_=r.type,k=r.updateQueue;if(r.updateQueue=null,k!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&z0(f,g),Dg(_,b);var A=Dg(_,g);for(b=0;b<k.length;b+=2){var S=k[b],E=k[b+1];S==="style"?V0(f,E):S==="dangerouslySetInnerHTML"?F0(f,E):S==="children"?Ra(f,E):bm(f,S,E,A)}switch(_){case"input":Ag(f,g);break;case"textarea":M0(f,g);break;case"select":var D=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var y=g.value;y!=null?ts(f,!!g.multiple,y,!1):D!==!!g.multiple&&(g.defaultValue!=null?ts(f,!!g.multiple,g.defaultValue,!0):ts(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ha]=g}catch(V){ct(r,r.return,V)}}break;case 6:if(Ln(a,r),so(r),h&4){if(r.stateNode===null)throw Error(G(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(V){ct(r,r.return,V)}}break;case 3:if(Ln(a,r),so(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Na(a.containerInfo)}catch(V){ct(r,r.return,V)}break;case 4:Ln(a,r),so(r);break;case 13:Ln(a,r),so(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Jm=ft())),h&4&&l0(r);break;case 22:if(S=d!==null&&d.memoizedState!==null,r.mode&1?(Mt=(A=Mt)||S,Ln(a,r),Mt=A):Ln(a,r),so(r),h&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!S&&r.mode&1)for(te=r,S=r.child;S!==null;){for(E=te=S;te!==null;){switch(D=te,y=D.child,D.tag){case 0:case 11:case 14:case 15:Ta(4,D,D.return);break;case 1:Xr(D,D.return);var R=D.stateNode;if(typeof R.componentWillUnmount=="function"){h=D,d=D.return;try{a=h,R.props=a.memoizedProps,R.state=a.memoizedState,R.componentWillUnmount()}catch(V){ct(h,d,V)}}break;case 5:Xr(D,D.return);break;case 22:if(D.memoizedState!==null){d0(E);continue}}y!==null?(y.return=D,te=y):d0(E)}S=S.sibling}e:for(S=null,E=r;;){if(E.tag===5){if(S===null){S=E;try{f=E.stateNode,A?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=E.stateNode,k=E.memoizedProps.style,b=k!=null&&k.hasOwnProperty("display")?k.display:null,_.style.display=L0("display",b))}catch(V){ct(r,r.return,V)}}}else if(E.tag===6){if(S===null)try{E.stateNode.nodeValue=A?"":E.memoizedProps}catch(V){ct(r,r.return,V)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===r)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;S===E&&(S=null),E=E.return}S===E&&(S=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Ln(a,r),so(r),h&4&&l0(r);break;case 21:break;default:Ln(a,r),so(r)}}function so(r){var a=r.flags;if(a&2){try{e:{for(var d=r.return;d!==null;){if(hx(d)){var h=d;break e}d=d.return}throw Error(G(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Ra(f,""),h.flags&=-33);var g=a0(r);im(r,g,f);break;case 3:case 4:var b=h.stateNode.containerInfo,_=a0(r);om(r,_,b);break;default:throw Error(G(161))}}catch(k){ct(r,r.return,k)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function hL(r,a,d){te=r,gx(r)}function gx(r,a,d){for(var h=(r.mode&1)!==0;te!==null;){var f=te,g=f.child;if(f.tag===22&&h){var b=f.memoizedState!==null||qc;if(!b){var _=f.alternate,k=_!==null&&_.memoizedState!==null||Mt;_=qc;var A=Mt;if(qc=b,(Mt=k)&&!A)for(te=f;te!==null;)b=te,k=b.child,b.tag===22&&b.memoizedState!==null?u0(f):k!==null?(k.return=b,te=k):u0(f);for(;g!==null;)te=g,gx(g),g=g.sibling;te=f,qc=_,Mt=A}c0(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,te=g):c0(r)}}function c0(r){for(;te!==null;){var a=te;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Mt||Hd(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Mt)if(d===null)h.componentDidMount();else{var f=a.elementType===a.type?d.memoizedProps:Vn(a.type,d.memoizedProps);h.componentDidUpdate(f,d.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=a.updateQueue;g!==null&&qy(a,g,h);break;case 3:var b=a.updateQueue;if(b!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}qy(a,b,d)}break;case 5:var _=a.stateNode;if(d===null&&a.flags&4){d=_;var k=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&d.focus();break;case"img":k.src&&(d.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var A=a.alternate;if(A!==null){var S=A.memoizedState;if(S!==null){var E=S.dehydrated;E!==null&&Na(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Mt||a.flags&512&&nm(a)}catch(D){ct(a,a.return,D)}}if(a===r){te=null;break}if(d=a.sibling,d!==null){d.return=a.return,te=d;break}te=a.return}}function d0(r){for(;te!==null;){var a=te;if(a===r){te=null;break}var d=a.sibling;if(d!==null){d.return=a.return,te=d;break}te=a.return}}function u0(r){for(;te!==null;){var a=te;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Hd(4,a)}catch(k){ct(a,d,k)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var f=a.return;try{h.componentDidMount()}catch(k){ct(a,f,k)}}var g=a.return;try{nm(a)}catch(k){ct(a,g,k)}break;case 5:var b=a.return;try{nm(a)}catch(k){ct(a,b,k)}}}catch(k){ct(a,a.return,k)}if(a===r){te=null;break}var _=a.sibling;if(_!==null){_.return=a.return,te=_;break}te=a.return}}var fL=Math.ceil,Sd=Bo.ReactCurrentDispatcher,Qm=Bo.ReactCurrentOwner,En=Bo.ReactCurrentBatchConfig,Ae=0,xt=null,gt=null,Pt=0,cn=0,es=mi(0),wt=0,Ga=null,ar=0,Ud=0,Zm=0,Pa=null,Jt=null,Jm=0,fs=1/0,Co=null,Dd=!1,rm=null,di=null,Kc=!1,ii=null,Td=0,Ia=0,sm=null,id=-1,rd=0;function Ht(){return Ae&6?ft():id!==-1?id:id=ft()}function ui(r){return r.mode&1?Ae&2&&Pt!==0?Pt&-Pt:Z6.transition!==null?(rd===0&&(rd=Y0()),rd):(r=Ie,r!==0||(r=window.event,r=r===void 0?16:r1(r.type)),r):1}function Wn(r,a,d,h){if(50<Ia)throw Ia=0,sm=null,Error(G(185));Ja(r,d,h),(!(Ae&2)||r!==xt)&&(r===xt&&(!(Ae&2)&&(Ud|=d),wt===4&&ni(r,Pt)),tn(r,h),d===1&&Ae===0&&!(a.mode&1)&&(fs=ft()+500,Ld&&ki()))}function tn(r,a){var d=r.callbackNode;Z7(r,a);var h=hd(r,r===xt?Pt:0);if(h===0)d!==null&&_y(d),r.callbackNode=null,r.callbackPriority=0;else if(a=h&-h,r.callbackPriority!==a){if(d!=null&&_y(d),a===1)r.tag===0?Q6(h0.bind(null,r)):y1(h0.bind(null,r)),$6(function(){!(Ae&6)&&ki()}),d=null;else{switch(X0(h)){case 1:d=Am;break;case 4:d=Z0;break;case 16:d=ud;break;case 536870912:d=J0;break;default:d=ud}d=Ax(d,mx.bind(null,r))}r.callbackPriority=a,r.callbackNode=d}}function mx(r,a){if(id=-1,rd=0,Ae&6)throw Error(G(327));var d=r.callbackNode;if(ss()&&r.callbackNode!==d)return null;var h=hd(r,r===xt?Pt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||a)a=Pd(r,h);else{a=h;var f=Ae;Ae|=2;var g=bx();(xt!==r||Pt!==a)&&(Co=null,fs=ft()+500,nr(r,a));do try{mL();break}catch(_){kx(r,_)}while(1);Mm(),Sd.current=g,Ae=f,gt!==null?a=0:(xt=null,Pt=0,a=wt)}if(a!==0){if(a===2&&(f=Rg(r),f!==0&&(h=f,a=am(r,f))),a===1)throw d=Ga,nr(r,0),ni(r,h),tn(r,ft()),d;if(a===6)ni(r,h);else{if(f=r.current.alternate,!(h&30)&&!pL(f)&&(a=Pd(r,h),a===2&&(g=Rg(r),g!==0&&(h=g,a=am(r,g))),a===1))throw d=Ga,nr(r,0),ni(r,h),tn(r,ft()),d;switch(r.finishedWork=f,r.finishedLanes=h,a){case 0:case 1:throw Error(G(345));case 2:Yi(r,Jt,Co);break;case 3:if(ni(r,h),(h&130023424)===h&&(a=Jm+500-ft(),10<a)){if(hd(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Ht(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=jg(Yi.bind(null,r,Jt,Co),a);break}Yi(r,Jt,Co);break;case 4:if(ni(r,h),(h&4194240)===h)break;for(a=r.eventTimes,f=-1;0<h;){var b=31-Un(h);g=1<<b,b=a[b],b>f&&(f=b),h&=~g}if(h=f,h=ft()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*fL(h/1960))-h,10<h){r.timeoutHandle=jg(Yi.bind(null,r,Jt,Co),h);break}Yi(r,Jt,Co);break;case 5:Yi(r,Jt,Co);break;default:throw Error(G(329))}}}return tn(r,ft()),r.callbackNode===d?mx.bind(null,r):null}function am(r,a){var d=Pa;return r.current.memoizedState.isDehydrated&&(nr(r,a).flags|=256),r=Pd(r,a),r!==2&&(a=Jt,Jt=d,a!==null&&lm(a)),r}function lm(r){Jt===null?Jt=r:Jt.push.apply(Jt,r)}function pL(r){for(var a=r;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var h=0;h<d.length;h++){var f=d[h],g=f.getSnapshot;f=f.value;try{if(!$n(g(),f))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ni(r,a){for(a&=~Zm,a&=~Ud,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var d=31-Un(a),h=1<<d;r[d]=-1,a&=~h}}function h0(r){if(Ae&6)throw Error(G(327));ss();var a=hd(r,0);if(!(a&1))return tn(r,ft()),null;var d=Pd(r,a);if(r.tag!==0&&d===2){var h=Rg(r);h!==0&&(a=h,d=am(r,h))}if(d===1)throw d=Ga,nr(r,0),ni(r,a),tn(r,ft()),d;if(d===6)throw Error(G(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,Yi(r,Jt,Co),tn(r,ft()),null}function Ym(r,a){var d=Ae;Ae|=1;try{return r(a)}finally{Ae=d,Ae===0&&(fs=ft()+500,Ld&&ki())}}function lr(r){ii!==null&&ii.tag===0&&!(Ae&6)&&ss();var a=Ae;Ae|=1;var d=En.transition,h=Ie;try{if(En.transition=null,Ie=1,r)return r()}finally{Ie=h,En.transition=d,Ae=a,!(Ae&6)&&ki()}}function Xm(){cn=es.current,Ge(es)}function nr(r,a){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,W6(d)),gt!==null)for(d=gt.return;d!==null;){var h=d;switch(Rm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&kd();break;case 3:us(),Ge(Xt),Ge(Nt),Hm();break;case 5:jm(h);break;case 4:us();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:Nm(h.type._context);break;case 22:case 23:Xm()}d=d.return}if(xt=r,gt=r=hi(r.current,null),Pt=cn=a,wt=0,Ga=null,Zm=Ud=ar=0,Jt=Pa=null,er!==null){for(a=0;a<er.length;a++)if(d=er[a],h=d.interleaved,h!==null){d.interleaved=null;var f=h.next,g=d.pending;if(g!==null){var b=g.next;g.next=f,h.next=b}d.pending=h}er=null}return r}function kx(r,a){do{var d=gt;try{if(Mm(),td.current=Ed,xd){for(var h=ot.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}xd=!1}if(sr=0,yt=bt=ot=null,Da=!1,$a=0,Qm.current=null,d===null||d.return===null){wt=1,Ga=a,gt=null;break}e:{var g=r,b=d.return,_=d,k=a;if(a=Pt,_.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var A=k,S=_,E=S.tag;if(!(S.mode&1)&&(E===0||E===11||E===15)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}var y=Xy(b);if(y!==null){y.flags&=-257,e0(y,b,_,g,a),y.mode&1&&Yy(g,A,a),a=y,k=A;var R=a.updateQueue;if(R===null){var V=new Set;V.add(k),a.updateQueue=V}else R.add(k);break e}else{if(!(a&1)){Yy(g,A,a),ek();break e}k=Error(G(426))}}else if(Ze&&_.mode&1){var J=Xy(b);if(J!==null){!(J.flags&65536)&&(J.flags|=256),e0(J,b,_,g,a),Om(hs(k,_));break e}}g=k=hs(k,_),wt!==4&&(wt=2),Pa===null?Pa=[g]:Pa.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,a&=-a,g.lanes|=a;var z=ex(g,k,a);$y(g,z);break e;case 1:_=k;var B=g.type,O=g.stateNode;if(!(g.flags&128)&&(typeof B.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(di===null||!di.has(O)))){g.flags|=65536,a&=-a,g.lanes|=a;var j=tx(g,_,a);$y(g,j);break e}}g=g.return}while(g!==null)}_x(d)}catch(Q){a=Q,gt===d&&d!==null&&(gt=d=d.return);continue}break}while(1)}function bx(){var r=Sd.current;return Sd.current=Ed,r===null?Ed:r}function ek(){(wt===0||wt===3||wt===2)&&(wt=4),xt===null||!(ar&268435455)&&!(Ud&268435455)||ni(xt,Pt)}function Pd(r,a){var d=Ae;Ae|=2;var h=bx();(xt!==r||Pt!==a)&&(Co=null,nr(r,a));do try{gL();break}catch(f){kx(r,f)}while(1);if(Mm(),Ae=d,Sd.current=h,gt!==null)throw Error(G(261));return xt=null,Pt=0,wt}function gL(){for(;gt!==null;)wx(gt)}function mL(){for(;gt!==null&&!j7();)wx(gt)}function wx(r){var a=Cx(r.alternate,r,cn);r.memoizedProps=r.pendingProps,a===null?_x(r):gt=a,Qm.current=null}function _x(r){var a=r;do{var d=a.alternate;if(r=a.return,a.flags&32768){if(d=cL(d,a),d!==null){d.flags&=32767,gt=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,gt=null;return}}else if(d=lL(d,a,cn),d!==null){gt=d;return}if(a=a.sibling,a!==null){gt=a;return}gt=a=r}while(a!==null);wt===0&&(wt=5)}function Yi(r,a,d){var h=Ie,f=En.transition;try{En.transition=null,Ie=1,kL(r,a,d,h)}finally{En.transition=f,Ie=h}return null}function kL(r,a,d,h){do ss();while(ii!==null);if(Ae&6)throw Error(G(327));d=r.finishedWork;var f=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(G(177));r.callbackNode=null,r.callbackPriority=0;var g=d.lanes|d.childLanes;if(J7(r,g),r===xt&&(gt=xt=null,Pt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Kc||(Kc=!0,Ax(ud,function(){return ss(),null})),g=(d.flags&15990)!==0,d.subtreeFlags&15990||g){g=En.transition,En.transition=null;var b=Ie;Ie=1;var _=Ae;Ae|=4,Qm.current=null,uL(r,d),px(d,r),N6(Lg),fd=!!Fg,Lg=Fg=null,r.current=d,hL(d),H7(),Ae=_,Ie=b,En.transition=g}else r.current=d;if(Kc&&(Kc=!1,ii=r,Td=f),g=r.pendingLanes,g===0&&(di=null),$7(d.stateNode),tn(r,ft()),a!==null)for(h=r.onRecoverableError,d=0;d<a.length;d++)f=a[d],h(f.value,{componentStack:f.stack,digest:f.digest});if(Dd)throw Dd=!1,r=rm,rm=null,r;return Td&1&&r.tag!==0&&ss(),g=r.pendingLanes,g&1?r===sm?Ia++:(Ia=0,sm=r):Ia=0,ki(),null}function ss(){if(ii!==null){var r=X0(Td),a=En.transition,d=Ie;try{if(En.transition=null,Ie=16>r?16:r,ii===null)var h=!1;else{if(r=ii,ii=null,Td=0,Ae&6)throw Error(G(331));var f=Ae;for(Ae|=4,te=r.current;te!==null;){var g=te,b=g.child;if(te.flags&16){var _=g.deletions;if(_!==null){for(var k=0;k<_.length;k++){var A=_[k];for(te=A;te!==null;){var S=te;switch(S.tag){case 0:case 11:case 15:Ta(8,S,g)}var E=S.child;if(E!==null)E.return=S,te=E;else for(;te!==null;){S=te;var D=S.sibling,y=S.return;if(ux(S),S===A){te=null;break}if(D!==null){D.return=y,te=D;break}te=y}}}var R=g.alternate;if(R!==null){var V=R.child;if(V!==null){R.child=null;do{var J=V.sibling;V.sibling=null,V=J}while(V!==null)}}te=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,te=b;else e:for(;te!==null;){if(g=te,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ta(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,te=z;break e}te=g.return}}var B=r.current;for(te=B;te!==null;){b=te;var O=b.child;if(b.subtreeFlags&2064&&O!==null)O.return=b,te=O;else e:for(b=B;te!==null;){if(_=te,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Hd(9,_)}}catch(Q){ct(_,_.return,Q)}if(_===b){te=null;break e}var j=_.sibling;if(j!==null){j.return=_.return,te=j;break e}te=_.return}}if(Ae=f,ki(),co&&typeof co.onPostCommitFiberRoot=="function")try{co.onPostCommitFiberRoot(Od,r)}catch{}h=!0}return h}finally{Ie=d,En.transition=a}}return!1}function f0(r,a,d){a=hs(d,a),a=ex(r,a,1),r=ci(r,a,1),a=Ht(),r!==null&&(Ja(r,1,a),tn(r,a))}function ct(r,a,d){if(r.tag===3)f0(r,r,d);else for(;a!==null;){if(a.tag===3){f0(a,r,d);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(di===null||!di.has(h))){r=hs(d,r),r=tx(a,r,1),a=ci(a,r,1),r=Ht(),a!==null&&(Ja(a,1,r),tn(a,r));break}}a=a.return}}function bL(r,a,d){var h=r.pingCache;h!==null&&h.delete(a),a=Ht(),r.pingedLanes|=r.suspendedLanes&d,xt===r&&(Pt&d)===d&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>ft()-Jm?nr(r,0):Zm|=d),tn(r,a)}function vx(r,a){a===0&&(r.mode&1?(a=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):a=1);var d=Ht();r=Po(r,a),r!==null&&(Ja(r,a,d),tn(r,d))}function wL(r){var a=r.memoizedState,d=0;a!==null&&(d=a.retryLane),vx(r,d)}function _L(r,a){var d=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(d=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(G(314))}h!==null&&h.delete(a),vx(r,d)}var Cx;Cx=function(r,a,d){if(r!==null)if(r.memoizedProps!==a.pendingProps||Xt.current)Yt=!0;else{if(!(r.lanes&d)&&!(a.flags&128))return Yt=!1,aL(r,a,d);Yt=!!(r.flags&131072)}else Yt=!1,Ze&&a.flags&1048576&&x1(a,_d,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;od(r,a),r=a.pendingProps;var f=ls(a,Nt.current);rs(a,d),f=Wm(null,a,h,r,f,d);var g=$m();return a.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,en(h)?(g=!0,bd(a)):g=!1,a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Lm(a),f.updater=Vd,a.stateNode=f,f._reactInternals=a,Gg(a,h,r,d),a=Jg(null,a,h,!0,g,d)):(a.tag=0,Ze&&g&&Bm(a),jt(null,a,f,d),a=a.child),a;case 16:h=a.elementType;e:{switch(od(r,a),r=a.pendingProps,f=h._init,h=f(h._payload),a.type=h,f=a.tag=CL(h),r=Vn(h,r),f){case 0:a=Zg(null,a,h,r,d);break e;case 1:a=o0(null,a,h,r,d);break e;case 11:a=t0(null,a,h,r,d);break e;case 14:a=n0(null,a,h,Vn(h.type,r),d);break e}throw Error(G(306,h,""))}return a;case 0:return h=a.type,f=a.pendingProps,f=a.elementType===h?f:Vn(h,f),Zg(r,a,h,f,d);case 1:return h=a.type,f=a.pendingProps,f=a.elementType===h?f:Vn(h,f),o0(r,a,h,f,d);case 3:e:{if(rx(a),r===null)throw Error(G(387));h=a.pendingProps,g=a.memoizedState,f=g.element,T1(r,a),Ad(a,h,null,d);var b=a.memoizedState;if(h=b.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){f=hs(Error(G(423)),a),a=i0(r,a,h,d,f);break e}else if(h!==f){f=hs(Error(G(424)),a),a=i0(r,a,h,d,f);break e}else for(un=li(a.stateNode.containerInfo.firstChild),hn=a,Ze=!0,Hn=null,d=R1(a,null,h,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(cs(),h===f){a=Io(r,a,d);break e}jt(r,a,h,d)}a=a.child}return a;case 5:return O1(a),r===null&&$g(a),h=a.type,f=a.pendingProps,g=r!==null?r.memoizedProps:null,b=f.children,Vg(h,f)?b=null:g!==null&&Vg(h,g)&&(a.flags|=32),ix(r,a),jt(r,a,b,d),a.child;case 6:return r===null&&$g(a),null;case 13:return sx(r,a,d);case 4:return Vm(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=ds(a,null,h,d):jt(r,a,h,d),a.child;case 11:return h=a.type,f=a.pendingProps,f=a.elementType===h?f:Vn(h,f),t0(r,a,h,f,d);case 7:return jt(r,a,a.pendingProps,d),a.child;case 8:return jt(r,a,a.pendingProps.children,d),a.child;case 12:return jt(r,a,a.pendingProps.children,d),a.child;case 10:e:{if(h=a.type._context,f=a.pendingProps,g=a.memoizedProps,b=f.value,Ue(vd,h._currentValue),h._currentValue=b,g!==null)if($n(g.value,b)){if(g.children===f.children&&!Xt.current){a=Io(r,a,d);break e}}else for(g=a.child,g!==null&&(g.return=a);g!==null;){var _=g.dependencies;if(_!==null){b=g.child;for(var k=_.firstContext;k!==null;){if(k.context===h){if(g.tag===1){k=So(-1,d&-d),k.tag=2;var A=g.updateQueue;if(A!==null){A=A.shared;var S=A.pending;S===null?k.next=k:(k.next=S.next,S.next=k),A.pending=k}}g.lanes|=d,k=g.alternate,k!==null&&(k.lanes|=d),qg(g.return,d,a),_.lanes|=d;break}k=k.next}}else if(g.tag===10)b=g.type===a.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(G(341));b.lanes|=d,_=b.alternate,_!==null&&(_.lanes|=d),qg(b,d,a),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===a){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}jt(r,a,f.children,d),a=a.child}return a;case 9:return f=a.type,h=a.pendingProps.children,rs(a,d),f=Sn(f),h=h(f),a.flags|=1,jt(r,a,h,d),a.child;case 14:return h=a.type,f=Vn(h,a.pendingProps),f=Vn(h.type,f),n0(r,a,h,f,d);case 15:return nx(r,a,a.type,a.pendingProps,d);case 17:return h=a.type,f=a.pendingProps,f=a.elementType===h?f:Vn(h,f),od(r,a),a.tag=1,en(h)?(r=!0,bd(a)):r=!1,rs(a,d),I1(a,h,f),Gg(a,h,f,d),Jg(null,a,h,!0,r,d);case 19:return ax(r,a,d);case 22:return ox(r,a,d)}throw Error(G(156,a.tag))};function Ax(r,a){return Q0(r,a)}function vL(r,a,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,a,d,h){return new vL(r,a,d,h)}function tk(r){return r=r.prototype,!(!r||!r.isReactComponent)}function CL(r){if(typeof r=="function")return tk(r)?1:0;if(r!=null){if(r=r.$$typeof,r===_m)return 11;if(r===vm)return 14}return 2}function hi(r,a){var d=r.alternate;return d===null?(d=xn(r.tag,a,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=a,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,a=r.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function sd(r,a,d,h,f,g){var b=2;if(h=r,typeof r=="function")tk(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case Wr:return or(d.children,f,g,a);case wm:b=8,f|=8;break;case bg:return r=xn(12,d,a,f|2),r.elementType=bg,r.lanes=g,r;case wg:return r=xn(13,d,a,f),r.elementType=wg,r.lanes=g,r;case _g:return r=xn(19,d,a,f),r.elementType=_g,r.lanes=g,r;case B0:return Wd(d,f,g,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P0:b=10;break e;case I0:b=9;break e;case _m:b=11;break e;case vm:b=14;break e;case Xo:b=16,h=null;break e}throw Error(G(130,r==null?r:typeof r,""))}return a=xn(b,d,a,f),a.elementType=r,a.type=h,a.lanes=g,a}function or(r,a,d,h){return r=xn(7,r,h,a),r.lanes=d,r}function Wd(r,a,d,h){return r=xn(22,r,h,a),r.elementType=B0,r.lanes=d,r.stateNode={isHidden:!1},r}function hg(r,a,d){return r=xn(6,r,null,a),r.lanes=d,r}function fg(r,a,d){return a=xn(4,r.children!==null?r.children:[],r.key,a),a.lanes=d,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function AL(r,a,d,h,f){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function nk(r,a,d,h,f,g,b,_,k){return r=new AL(r,a,d,_,k),a===1?(a=1,g===!0&&(a|=8)):a=0,g=xn(3,null,null,a),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(g),r}function yL(r,a,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:h==null?null:""+h,children:r,containerInfo:a,implementation:d}}function yx(r){if(!r)return pi;r=r._reactInternals;e:{if(dr(r)!==r||r.tag!==1)throw Error(G(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(en(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(G(171))}if(r.tag===1){var d=r.type;if(en(d))return A1(r,d,a)}return a}function xx(r,a,d,h,f,g,b,_,k){return r=nk(d,h,!0,r,f,g,b,_,k),r.context=yx(null),d=r.current,h=Ht(),f=ui(d),g=So(h,f),g.callback=a??null,ci(d,g,f),r.current.lanes=f,Ja(r,f,h),tn(r,h),r}function $d(r,a,d,h){var f=a.current,g=Ht(),b=ui(f);return d=yx(d),a.context===null?a.context=d:a.pendingContext=d,a=So(g,b),a.payload={element:r},h=h===void 0?null:h,h!==null&&(a.callback=h),r=ci(f,a,b),r!==null&&(Wn(r,f,b,g),ed(r,f,b)),b}function Id(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function p0(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<a?d:a}}function ok(r,a){p0(r,a),(r=r.alternate)&&p0(r,a)}function xL(){return null}var Ex=typeof reportError=="function"?reportError:function(r){console.error(r)};function ik(r){this._internalRoot=r}qd.prototype.render=ik.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(G(409));$d(r,a,null,null)};qd.prototype.unmount=ik.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;lr(function(){$d(null,r,null,null)}),a[To]=null}};function qd(r){this._internalRoot=r}qd.prototype.unstable_scheduleHydration=function(r){if(r){var a=n1();r={blockedOn:null,target:r,priority:a};for(var d=0;d<ti.length&&a!==0&&a<ti[d].priority;d++);ti.splice(d,0,r),d===0&&i1(r)}};function rk(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function g0(){}function EL(r,a,d,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var A=Id(b);g.call(A)}}var b=xx(a,h,r,0,null,!1,!1,"",g0);return r._reactRootContainer=b,r[To]=b.current,Va(r.nodeType===8?r.parentNode:r),lr(),b}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var _=h;h=function(){var A=Id(k);_.call(A)}}var k=nk(r,0,!1,null,null,!1,!1,"",g0);return r._reactRootContainer=k,r[To]=k.current,Va(r.nodeType===8?r.parentNode:r),lr(function(){$d(a,k,d,h)}),k}function Gd(r,a,d,h,f){var g=d._reactRootContainer;if(g){var b=g;if(typeof f=="function"){var _=f;f=function(){var k=Id(b);_.call(k)}}$d(a,b,r,f)}else b=EL(d,a,r,f,h);return Id(b)}e1=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var d=_a(a.pendingLanes);d!==0&&(ym(a,d|1),tn(a,ft()),!(Ae&6)&&(fs=ft()+500,ki()))}break;case 13:lr(function(){var h=Po(r,1);if(h!==null){var f=Ht();Wn(h,r,1,f)}}),ok(r,1)}};xm=function(r){if(r.tag===13){var a=Po(r,134217728);if(a!==null){var d=Ht();Wn(a,r,134217728,d)}ok(r,134217728)}};t1=function(r){if(r.tag===13){var a=ui(r),d=Po(r,a);if(d!==null){var h=Ht();Wn(d,r,a,h)}ok(r,a)}};n1=function(){return Ie};o1=function(r,a){var d=Ie;try{return Ie=r,a()}finally{Ie=d}};Pg=function(r,a,d){switch(a){case"input":if(Ag(r,d),a=d.name,d.type==="radio"&&a!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var h=d[a];if(h!==r&&h.form===r.form){var f=Fd(h);if(!f)throw Error(G(90));O0(h),Ag(h,f)}}}break;case"textarea":M0(r,d);break;case"select":a=d.value,a!=null&&ts(r,!!d.multiple,a,!1)}};U0=Ym;W0=lr;var SL={usingClientEntryPoint:!1,Events:[Xa,Gr,Fd,j0,H0,Ym]},ka={findFiberByHostInstance:Xi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},DL={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=K0(r),r===null?null:r.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||xL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Od=Gc.inject(DL),co=Gc}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SL;pn.createPortal=function(r,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(a))throw Error(G(200));return yL(r,a,null,d)};pn.createRoot=function(r,a){if(!rk(r))throw Error(G(299));var d=!1,h="",f=Ex;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(f=a.onRecoverableError)),a=nk(r,1,!1,null,null,d,!1,h,f),r[To]=a.current,Va(r.nodeType===8?r.parentNode:r),new ik(a)};pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(G(188)):(r=Object.keys(r).join(","),Error(G(268,r)));return r=K0(a),r=r===null?null:r.stateNode,r};pn.flushSync=function(r){return lr(r)};pn.hydrate=function(r,a,d){if(!Kd(a))throw Error(G(200));return Gd(null,r,a,!0,d)};pn.hydrateRoot=function(r,a,d){if(!rk(r))throw Error(G(405));var h=d!=null&&d.hydratedSources||null,f=!1,g="",b=Ex;if(d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onRecoverableError!==void 0&&(b=d.onRecoverableError)),a=xx(a,null,r,1,d??null,f,!1,g,b),r[To]=a.current,Va(r),h)for(r=0;r<h.length;r++)d=h[r],f=d._getVersion,f=f(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,f]:a.mutableSourceEagerHydrationData.push(d,f);return new qd(a)};pn.render=function(r,a,d){if(!Kd(a))throw Error(G(200));return Gd(null,r,a,!1,d)};pn.unmountComponentAtNode=function(r){if(!Kd(r))throw Error(G(40));return r._reactRootContainer?(lr(function(){Gd(null,null,r,!1,function(){r._reactRootContainer=null,r[To]=null})}),!0):!1};pn.unstable_batchedUpdates=Ym;pn.unstable_renderSubtreeIntoContainer=function(r,a,d,h){if(!Kd(d))throw Error(G(200));if(r==null||r._reactInternals===void 0)throw Error(G(38));return Gd(r,a,d,!1,h)};pn.version="18.2.0-next-9e3b772b8-20220608";(function(r){function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(d){console.error(d)}}a(),r.exports=pn})(x7);var m0=gg;pg.createRoot=m0.createRoot,pg.hydrateRoot=m0.hydrateRoot;var Qa={},TL={get exports(){return Qa},set exports(r){Qa=r}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(r,a){(function(d,h){r.exports=h(At)})(self,d=>(()=>{var h={703:(_,k,A)=>{var S=A(414);function E(){}function D(){}D.resetWarningCache=E,_.exports=function(){function y(J,z,B,O,j,Q){if(Q!==S){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}}function R(){return y}y.isRequired=y;var V={array:y,bigint:y,bool:y,func:y,number:y,object:y,string:y,symbol:y,any:y,arrayOf:R,element:y,elementType:y,instanceOf:R,node:y,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:D,resetWarningCache:E};return V.PropTypes=V,V}},697:(_,k,A)=>{_.exports=A(703)()},414:_=>{_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:_=>{_.exports=d}},f={};function g(_){var k=f[_];if(k!==void 0)return k.exports;var A=f[_]={exports:{}};return h[_](A,A.exports,g),A.exports}g.n=_=>{var k=_&&_.__esModule?()=>_.default:()=>_;return g.d(k,{a:k}),k},g.d=(_,k)=>{for(var A in k)g.o(k,A)&&!g.o(_,A)&&Object.defineProperty(_,A,{enumerable:!0,get:k[A]})},g.o=(_,k)=>Object.prototype.hasOwnProperty.call(_,k),g.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var b={};return(()=>{g.r(b),g.d(b,{CKEditor:()=>on,CKEditorContext:()=>Ls});var _=g(787),k=g.n(_),A=g(697),S=g.n(A);const E=new Array(256).fill("").map((v,C)=>("0"+C.toString(16)).slice(-2));class D{constructor(C){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof C.crashNumberLimit=="number"?C.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof C.minimumNonErrorTimePeriod=="number"?C.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=P=>{const N="error"in P?P.error:P.reason;N instanceof Error&&this._handleError(N,P)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(C,P){this._listeners[C]||(this._listeners[C]=[]),this._listeners[C].push(P)}off(C,P){this._listeners[C]=this._listeners[C].filter(N=>N!==P)}_fire(C,...P){const N=this._listeners[C]||[];for(const ie of N)ie.apply(this,[null,...P])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(C,P){if(this._shouldReactToError(C)){this.crashes.push({message:C.message,stack:C.stack,filename:P instanceof ErrorEvent?P.filename:void 0,lineno:P instanceof ErrorEvent?P.lineno:void 0,colno:P instanceof ErrorEvent?P.colno:void 0,date:this._now()});const N=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:C,causesRestart:N}),N?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(C){return C.is&&C.is("CKEditorError")&&C.context!==void 0&&C.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(C)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function y(v,C=new Set){const P=[v],N=new Set;let ie=0;for(;P.length>ie;){const ce=P[ie++];if(!N.has(ce)&&R(ce)&&!C.has(ce))if(N.add(ce),Symbol.iterator in ce)try{for(const fe of ce)P.push(fe)}catch{}else for(const fe in ce)fe!=="defaultValue"&&P.push(ce[fe])}return N}function R(v){const C=Object.prototype.toString.call(v),P=typeof v;return!(P==="number"||P==="boolean"||P==="string"||P==="symbol"||P==="function"||C==="[object Date]"||C==="[object RegExp]"||C==="[object Module]"||v==null||v._watchdogExcluded||v instanceof EventTarget||v instanceof Event)}function V(v,C,P=new Set){if(v===C&&typeof(N=v)=="object"&&N!==null)return!0;var N;const ie=y(v,P),ce=y(C,P);for(const fe of ie)if(ce.has(fe))return!0;return!1}const J=function(v){var C=typeof v;return v!=null&&(C=="object"||C=="function")},z=typeof dn=="object"&&dn&&dn.Object===Object&&dn;var B=typeof self=="object"&&self&&self.Object===Object&&self;const O=z||B||Function("return this")(),j=function(){return O.Date.now()};var Q=/\s/;const H=function(v){for(var C=v.length;C--&&Q.test(v.charAt(C)););return C};var U=/^\s+/;const q=function(v){return v&&v.slice(0,H(v)+1).replace(U,"")},oe=O.Symbol;var ee=Object.prototype,ge=ee.hasOwnProperty,je=ee.toString,Qe=oe?oe.toStringTag:void 0;const nn=function(v){var C=ge.call(v,Qe),P=v[Qe];try{v[Qe]=void 0;var N=!0}catch{}var ie=je.call(v);return N&&(C?v[Qe]=P:delete v[Qe]),ie};var dt=Object.prototype.toString;const Me=function(v){return dt.call(v)};var ut=oe?oe.toStringTag:void 0;const X=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":ut&&ut in Object(v)?nn(v):Me(v)},se=function(v){return v!=null&&typeof v=="object"},he=function(v){return typeof v=="symbol"||se(v)&&X(v)=="[object Symbol]"};var We=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,Ee=/^0o[0-7]+$/i,mn=parseInt;const Ro=function(v){if(typeof v=="number")return v;if(he(v))return NaN;if(J(v)){var C=typeof v.valueOf=="function"?v.valueOf():v;v=J(C)?C+"":C}if(typeof v!="string")return v===0?v:+v;v=q(v);var P=I.test(v);return P||Ee.test(v)?mn(v.slice(2),P?2:8):We.test(v)?NaN:+v};var Tn=Math.max,Oo=Math.min;const tl=function(v,C,P){var N,ie,ce,fe,pe,Je,Le=0,br=!1,qt=!1,_n=!0;if(typeof v!="function")throw new TypeError("Expected a function");function $o(Lt){var Rn=N,mo=ie;return N=ie=void 0,Le=Lt,fe=v.apply(mo,Rn)}function Di(Lt){var Rn=Lt-Je;return Je===void 0||Rn>=C||Rn<0||qt&&Lt-Le>=ce}function go(){var Lt=j();if(Di(Lt))return Kt(Lt);pe=setTimeout(go,function(Rn){var mo=C-(Rn-Je);return qt?Oo(mo,ce-(Rn-Le)):mo}(Lt))}function Kt(Lt){return pe=void 0,_n&&N?$o(Lt):(N=ie=void 0,fe)}function rn(){var Lt=j(),Rn=Di(Lt);if(N=arguments,ie=this,Je=Lt,Rn){if(pe===void 0)return function(mo){return Le=mo,pe=setTimeout(go,C),br?$o(mo):fe}(Je);if(qt)return clearTimeout(pe),pe=setTimeout(go,C),$o(Je)}return pe===void 0&&(pe=setTimeout(go,C)),fe}return C=Ro(C)||0,J(P)&&(br=!!P.leading,ce=(qt="maxWait"in P)?Tn(Ro(P.maxWait)||0,C):ce,_n="trailing"in P?!!P.trailing:_n),rn.cancel=function(){pe!==void 0&&clearTimeout(pe),Le=0,N=Je=ie=pe=void 0},rn.flush=function(){return pe===void 0?fe:Kt(j())},rn},zo=function(v,C,P){var N=!0,ie=!0;if(typeof v!="function")throw new TypeError("Expected a function");return J(P)&&(N="leading"in P?!!P.leading:N,ie="trailing"in P?!!P.trailing:ie),tl(v,C,{leading:N,maxWait:C,trailing:ie})},ks=function(){this.__data__=[],this.size=0},kn=function(v,C){return v===C||v!=v&&C!=C},bi=function(v,C){for(var P=v.length;P--;)if(kn(v[P][0],C))return P;return-1};var Se=Array.prototype.splice;const Qd=function(v){var C=this.__data__,P=bi(C,v);return!(P<0)&&(P==C.length-1?C.pop():Se.call(C,P,1),--this.size,!0)},nl=function(v){var C=this.__data__,P=bi(C,v);return P<0?void 0:C[P][1]},bs=function(v){return bi(this.__data__,v)>-1},ol=function(v,C){var P=this.__data__,N=bi(P,v);return N<0?(++this.size,P.push([v,C])):P[N][1]=C,this};function Mo(v){var C=-1,P=v==null?0:v.length;for(this.clear();++C<P;){var N=v[C];this.set(N[0],N[1])}}Mo.prototype.clear=ks,Mo.prototype.delete=Qd,Mo.prototype.get=nl,Mo.prototype.has=bs,Mo.prototype.set=ol;const ur=Mo,ws=function(){this.__data__=new ur,this.size=0},il=function(v){var C=this.__data__,P=C.delete(v);return this.size=C.size,P},rl=function(v){return this.__data__.get(v)},Zd=function(v){return this.__data__.has(v)},hr=function(v){if(!J(v))return!1;var C=X(v);return C=="[object Function]"||C=="[object GeneratorFunction]"||C=="[object AsyncFunction]"||C=="[object Proxy]"},_s=O["__core-js_shared__"];var Ne=function(){var v=/[^.]+$/.exec(_s&&_s.keys&&_s.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}();const fr=function(v){return!!Ne&&Ne in v};var pr=Function.prototype.toString;const bn=function(v){if(v!=null){try{return pr.call(v)}catch{}try{return v+""}catch{}}return""};var No=/^\[object .+?Constructor\]$/,sl=Function.prototype,al=Object.prototype,De=sl.toString,vs=al.hasOwnProperty,Jd=RegExp("^"+De.call(vs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Yd=function(v){return!(!J(v)||fr(v))&&(hr(v)?Jd:No).test(bn(v))},Xd=function(v,C){return v==null?void 0:v[C]},qn=function(v,C){var P=Xd(v,C);return Yd(P)?P:void 0},wi=qn(O,"Map"),_i=qn(Object,"create"),eu=function(){this.__data__=_i?_i(null):{},this.size=0},ll=function(v){var C=this.has(v)&&delete this.__data__[v];return this.size-=C?1:0,C};var tu=Object.prototype.hasOwnProperty;const nu=function(v){var C=this.__data__;if(_i){var P=C[v];return P==="__lodash_hash_undefined__"?void 0:P}return tu.call(C,v)?C[v]:void 0};var Cs=Object.prototype.hasOwnProperty;const Et=function(v){var C=this.__data__;return _i?C[v]!==void 0:Cs.call(C,v)},Ft=function(v,C){var P=this.__data__;return this.size+=this.has(v)?0:1,P[v]=_i&&C===void 0?"__lodash_hash_undefined__":C,this};function Fo(v){var C=-1,P=v==null?0:v.length;for(this.clear();++C<P;){var N=v[C];this.set(N[0],N[1])}}Fo.prototype.clear=eu,Fo.prototype.delete=ll,Fo.prototype.get=nu,Fo.prototype.has=Et,Fo.prototype.set=Ft;const As=Fo,ou=function(){this.size=0,this.__data__={hash:new As,map:new(wi||ur),string:new As}},iu=function(v){var C=typeof v;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?v!=="__proto__":v===null},Bt=function(v,C){var P=v.__data__;return iu(C)?P[typeof C=="string"?"string":"hash"]:P.map},ru=function(v){var C=Bt(this,v).delete(v);return this.size-=C?1:0,C},wn=function(v){return Bt(this,v).get(v)},cl=function(v){return Bt(this,v).has(v)},su=function(v,C){var P=Bt(this,v),N=P.size;return P.set(v,C),this.size+=P.size==N?0:1,this};function Lo(v){var C=-1,P=v==null?0:v.length;for(this.clear();++C<P;){var N=v[C];this.set(N[0],N[1])}}Lo.prototype.clear=ou,Lo.prototype.delete=ru,Lo.prototype.get=wn,Lo.prototype.has=cl,Lo.prototype.set=su;const vi=Lo,au=function(v,C){var P=this.__data__;if(P instanceof ur){var N=P.__data__;if(!wi||N.length<199)return N.push([v,C]),this.size=++P.size,this;P=this.__data__=new vi(N)}return P.set(v,C),this.size=P.size,this};function Vo(v){var C=this.__data__=new ur(v);this.size=C.size}Vo.prototype.clear=ws,Vo.prototype.delete=il,Vo.prototype.get=rl,Vo.prototype.has=Zd,Vo.prototype.set=au;const lu=Vo,cu=function(v,C){for(var P=-1,N=v==null?0:v.length;++P<N&&C(v[P],P,v)!==!1;);return v},dl=function(){try{var v=qn(Object,"defineProperty");return v({},"",{}),v}catch{}}(),ul=function(v,C,P){C=="__proto__"&&dl?dl(v,C,{configurable:!0,enumerable:!0,value:P,writable:!0}):v[C]=P};var du=Object.prototype.hasOwnProperty;const hl=function(v,C,P){var N=v[C];du.call(v,C)&&kn(N,P)&&(P!==void 0||C in v)||ul(v,C,P)},Ci=function(v,C,P,N){var ie=!P;P||(P={});for(var ce=-1,fe=C.length;++ce<fe;){var pe=C[ce],Je=N?N(P[pe],v[pe],pe,P,v):void 0;Je===void 0&&(Je=v[pe]),ie?ul(P,pe,Je):hl(P,pe,Je)}return P},uu=function(v,C){for(var P=-1,N=Array(v);++P<v;)N[P]=C(P);return N},Pn=function(v){return se(v)&&X(v)=="[object Arguments]"};var fl=Object.prototype,St=fl.hasOwnProperty,hu=fl.propertyIsEnumerable;const $t=Pn(function(){return arguments}())?Pn:function(v){return se(v)&&St.call(v,"callee")&&!hu.call(v,"callee")},ys=Array.isArray,fu=function(){return!1};var xs=a&&!a.nodeType&&a,pl=xs&&!0&&r&&!r.nodeType&&r,gl=pl&&pl.exports===xs?O.Buffer:void 0;const Es=(gl?gl.isBuffer:void 0)||fu;var pu=/^(?:0|[1-9]\d*)$/;const Ss=function(v,C){var P=typeof v;return!!(C=C??9007199254740991)&&(P=="number"||P!="symbol"&&pu.test(v))&&v>-1&&v%1==0&&v<C},ml=function(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=9007199254740991};var Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1;const gu=function(v){return se(v)&&ml(v.length)&&!!Fe[X(v)]},gr=function(v){return function(C){return v(C)}};var kl=a&&!a.nodeType&&a,Ai=kl&&!0&&r&&!r.nodeType&&r,Ds=Ai&&Ai.exports===kl&&z.process;const pt=function(){try{var v=Ai&&Ai.require&&Ai.require("util").types;return v||Ds&&Ds.binding&&Ds.binding("util")}catch{}}();var bl=pt&&pt.isTypedArray;const mu=bl?gr(bl):gu;var ku=Object.prototype.hasOwnProperty;const jo=function(v,C){var P=ys(v),N=!P&&$t(v),ie=!P&&!N&&Es(v),ce=!P&&!N&&!ie&&mu(v),fe=P||N||ie||ce,pe=fe?uu(v.length,String):[],Je=pe.length;for(var Le in v)!C&&!ku.call(v,Le)||fe&&(Le=="length"||ie&&(Le=="offset"||Le=="parent")||ce&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||Ss(Le,Je))||pe.push(Le);return pe};var bu=Object.prototype;const Ho=function(v){var C=v&&v.constructor;return v===(typeof C=="function"&&C.prototype||bu)},wl=function(v,C){return function(P){return v(C(P))}},wu=wl(Object.keys,Object);var _u=Object.prototype.hasOwnProperty;const vu=function(v){if(!Ho(v))return wu(v);var C=[];for(var P in Object(v))_u.call(v,P)&&P!="constructor"&&C.push(P);return C},_l=function(v){return v!=null&&ml(v.length)&&!hr(v)},Ts=function(v){return _l(v)?jo(v):vu(v)},Cu=function(v,C){return v&&Ci(C,Ts(C),v)},Au=function(v){var C=[];if(v!=null)for(var P in Object(v))C.push(P);return C};var yu=Object.prototype.hasOwnProperty;const xu=function(v){if(!J(v))return Au(v);var C=Ho(v),P=[];for(var N in v)(N!="constructor"||!C&&yu.call(v,N))&&P.push(N);return P},Kn=function(v){return _l(v)?jo(v,!0):xu(v)},mr=function(v,C){return v&&Ci(C,Kn(C),v)};var vl=a&&!a.nodeType&&a,Cl=vl&&!0&&r&&!r.nodeType&&r,Al=Cl&&Cl.exports===vl?O.Buffer:void 0,yl=Al?Al.allocUnsafe:void 0;const Eu=function(v,C){if(C)return v.slice();var P=v.length,N=yl?yl(P):new v.constructor(P);return v.copy(N),N},Su=function(v,C){var P=-1,N=v.length;for(C||(C=Array(N));++P<N;)C[P]=v[P];return C},Du=function(v,C){for(var P=-1,N=v==null?0:v.length,ie=0,ce=[];++P<N;){var fe=v[P];C(fe,P,v)&&(ce[ie++]=fe)}return ce},xl=function(){return[]};var Tu=Object.prototype.propertyIsEnumerable,El=Object.getOwnPropertySymbols;const Ps=El?function(v){return v==null?[]:(v=Object(v),Du(El(v),function(C){return Tu.call(v,C)}))}:xl,Pu=function(v,C){return Ci(v,Ps(v),C)},Sl=function(v,C){for(var P=-1,N=C.length,ie=v.length;++P<N;)v[ie+P]=C[P];return v},In=wl(Object.getPrototypeOf,Object),Dl=Object.getOwnPropertySymbols?function(v){for(var C=[];v;)Sl(C,Ps(v)),v=In(v);return C}:xl,Is=function(v,C){return Ci(v,Dl(v),C)},Bs=function(v,C,P){var N=C(v);return ys(v)?N:Sl(N,P(v))},Iu=function(v){return Bs(v,Ts,Ps)},Bu=function(v){return Bs(v,Kn,Dl)},Rs=qn(O,"DataView"),Os=qn(O,"Promise"),zs=qn(O,"Set"),Bn=qn(O,"WeakMap");var Tl="[object Map]",Pl="[object Promise]",Il="[object Set]",Bl="[object WeakMap]",Rl="[object DataView]",Ru=bn(Rs),Ou=bn(wi),zu=bn(Os),Mu=bn(zs),Nu=bn(Bn),ho=X;(Rs&&ho(new Rs(new ArrayBuffer(1)))!=Rl||wi&&ho(new wi)!=Tl||Os&&ho(Os.resolve())!=Pl||zs&&ho(new zs)!=Il||Bn&&ho(new Bn)!=Bl)&&(ho=function(v){var C=X(v),P=C=="[object Object]"?v.constructor:void 0,N=P?bn(P):"";if(N)switch(N){case Ru:return Rl;case Ou:return Tl;case zu:return Pl;case Mu:return Il;case Nu:return Bl}return C});const Ms=ho;var fo=Object.prototype.hasOwnProperty;const Fu=function(v){var C=v.length,P=new v.constructor(C);return C&&typeof v[0]=="string"&&fo.call(v,"index")&&(P.index=v.index,P.input=v.input),P},Uo=O.Uint8Array,Ns=function(v){var C=new v.constructor(v.byteLength);return new Uo(C).set(new Uo(v)),C},yi=function(v,C){var P=C?Ns(v.buffer):v.buffer;return new v.constructor(P,v.byteOffset,v.byteLength)};var Lu=/\w*$/;const Vu=function(v){var C=new v.constructor(v.source,Lu.exec(v));return C.lastIndex=v.lastIndex,C};var Ol=oe?oe.prototype:void 0,zl=Ol?Ol.valueOf:void 0;const ju=function(v){return zl?Object(zl.call(v)):{}},Hu=function(v,C){var P=C?Ns(v.buffer):v.buffer;return new v.constructor(P,v.byteOffset,v.length)},Uu=function(v,C,P){var N=v.constructor;switch(C){case"[object ArrayBuffer]":return Ns(v);case"[object Boolean]":case"[object Date]":return new N(+v);case"[object DataView]":return yi(v,P);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Hu(v,P);case"[object Map]":case"[object Set]":return new N;case"[object Number]":case"[object String]":return new N(v);case"[object RegExp]":return Vu(v);case"[object Symbol]":return ju(v)}};var Ml=Object.create;const Wu=function(){function v(){}return function(C){if(!J(C))return{};if(Ml)return Ml(C);v.prototype=C;var P=new v;return v.prototype=void 0,P}}(),$u=function(v){return typeof v.constructor!="function"||Ho(v)?{}:Wu(In(v))},qu=function(v){return se(v)&&Ms(v)=="[object Map]"};var Nl=pt&&pt.isMap;const Ku=Nl?gr(Nl):qu,Gu=function(v){return se(v)&&Ms(v)=="[object Set]"};var Fl=pt&&pt.isSet;const Qu=Fl?gr(Fl):Gu;var po="[object Arguments]",Fs="[object Function]",Ll="[object Object]",Be={};Be[po]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object DataView]"]=Be["[object Boolean]"]=Be["[object Date]"]=Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Map]"]=Be["[object Number]"]=Be[Ll]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object Symbol]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Error]"]=Be[Fs]=Be["[object WeakMap]"]=!1;const Zu=function v(C,P,N,ie,ce,fe){var pe,Je=1&P,Le=2&P,br=4&P;if(N&&(pe=ce?N(C,ie,ce,fe):N(C)),pe!==void 0)return pe;if(!J(C))return C;var qt=ys(C);if(qt){if(pe=Fu(C),!Je)return Su(C,pe)}else{var _n=Ms(C),$o=_n==Fs||_n=="[object GeneratorFunction]";if(Es(C))return Eu(C,Je);if(_n==Ll||_n==po||$o&&!ce){if(pe=Le||$o?{}:$u(C),!Je)return Le?Is(C,mr(pe,C)):Pu(C,Cu(pe,C))}else{if(!Be[_n])return ce?C:{};pe=Uu(C,_n,Je)}}fe||(fe=new lu);var Di=fe.get(C);if(Di)return Di;fe.set(C,pe),Qu(C)?C.forEach(function(Kt){pe.add(v(Kt,P,N,Kt,C,fe))}):Ku(C)&&C.forEach(function(Kt,rn){pe.set(rn,v(Kt,P,N,rn,C,fe))});var go=qt?void 0:(br?Le?Bu:Iu:Le?Kn:Ts)(C);return cu(go||C,function(Kt,rn){go&&(Kt=C[rn=Kt]),hl(pe,rn,v(Kt,P,N,rn,C,fe))}),pe},Ju=function(v,C){return Zu(v,5,C=typeof C=="function"?C:void 0)};var Yu=Function.prototype,kr=Object.prototype,Vl=Yu.toString,Xu=kr.hasOwnProperty,eh=Vl.call(Object);const th=function(v){if(!se(v)||X(v)!="[object Object]")return!1;var C=In(v);if(C===null)return!0;var P=Xu.call(C,"constructor")&&C.constructor;return typeof P=="function"&&P instanceof P&&Vl.call(P)==eh},nh=function(v){return se(v)&&v.nodeType===1&&!th(v)};class jl extends D{constructor(C,P={}){super(P),this._editor=null,this._throttledSave=zo(this._save.bind(this),typeof P.saveInterval=="number"?P.saveInterval:5e3),C&&(this._creator=(N,ie)=>C.create(N,ie)),this._destructor=N=>N.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(C){this._creator=C}setDestructor(C){this._destructor=C}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(C=>{console.error("An error happened during the editor destroying.",C)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const C=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,C,C.context)}}).then(()=>{this._fire("restart")})}create(C=this._elementOrData,P=this._config,N){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=C,this._config=this._cloneEditorConfiguration(P)||{},this._config.context=N,this._creator(C,this._config))).then(ie=>{this._editor=ie,ie.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ie.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const C=this._editor;return this._editor=null,C.model.document.off("change:data",this._throttledSave),this._destructor(C)})}_save(){const C=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=C}catch(P){console.error(P,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(C){this._excludedProps=C}_getData(){const C={};for(const P of this._editor.model.document.getRootNames())C[P]=this._editor.data.get({rootName:P});return C}_isErrorComingFromThisItem(C){return V(this._editor,C.context,this._excludedProps)}_cloneEditorConfiguration(C){return Ju(C,(P,N)=>nh(P)||N==="context"?P:void 0)}}const xi=Symbol("MainQueueId");class Hl extends D{constructor(C,P={}){super(P),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Wo,this._watchdogConfig=P,this._creator=N=>C.create(N),this._destructor=N=>N.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(C){this._creator=C}setDestructor(C){this._destructor=C}get context(){return this._context}create(C={}){return this._actionQueues.enqueue(xi,()=>(this._contextConfig=C,this._create()))}getItem(C){return this._getWatchdog(C)._item}getItemState(C){return this._getWatchdog(C).state}add(C){const P=Ei(C);return Promise.all(P.map(N=>this._actionQueues.enqueue(N.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ie;if(this._watchdogs.has(N.id))throw new Error(`Item with the given id is already added: '${N.id}'.`);if(N.type==="editor")return ie=new jl(null,this._watchdogConfig),ie.setCreator(N.creator),ie._setExcludedProperties(this._contextProps),N.destructor&&ie.setDestructor(N.destructor),this._watchdogs.set(N.id,ie),ie.on("error",(ce,{error:fe,causesRestart:pe})=>{this._fire("itemError",{itemId:N.id,error:fe}),pe&&this._actionQueues.enqueue(N.id,()=>new Promise(Je=>{const Le=()=>{ie.off("restart",Le),this._fire("itemRestart",{itemId:N.id}),Je()};ie.on("restart",Le)}))}),ie.create(N.sourceElementOrData,N.config,this._context);throw new Error(`Not supported item type: '${N.type}'.`)})))}remove(C){const P=Ei(C);return Promise.all(P.map(N=>this._actionQueues.enqueue(N,()=>{const ie=this._getWatchdog(N);return this._watchdogs.delete(N),ie.destroy()})))}destroy(){return this._actionQueues.enqueue(xi,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(xi,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(C=>{console.error("An error happened during destroying the context or items.",C)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(C=>(this._context=C,this._contextProps=y(this._context),Promise.all(Array.from(this._watchdogs.values()).map(P=>(P._setExcludedProperties(this._contextProps),P.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const C=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(P=>P.destroy())).then(()=>this._destructor(C))})}_getWatchdog(C){const P=this._watchdogs.get(C);if(!P)throw new Error(`Item with the given id was not registered: ${C}.`);return P}_isErrorComingFromThisItem(C){for(const P of this._watchdogs.values())if(P._isErrorComingFromThisItem(C))return!1;return V(this._context,C.context)}}class Wo{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(C){this._onEmptyCallbacks.push(C)}enqueue(C,P){const N=C===xi;this._activeActions++,this._queues.get(C)||this._queues.set(C,Promise.resolve());const ie=(N?Promise.all(this._queues.values()):Promise.all([this._queues.get(xi),this._queues.get(C)])).then(P),ce=ie.catch(()=>{});return this._queues.set(C,ce),ie.finally(()=>{this._activeActions--,this._queues.get(C)===ce&&this._activeActions===0&&this._onEmptyCallbacks.forEach(fe=>fe())})}}function Ei(v){return Array.isArray(v)?v:[v]}const Ul=k().createContext("contextWatchdog");class Ls extends k().Component{constructor(C,P){super(C,P),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(C){return this._shouldComponentUpdate(C)}async _shouldComponentUpdate(C){return C.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(C.config)),C.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(C.config),!0):this.props.children!==C.children}render(){return k().createElement(Ul.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(C){this.contextWatchdog=new Hl(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(P,N)=>{this.props.onError(N.error,{phase:"runtime",willContextRestart:N.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(C).catch(P=>{this.props.onError(P,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Ls.defaultProps={isLayoutReady:!0,onError:(v,C)=>console.error(v,C)},Ls.propTypes={id:S().string,isLayoutReady:S().bool,context:S().func,watchdogConfig:S().object,config:S().object,onReady:S().func,onError:S().func};const Vs="Lock from React integration (@ckeditor/ckeditor5-react)";class on extends k().Component{constructor(C){super(C),this.editorDestructionInProgress=null,this.domContainer=k().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:P}=window;if(P){const[N]=P.split(".").map(Number);N<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(C){return!!this.editor&&(C.id!==this.props.id||(this._shouldUpdateEditor(C)&&this.editor.data.set(C.data),"disabled"in C&&(C.disabled?this.editor.enableReadOnlyMode(Vs):this.editor.disableReadOnlyMode(Vs)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return k().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof Hl?this.watchdog=new Si(this.context):this.watchdog=new on._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((C,P)=>this._createEditor(C,P)),this.watchdog.on("error",(C,{error:P,causesRestart:N})=>{(this.props.onError||console.error)(P,{phase:"runtime",willEditorRestart:N})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(C=>{(this.props.onError||console.error)(C,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(C,P){return this.props.editor.create(C,P).then(N=>{"disabled"in this.props&&this.props.disabled&&N.enableReadOnlyMode(Vs);const ie=N.model.document,ce=N.editing.view.document;return ie.on("change:data",fe=>{this.props.onChange&&this.props.onChange(fe,N)}),ce.on("focus",fe=>{this.props.onFocus&&this.props.onFocus(fe,N)}),ce.on("blur",fe=>{this.props.onBlur&&this.props.onBlur(fe,N)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(N)}),N})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(C=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,C()}):C()})})}_shouldUpdateEditor(C){return this.props.data!==C.data&&this.editor.data.get()!==C.data}_getConfig(){const C=this.props.config||{};return this.props.data&&C.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...C,initialData:C.initialData||this.props.data||""}}}on.contextType=Ul,on.propTypes={editor:S().func.isRequired,data:S().string,config:S().object,watchdogConfig:S().object,onChange:S().func,onReady:S().func,onFocus:S().func,onBlur:S().func,onError:S().func,disabled:S().bool,id:S().any},on._EditorWatchdog=jl;class Si{constructor(C){this._contextWatchdog=C,this._id=function(){const P=4294967296*Math.random()>>>0,N=4294967296*Math.random()>>>0,ie=4294967296*Math.random()>>>0,ce=4294967296*Math.random()>>>0;return"e"+E[P>>0&255]+E[P>>8&255]+E[P>>16&255]+E[P>>24&255]+E[N>>0&255]+E[N>>8&255]+E[N>>16&255]+E[N>>24&255]+E[ie>>0&255]+E[ie>>8&255]+E[ie>>16&255]+E[ie>>24&255]+E[ce>>0&255]+E[ce>>8&255]+E[ce>>16&255]+E[ce>>24&255]}()}setCreator(C){this._creator=C}create(C,P){return this._contextWatchdog.add({sourceElementOrData:C,config:P,creator:this._creator,id:this._id,type:"editor"})}on(C,P){this._contextWatchdog.on("itemError",(N,{itemId:ie,error:ce})=>{ie===this._id&&P(null,{error:ce,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),b})())})(TL,Qa);var Bd={},PL={get exports(){return Bd},set exports(r){Bd=r}};(function(r,a){(function(d){const h=d.en=d.en||{};h.dictionary=Object.assign(h.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","This link has no URL":"This link has no URL","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(h,f){r.exports=f()})(self,()=>(()=>{var d={636:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const R=y},390:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const R=y},3638:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},8894:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const R=y},4401:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const R=y},3230:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const R=y},9048:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const R=y},8662:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const R=y},4622:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},9899:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const R=y},9825:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const R=y},5870:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const R=y},6831:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},399:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const R=y},9465:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},4827:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},9989:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},8085:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const R=y},4104:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const R=y},4777:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const R=y},5593:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},4499:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const R=y},9681:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const R=y},4923:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const R=y},3488:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},6875:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},66:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},5075:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const R=y},4547:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},5523:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const R=y},1174:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},6985:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},2751:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const R=y},8111:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},1162:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},8245:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},1757:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const R=y},3553:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},3609:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},1590:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const R=y},6706:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const R=y},5571:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=y},9948:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const R=y},6150:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const R=y},6507:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=y},2263:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const R=y},5137:(b,_,k)=>{k.d(_,{Z:()=>R});var A=k(4015),S=k.n(A),E=k(3645),D=k.n(E),y=D()(S());y.push([b.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const R=y},3645:b=>{b.exports=function(_){var k=[];return k.toString=function(){return this.map(function(S){var E=_(S);return S[2]?"@media ".concat(S[2]," {").concat(E,"}"):E}).join("")},k.i=function(A,S,E){typeof A=="string"&&(A=[[null,A,""]]);var D={};if(E)for(var y=0;y<this.length;y++){var R=this[y][0];R!=null&&(D[R]=!0)}for(var V=0;V<A.length;V++){var J=[].concat(A[V]);E&&D[J[0]]||(S&&(J[2]?J[2]="".concat(S," and ").concat(J[2]):J[2]=S),k.push(J))}},k}},4015:b=>{function _(y,R){return D(y)||E(y,R)||A(y,R)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(y,R){if(y){if(typeof y=="string")return S(y,R);var V=Object.prototype.toString.call(y).slice(8,-1);if(V==="Object"&&y.constructor&&(V=y.constructor.name),V==="Map"||V==="Set")return Array.from(y);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return S(y,R)}}function S(y,R){(R==null||R>y.length)&&(R=y.length);for(var V=0,J=new Array(R);V<R;V++)J[V]=y[V];return J}function E(y,R){var V=y&&(typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"]);if(V!=null){var J=[],z=!0,B=!1,O,j;try{for(V=V.call(y);!(z=(O=V.next()).done)&&(J.push(O.value),!(R&&J.length===R));z=!0);}catch(Q){B=!0,j=Q}finally{try{!z&&V.return!=null&&V.return()}finally{if(B)throw j}}return J}}function D(y){if(Array.isArray(y))return y}b.exports=function(R){var V=_(R,4),J=V[1],z=V[3];if(!z)return J;if(typeof btoa=="function"){var B=btoa(unescape(encodeURIComponent(JSON.stringify(z)))),O="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(B),j="/*# ".concat(O," */"),Q=z.sources.map(function(H){return"/*# sourceURL=".concat(z.sourceRoot||"").concat(H," */")});return[J].concat(Q).concat([j]).join(`
`)}return[J].join(`
`)}},3379:(b,_,k)=>{var A=function(){var U;return function(){return typeof U>"u"&&(U=!!(window&&document&&document.all&&!window.atob)),U}}(),S=function(){var U={};return function(oe){if(typeof U[oe]>"u"){var ee=document.querySelector(oe);if(window.HTMLIFrameElement&&ee instanceof window.HTMLIFrameElement)try{ee=ee.contentDocument.head}catch{ee=null}U[oe]=ee}return U[oe]}}(),E=[];function D(H){for(var U=-1,q=0;q<E.length;q++)if(E[q].identifier===H){U=q;break}return U}function y(H,U){for(var q={},oe=[],ee=0;ee<H.length;ee++){var ge=H[ee],je=U.base?ge[0]+U.base:ge[0],Qe=q[je]||0,nn="".concat(je," ").concat(Qe);q[je]=Qe+1;var dt=D(nn),Me={css:ge[1],media:ge[2],sourceMap:ge[3]};dt!==-1?(E[dt].references++,E[dt].updater(Me)):E.push({identifier:nn,updater:Q(Me,U),references:1}),oe.push(nn)}return oe}function R(H){var U=document.createElement("style"),q=H.attributes||{};if(typeof q.nonce>"u"){var oe=k.nc;oe&&(q.nonce=oe)}if(Object.keys(q).forEach(function(ge){U.setAttribute(ge,q[ge])}),typeof H.insert=="function")H.insert(U);else{var ee=S(H.insert||"head");if(!ee)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ee.appendChild(U)}return U}function V(H){if(H.parentNode===null)return!1;H.parentNode.removeChild(H)}var J=function(){var U=[];return function(oe,ee){return U[oe]=ee,U.filter(Boolean).join(`
`)}}();function z(H,U,q,oe){var ee=q?"":oe.media?"@media ".concat(oe.media," {").concat(oe.css,"}"):oe.css;if(H.styleSheet)H.styleSheet.cssText=J(U,ee);else{var ge=document.createTextNode(ee),je=H.childNodes;je[U]&&H.removeChild(je[U]),je.length?H.insertBefore(ge,je[U]):H.appendChild(ge)}}function B(H,U,q){var oe=q.css,ee=q.media,ge=q.sourceMap;if(ee?H.setAttribute("media",ee):H.removeAttribute("media"),ge&&typeof btoa<"u"&&(oe+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ge))))," */")),H.styleSheet)H.styleSheet.cssText=oe;else{for(;H.firstChild;)H.removeChild(H.firstChild);H.appendChild(document.createTextNode(oe))}}var O=null,j=0;function Q(H,U){var q,oe,ee;if(U.singleton){var ge=j++;q=O||(O=R(U)),oe=z.bind(null,q,ge,!1),ee=z.bind(null,q,ge,!0)}else q=R(U),oe=B.bind(null,q,U),ee=function(){V(q)};return oe(H),function(Qe){if(Qe){if(Qe.css===H.css&&Qe.media===H.media&&Qe.sourceMap===H.sourceMap)return;oe(H=Qe)}else ee()}}b.exports=function(H,U){U=U||{},!U.singleton&&typeof U.singleton!="boolean"&&(U.singleton=A()),H=H||[];var q=y(H,U);return function(ee){if(ee=ee||[],Object.prototype.toString.call(ee)==="[object Array]"){for(var ge=0;ge<q.length;ge++){var je=q[ge],Qe=D(je);E[Qe].references--}for(var nn=y(ee,U),dt=0;dt<q.length;dt++){var Me=q[dt],ut=D(Me);E[ut].references===0&&(E[ut].updater(),E.splice(ut,1))}q=nn}}}}},h={};function f(b){var _=h[b];if(_!==void 0)return _.exports;var k=h[b]={id:b,exports:{}};return d[b](k,k.exports,f),k.exports}f.n=b=>{var _=b&&b.__esModule?()=>b.default:()=>b;return f.d(_,{a:_}),_},f.d=(b,_)=>{for(var k in _)f.o(_,k)&&!f.o(b,k)&&Object.defineProperty(b,k,{enumerable:!0,get:_[k]})},f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),f.o=(b,_)=>Object.prototype.hasOwnProperty.call(b,_),f.nc=void 0;var g={};return(()=>{f.d(g,{default:()=>t7});function b({emitter:o,activator:e,callback:t,contextElements:n}){o.listenTo(document,"mousedown",(i,s)=>{if(!e())return;const l=typeof s.composedPath=="function"?s.composedPath():[],c=typeof n=="function"?n():n;for(const u of c)if(u.contains(s.target)||l.includes(u))return;t()})}function _(o){class e extends o{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}return e}function k({view:o}){o.listenTo(o.element,"submit",(e,t)=>{t.preventDefault(),o.fire("submit")},{useCapture:!0})}function A({keystrokeHandler:o,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:i}){const s=typeof n=="number"?()=>n:n;o.set("arrowright",l((p,m)=>i==="rtl"?u(p,m.length):c(p,m.length))),o.set("arrowleft",l((p,m)=>i==="rtl"?c(p,m.length):u(p,m.length))),o.set("arrowup",l((p,m)=>{let w=p-s();return w<0&&(w=p+s()*Math.floor(m.length/s()),w>m.length-1&&(w-=s())),w})),o.set("arrowdown",l((p,m)=>{let w=p+s();return w>m.length-1&&(w=p%s()),w}));function l(p){return m=>{const w=t.find(M=>M.element===e.focusedElement),x=t.getIndex(w),T=p(x,t);t.get(T).focus(),m.stopPropagation(),m.preventDefault()}}function c(p,m){return p===m-1?0:p+1}function u(p,m){return p===0?m-1:p-1}}function S(){try{return navigator.userAgent.toLowerCase()}catch{return""}}const E=S(),y={isMac:R(E),isWindows:V(E),isGecko:J(E),isSafari:z(E),isiOS:B(E),isAndroid:O(E),isBlink:j(E),features:{isRegExpUnicodePropertySupported:Q()}};function R(o){return o.indexOf("macintosh")>-1}function V(o){return o.indexOf("windows")>-1}function J(o){return!!o.match(/gecko\/\d+/)}function z(o){return o.indexOf(" applewebkit/")>-1&&o.indexOf("chrome")===-1}function B(o){return!!o.match(/iphone|ipad/i)||R(o)&&navigator.maxTouchPoints>0}function O(o){return o.indexOf("android")>-1}function j(o){return o.indexOf("chrome/")>-1&&o.indexOf("edge/")<0}function Q(){let o=!1;try{o="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return o}function H(o,e,t,n){t=t||function(u,p){return u===p};const i=Array.isArray(o)?o:Array.prototype.slice.call(o),s=Array.isArray(e)?e:Array.prototype.slice.call(e),l=U(i,s,t);return n?ge(l,s.length):ee(s,l)}function U(o,e,t){const n=q(o,e,t);if(n===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const i=oe(o,n),s=oe(e,n),l=q(i,s,t),c=o.length-l,u=e.length-l;return{firstIndex:n,lastIndexOld:c,lastIndexNew:u}}function q(o,e,t){for(let n=0;n<Math.max(o.length,e.length);n++)if(o[n]===void 0||e[n]===void 0||!t(o[n],e[n]))return n;return-1}function oe(o,e){return o.slice(e).reverse()}function ee(o,e){const t=[],{firstIndex:n,lastIndexOld:i,lastIndexNew:s}=e;return s-n>0&&t.push({index:n,type:"insert",values:o.slice(n,s)}),i-n>0&&t.push({index:n+(s-n),type:"delete",howMany:i-n}),t}function ge(o,e){const{firstIndex:t,lastIndexOld:n,lastIndexNew:i}=o;if(t===-1)return Array(e).fill("equal");let s=[];return t>0&&(s=s.concat(Array(t).fill("equal"))),i-t>0&&(s=s.concat(Array(i-t).fill("insert"))),n-t>0&&(s=s.concat(Array(n-t).fill("delete"))),i<e&&(s=s.concat(Array(e-i).fill("equal"))),s}function je(o,e,t){t=t||function(F,W){return F===W};const n=o.length,i=e.length;if(n>200||i>200||n+i>300)return je.fastDiff(o,e,t,!0);let s,l;if(i<n){const F=o;o=e,e=F,s="delete",l="insert"}else s="insert",l="delete";const c=o.length,u=e.length,p=u-c,m={},w={};function x(F){const W=(w[F-1]!==void 0?w[F-1]:-1)+1,K=w[F+1]!==void 0?w[F+1]:-1,ne=W>K?-1:1;m[F+ne]&&(m[F]=m[F+ne].slice(0)),m[F]||(m[F]=[]),m[F].push(W>K?s:l);let Ce=Math.max(W,K),Ve=Ce-F;for(;Ve<c&&Ce<u&&t(o[Ve],e[Ce]);)Ve++,Ce++,m[F].push("equal");return Ce}let T=0,M;do{for(M=-T;M<p;M++)w[M]=x(M);for(M=p+T;M>p;M--)w[M]=x(M);w[p]=x(p),T++}while(w[p]!==u);return m[p].slice(1)}je.fastDiff=H;function Qe(){return function o(){o.called=!0}}const nn=Qe;class dt{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=nn(),this.off=nn()}}const Me=new Array(256).fill("").map((o,e)=>("0"+e.toString(16)).slice(-2));function ut(){const o=Math.random()*4294967296>>>0,e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Me[o>>0&255]+Me[o>>8&255]+Me[o>>16&255]+Me[o>>24&255]+Me[e>>0&255]+Me[e>>8&255]+Me[e>>16&255]+Me[e>>24&255]+Me[t>>0&255]+Me[t>>8&255]+Me[t>>16&255]+Me[t>>24&255]+Me[n>>0&255]+Me[n>>8&255]+Me[n>>16&255]+Me[n>>24&255]}const se={get(o="normal"){return typeof o!="number"?this[o]||this.normal:o},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function he(o,e){const t=se.get(e.priority);for(let n=0;n<o.length;n++)if(se.get(o[n].priority)<t){o.splice(n,0,e);return}o.push(e)}const We="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class I extends Error{constructor(e,t,n){super(Ro(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new I(e.message,t);throw n.stack=e.stack,n}}function Ee(o,e){console.warn(...Tn(o,e))}function mn(o){return`
Read more: ${We}#error-${o}`}function Ro(o,e){const t=new WeakSet,i=e?` ${JSON.stringify(e,(l,c)=>{if(typeof c=="object"&&c!==null){if(t.has(c))return`[object ${c.constructor.name}]`;t.add(c)}return c})}`:"",s=mn(o);return o+i+s}function Tn(o,e){const t=mn(o);return e?[o,e,t]:[o,t]}const Oo="37.1.0",tl=typeof window=="object"?window:f.g;if(tl.CKEDITOR_VERSION)throw new I("ckeditor-duplicated-modules",null);tl.CKEDITOR_VERSION=Oo;const zo=Symbol("listeningTo"),ks=Symbol("emitterId"),kn=Symbol("delegations"),bi=Se(Object);function Se(o){if(!o)return bi;class e extends o{on(n,i,s){this.listenTo(this,n,i,s)}once(n,i,s){let l=!1;const c=(u,...p)=>{l||(l=!0,u.off(),i.call(this,u,...p))};this.listenTo(this,n,c,s)}off(n,i){this.stopListening(this,n,i)}listenTo(n,i,s,l={}){let c,u;this[zo]||(this[zo]={});const p=this[zo];bs(n)||nl(n);const m=bs(n);(c=p[m])||(c=p[m]={emitter:n,callbacks:{}}),(u=c.callbacks[i])||(u=c.callbacks[i]=[]),u.push(s),Zd(this,n,i,s,l)}stopListening(n,i,s){const l=this[zo];let c=n&&bs(n);const u=l&&c?l[c]:void 0,p=u&&i?u.callbacks[i]:void 0;if(!(!l||n&&!u||i&&!p))if(s)hr(this,n,i,s),p.indexOf(s)!==-1&&(p.length===1?delete u.callbacks[i]:hr(this,n,i,s));else if(p){for(;s=p.pop();)hr(this,n,i,s);delete u.callbacks[i]}else if(u){for(i in u.callbacks)this.stopListening(n,i);delete l[c]}else{for(c in l)this.stopListening(l[c].emitter);delete this[zo]}}fire(n,...i){try{const s=n instanceof dt?n:new dt(this,n),l=s.name;let c=il(this,l);if(s.path.push(this),c){const p=[s,...i];c=Array.from(c);for(let m=0;m<c.length&&(c[m].callback.apply(this,p),s.off.called&&(delete s.off.called,this._removeEventListener(l,c[m].callback)),!s.stop.called);m++);}const u=this[kn];if(u){const p=u.get(l),m=u.get("*");p&&rl(p,s,i),m&&rl(m,s,i)}return s.return}catch(s){I.rethrowUnexpectedError(s,this)}}delegate(...n){return{to:(i,s)=>{this[kn]||(this[kn]=new Map),n.forEach(l=>{const c=this[kn].get(l);c?c.set(i,s):this[kn].set(l,new Map([[i,s]]))})}}}stopDelegating(n,i){if(this[kn])if(!n)this[kn].clear();else if(!i)this[kn].delete(n);else{const s=this[kn].get(n);s&&s.delete(i)}}_addEventListener(n,i,s){ur(this,n);const l=ws(this,n),c=se.get(s.priority),u={callback:i,priority:c};for(const p of l)he(p,u)}_removeEventListener(n,i){const s=ws(this,n);for(const l of s)for(let c=0;c<l.length;c++)l[c].callback==i&&(l.splice(c,1),c--)}}return e}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{Se[o]=bi.prototype[o]});function Qd(o,e){const t=o[zo];return t&&t[e]?t[e].emitter:null}function nl(o,e){o[ks]||(o[ks]=e||ut())}function bs(o){return o[ks]}function ol(o){return o._events||Object.defineProperty(o,"_events",{value:{}}),o._events}function Mo(){return{callbacks:[],childEvents:[]}}function ur(o,e){const t=ol(o);if(t[e])return;let n=e,i=null;const s=[];for(;n!==""&&!t[n];)t[n]=Mo(),s.push(t[n]),i&&t[n].childEvents.push(i),i=n,n=n.substr(0,n.lastIndexOf(":"));if(n!==""){for(const l of s)l.callbacks=t[n].callbacks.slice();t[n].childEvents.push(i)}}function ws(o,e){const t=ol(o)[e];if(!t)return[];let n=[t.callbacks];for(let i=0;i<t.childEvents.length;i++){const s=ws(o,t.childEvents[i]);n=n.concat(s)}return n}function il(o,e){let t;return!o._events||!(t=o._events[e])||!t.callbacks.length?e.indexOf(":")>-1?il(o,e.substr(0,e.lastIndexOf(":"))):null:t.callbacks}function rl(o,e,t){for(let[n,i]of o){i?typeof i=="function"&&(i=i(e.name)):i=e.name;const s=new dt(e.source,i);s.path=[...e.path],n.fire(s,...t)}}function Zd(o,e,t,n,i){e._addEventListener?e._addEventListener(t,n,i):o._addEventListener.call(e,t,n,i)}function hr(o,e,t,n){e._removeEventListener?e._removeEventListener(t,n):o._removeEventListener.call(e,t,n)}function _s(o){var e=typeof o;return o!=null&&(e=="object"||e=="function")}const Ne=_s,fr=Symbol("observableProperties"),pr=Symbol("boundObservables"),bn=Symbol("boundProperties"),No=Symbol("decoratedMethods"),sl=Symbol("decoratedOriginal"),al=De(Se());function De(o){if(!o)return al;class e extends o{set(n,i){if(Ne(n)){Object.keys(n).forEach(l=>{this.set(l,n[l])},this);return}vs(this);const s=this[fr];if(n in this&&!s.has(n))throw new I("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get(){return s.get(n)},set(l){const c=s.get(n);let u=this.fire(`set:${n}`,n,l,c);u===void 0&&(u=l),(c!==u||!s.has(n))&&(s.set(n,u),this.fire(`change:${n}`,n,u,c))}}),this[n]=i}bind(...n){if(!n.length||!qn(n))throw new I("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new I("observable-bind-duplicate-properties",this);vs(this);const i=this[bn];n.forEach(l=>{if(i.has(l))throw new I("observable-bind-rebind",this)});const s=new Map;return n.forEach(l=>{const c={property:l,to:[]};i.set(l,c),s.set(l,c)}),{to:Jd,toMany:Yd,_observable:this,_bindProperties:n,_to:[],_bindings:s}}unbind(...n){if(!this[fr])return;const i=this[bn],s=this[pr];if(n.length){if(!qn(n))throw new I("observable-unbind-wrong-properties",this);n.forEach(l=>{const c=i.get(l);c&&(c.to.forEach(([u,p])=>{const m=s.get(u),w=m[p];w.delete(c),w.size||delete m[p],Object.keys(m).length||(s.delete(u),this.stopListening(u,"change"))}),i.delete(l))})}else s.forEach((l,c)=>{this.stopListening(c,"change")}),s.clear(),i.clear()}decorate(n){vs(this);const i=this[n];if(!i)throw new I("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(s,l)=>{s.return=i.apply(this,l)}),this[n]=function(...s){return this.fire(n,s)},this[n][sl]=i,this[No]||(this[No]=[]),this[No].push(n)}stopListening(n,i,s){if(!n&&this[No]){for(const l of this[No])this[l]=this[l][sl];delete this[No]}super.stopListening(n,i,s)}}return e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{De[o]=al.prototype[o]});function vs(o){o[fr]||(Object.defineProperty(o,fr,{value:new Map}),Object.defineProperty(o,pr,{value:new Map}),Object.defineProperty(o,bn,{value:new Map}))}function Jd(...o){const e=wi(...o),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new I("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new I("observable-bind-to-extra-callback",this);e.to.forEach(i=>{if(i.properties.length&&i.properties.length!==n)throw new I("observable-bind-to-properties-length",this);i.properties.length||(i.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),tu(this._observable,this._to),eu(this),this._bindProperties.forEach(i=>{ll(this._observable,i)})}function Yd(o,e,t){if(this._bindings.size>1)throw new I("observable-bind-to-many-not-one-binding",this);this.to(...Xd(o,e),t)}function Xd(o,e){const t=o.map(n=>[n,e]);return Array.prototype.concat.apply([],t)}function qn(o){return o.every(e=>typeof e=="string")}function wi(...o){if(!o.length)throw new I("observable-bind-to-parse-error",null);const e={to:[]};let t;return typeof o[o.length-1]=="function"&&(e.callback=o.pop()),o.forEach(n=>{if(typeof n=="string")t.properties.push(n);else if(typeof n=="object")t={observable:n,properties:[]},e.to.push(t);else throw new I("observable-bind-to-parse-error",null)}),e}function _i(o,e,t,n){const i=o[pr],s=i.get(t),l=s||{};l[n]||(l[n]=new Set),l[n].add(e),s||i.set(t,l)}function eu(o){let e;o._bindings.forEach((t,n)=>{o._to.forEach(i=>{e=i.properties[t.callback?0:o._bindProperties.indexOf(n)],t.to.push([i.observable,e]),_i(o._observable,t,i.observable,e)})})}function ll(o,e){const n=o[bn].get(e);let i;n.callback?i=n.callback.apply(o,n.to.map(s=>s[0][s[1]])):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(o,e)?o[e]=i:o.set(e,i)}function tu(o,e){e.forEach(t=>{const n=o[pr];let i;n.get(t.observable)||o.listenTo(t.observable,"change",(s,l)=>{i=n.get(t.observable)[l],i&&i.forEach(c=>{ll(o,c.property)})})})}class nu{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="",t&&t.remove()}),this._replacedElements=[]}}function Cs(o){let e=0;for(const t of o)e++;return e}function Et(o,e){const t=Math.min(o.length,e.length);for(let n=0;n<t;n++)if(o[n]!=e[n])return n;return o.length==e.length?"same":o.length<e.length?"prefix":"extension"}function Ft(o){return!!(o&&o[Symbol.iterator])}var Fo=typeof dn=="object"&&dn&&dn.Object===Object&&dn;const As=Fo;var ou=typeof self=="object"&&self&&self.Object===Object&&self,iu=As||ou||Function("return this")();const Bt=iu;var ru=Bt.Symbol;const wn=ru;var cl=Object.prototype,su=cl.hasOwnProperty,Lo=cl.toString,vi=wn?wn.toStringTag:void 0;function au(o){var e=su.call(o,vi),t=o[vi];try{o[vi]=void 0;var n=!0}catch{}var i=Lo.call(o);return n&&(e?o[vi]=t:delete o[vi]),i}const Vo=au;var lu=Object.prototype,cu=lu.toString;function dl(o){return cu.call(o)}const ul=dl;var du="[object Null]",hl="[object Undefined]",Ci=wn?wn.toStringTag:void 0;function uu(o){return o==null?o===void 0?hl:du:Ci&&Ci in Object(o)?Vo(o):ul(o)}const Pn=uu;var fl=Array.isArray;const St=fl;function hu(o){return o!=null&&typeof o=="object"}const $t=hu;var ys="[object String]";function fu(o){return typeof o=="string"||!St(o)&&$t(o)&&Pn(o)==ys}const xs=fu;function pl(o,e,t={},n=[]){const i=t&&t.xmlns,s=i?o.createElementNS(i,e):o.createElement(e);for(const l in t)s.setAttribute(l,t[l]);(xs(n)||!Ft(n))&&(n=[n]);for(let l of n)xs(l)&&(l=o.createTextNode(l)),s.appendChild(l);return s}function gl(o,e){return function(t){return o(e(t))}}const Es=gl;var pu=Es(Object.getPrototypeOf,Object);const Ss=pu;var ml="[object Object]",Fe=Function.prototype,gu=Object.prototype,gr=Fe.toString,kl=gu.hasOwnProperty,Ai=gr.call(Object);function Ds(o){if(!$t(o)||Pn(o)!=ml)return!1;var e=Ss(o);if(e===null)return!0;var t=kl.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&gr.call(t)==Ai}const pt=Ds;function bl(){this.__data__=[],this.size=0}const mu=bl;function ku(o,e){return o===e||o!==o&&e!==e}const jo=ku;function bu(o,e){for(var t=o.length;t--;)if(jo(o[t][0],e))return t;return-1}const Ho=bu;var wl=Array.prototype,wu=wl.splice;function _u(o){var e=this.__data__,t=Ho(e,o);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():wu.call(e,t,1),--this.size,!0}const vu=_u;function _l(o){var e=this.__data__,t=Ho(e,o);return t<0?void 0:e[t][1]}const Ts=_l;function Cu(o){return Ho(this.__data__,o)>-1}const Au=Cu;function yu(o,e){var t=this.__data__,n=Ho(t,o);return n<0?(++this.size,t.push([o,e])):t[n][1]=e,this}const xu=yu;function Kn(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}Kn.prototype.clear=mu,Kn.prototype.delete=vu,Kn.prototype.get=Ts,Kn.prototype.has=Au,Kn.prototype.set=xu;const mr=Kn;function vl(){this.__data__=new mr,this.size=0}const Cl=vl;function Al(o){var e=this.__data__,t=e.delete(o);return this.size=e.size,t}const yl=Al;function Eu(o){return this.__data__.get(o)}const Su=Eu;function Du(o){return this.__data__.has(o)}const xl=Du;var Tu="[object AsyncFunction]",El="[object Function]",Ps="[object GeneratorFunction]",Pu="[object Proxy]";function Sl(o){if(!Ne(o))return!1;var e=Pn(o);return e==El||e==Ps||e==Tu||e==Pu}const In=Sl;var Dl=Bt["__core-js_shared__"];const Is=Dl;var Bs=function(){var o=/[^.]+$/.exec(Is&&Is.keys&&Is.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function Iu(o){return!!Bs&&Bs in o}const Bu=Iu;var Rs=Function.prototype,Os=Rs.toString;function zs(o){if(o!=null){try{return Os.call(o)}catch{}try{return o+""}catch{}}return""}const Bn=zs;var Tl=/[\\^$.*+?()[\]{}|]/g,Pl=/^\[object .+?Constructor\]$/,Il=Function.prototype,Bl=Object.prototype,Rl=Il.toString,Ru=Bl.hasOwnProperty,Ou=RegExp("^"+Rl.call(Ru).replace(Tl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zu(o){if(!Ne(o)||Bu(o))return!1;var e=In(o)?Ou:Pl;return e.test(Bn(o))}const Mu=zu;function Nu(o,e){return o==null?void 0:o[e]}const ho=Nu;function Ms(o,e){var t=ho(o,e);return Mu(t)?t:void 0}const fo=Ms;var Fu=fo(Bt,"Map");const Uo=Fu;var Ns=fo(Object,"create");const yi=Ns;function Lu(){this.__data__=yi?yi(null):{},this.size=0}const Vu=Lu;function Ol(o){var e=this.has(o)&&delete this.__data__[o];return this.size-=e?1:0,e}const zl=Ol;var ju="__lodash_hash_undefined__",Hu=Object.prototype,Uu=Hu.hasOwnProperty;function Ml(o){var e=this.__data__;if(yi){var t=e[o];return t===ju?void 0:t}return Uu.call(e,o)?e[o]:void 0}const Wu=Ml;var $u=Object.prototype,qu=$u.hasOwnProperty;function Nl(o){var e=this.__data__;return yi?e[o]!==void 0:qu.call(e,o)}const Ku=Nl;var Gu="__lodash_hash_undefined__";function Fl(o,e){var t=this.__data__;return this.size+=this.has(o)?0:1,t[o]=yi&&e===void 0?Gu:e,this}const Qu=Fl;function po(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}po.prototype.clear=Vu,po.prototype.delete=zl,po.prototype.get=Wu,po.prototype.has=Ku,po.prototype.set=Qu;const Fs=po;function Ll(){this.size=0,this.__data__={hash:new Fs,map:new(Uo||mr),string:new Fs}}const Be=Ll;function Zu(o){var e=typeof o;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?o!=="__proto__":o===null}const Ju=Zu;function Yu(o,e){var t=o.__data__;return Ju(e)?t[typeof e=="string"?"string":"hash"]:t.map}const kr=Yu;function Vl(o){var e=kr(this,o).delete(o);return this.size-=e?1:0,e}const Xu=Vl;function eh(o){return kr(this,o).get(o)}const th=eh;function nh(o){return kr(this,o).has(o)}const jl=nh;function xi(o,e){var t=kr(this,o),n=t.size;return t.set(o,e),this.size+=t.size==n?0:1,this}const Hl=xi;function Wo(o){var e=-1,t=o==null?0:o.length;for(this.clear();++e<t;){var n=o[e];this.set(n[0],n[1])}}Wo.prototype.clear=Be,Wo.prototype.delete=Xu,Wo.prototype.get=th,Wo.prototype.has=jl,Wo.prototype.set=Hl;const Ei=Wo;var Ul=200;function Ls(o,e){var t=this.__data__;if(t instanceof mr){var n=t.__data__;if(!Uo||n.length<Ul-1)return n.push([o,e]),this.size=++t.size,this;t=this.__data__=new Ei(n)}return t.set(o,e),this.size=t.size,this}const Vs=Ls;function on(o){var e=this.__data__=new mr(o);this.size=e.size}on.prototype.clear=Cl,on.prototype.delete=yl,on.prototype.get=Su,on.prototype.has=xl,on.prototype.set=Vs;const Si=on;function v(o,e){for(var t=-1,n=o==null?0:o.length;++t<n&&e(o[t],t,o)!==!1;);return o}const C=v;var P=function(){try{var o=fo(Object,"defineProperty");return o({},"",{}),o}catch{}}();const N=P;function ie(o,e,t){e=="__proto__"&&N?N(o,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):o[e]=t}const ce=ie;var fe=Object.prototype,pe=fe.hasOwnProperty;function Je(o,e,t){var n=o[e];(!(pe.call(o,e)&&jo(n,t))||t===void 0&&!(e in o))&&ce(o,e,t)}const Le=Je;function br(o,e,t,n){var i=!t;t||(t={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=n?n(t[c],o[c],c,t,o):void 0;u===void 0&&(u=o[c]),i?ce(t,c,u):Le(t,c,u)}return t}const qt=br;function _n(o,e){for(var t=-1,n=Array(o);++t<o;)n[t]=e(t);return n}const $o=_n;var Di="[object Arguments]";function go(o){return $t(o)&&Pn(o)==Di}const Kt=go;var rn=Object.prototype,Lt=rn.hasOwnProperty,Rn=rn.propertyIsEnumerable,mo=Kt(function(){return arguments}())?Kt:function(o){return $t(o)&&Lt.call(o,"callee")&&!Rn.call(o,"callee")};const oh=mo;function Dx(){return!1}const Tx=Dx;var sk=a&&!a.nodeType&&a,ak=sk&&!0&&r&&!r.nodeType&&r,Px=ak&&ak.exports===sk,lk=Px?Bt.Buffer:void 0,Ix=lk?lk.isBuffer:void 0,Bx=Ix||Tx;const js=Bx;var Rx=9007199254740991,Ox=/^(?:0|[1-9]\d*)$/;function zx(o,e){var t=typeof o;return e=e??Rx,!!e&&(t=="number"||t!="symbol"&&Ox.test(o))&&o>-1&&o%1==0&&o<e}const ih=zx;var Mx=9007199254740991;function Nx(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Mx}const ck=Nx;var Fx="[object Arguments]",Lx="[object Array]",Vx="[object Boolean]",jx="[object Date]",Hx="[object Error]",Ux="[object Function]",Wx="[object Map]",$x="[object Number]",qx="[object Object]",Kx="[object RegExp]",Gx="[object Set]",Qx="[object String]",Zx="[object WeakMap]",Jx="[object ArrayBuffer]",Yx="[object DataView]",Xx="[object Float32Array]",eE="[object Float64Array]",tE="[object Int8Array]",nE="[object Int16Array]",oE="[object Int32Array]",iE="[object Uint8Array]",rE="[object Uint8ClampedArray]",sE="[object Uint16Array]",aE="[object Uint32Array]",$e={};$e[Xx]=$e[eE]=$e[tE]=$e[nE]=$e[oE]=$e[iE]=$e[rE]=$e[sE]=$e[aE]=!0,$e[Fx]=$e[Lx]=$e[Jx]=$e[Vx]=$e[Yx]=$e[jx]=$e[Hx]=$e[Ux]=$e[Wx]=$e[$x]=$e[qx]=$e[Kx]=$e[Gx]=$e[Qx]=$e[Zx]=!1;function lE(o){return $t(o)&&ck(o.length)&&!!$e[Pn(o)]}const cE=lE;function dE(o){return function(e){return o(e)}}const rh=dE;var dk=a&&!a.nodeType&&a,Hs=dk&&!0&&r&&!r.nodeType&&r,uE=Hs&&Hs.exports===dk,sh=uE&&As.process,hE=function(){try{var o=Hs&&Hs.require&&Hs.require("util").types;return o||sh&&sh.binding&&sh.binding("util")}catch{}}();const wr=hE;var uk=wr&&wr.isTypedArray,fE=uk?rh(uk):cE;const ah=fE;var pE=Object.prototype,gE=pE.hasOwnProperty;function mE(o,e){var t=St(o),n=!t&&oh(o),i=!t&&!n&&js(o),s=!t&&!n&&!i&&ah(o),l=t||n||i||s,c=l?$o(o.length,String):[],u=c.length;for(var p in o)(e||gE.call(o,p))&&!(l&&(p=="length"||i&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||ih(p,u)))&&c.push(p);return c}const hk=mE;var kE=Object.prototype;function bE(o){var e=o&&o.constructor,t=typeof e=="function"&&e.prototype||kE;return o===t}const lh=bE;var wE=Es(Object.keys,Object);const _E=wE;var vE=Object.prototype,CE=vE.hasOwnProperty;function AE(o){if(!lh(o))return _E(o);var e=[];for(var t in Object(o))CE.call(o,t)&&t!="constructor"&&e.push(t);return e}const yE=AE;function xE(o){return o!=null&&ck(o.length)&&!In(o)}const Wl=xE;function EE(o){return Wl(o)?hk(o):yE(o)}const ch=EE;function SE(o,e){return o&&qt(e,ch(e),o)}const DE=SE;function TE(o){var e=[];if(o!=null)for(var t in Object(o))e.push(t);return e}const PE=TE;var IE=Object.prototype,BE=IE.hasOwnProperty;function RE(o){if(!Ne(o))return PE(o);var e=lh(o),t=[];for(var n in o)n=="constructor"&&(e||!BE.call(o,n))||t.push(n);return t}const OE=RE;function zE(o){return Wl(o)?hk(o,!0):OE(o)}const _r=zE;function ME(o,e){return o&&qt(e,_r(e),o)}const NE=ME;var fk=a&&!a.nodeType&&a,pk=fk&&!0&&r&&!r.nodeType&&r,FE=pk&&pk.exports===fk,gk=FE?Bt.Buffer:void 0,mk=gk?gk.allocUnsafe:void 0;function LE(o,e){if(e)return o.slice();var t=o.length,n=mk?mk(t):new o.constructor(t);return o.copy(n),n}const kk=LE;function VE(o,e){var t=-1,n=o.length;for(e||(e=Array(n));++t<n;)e[t]=o[t];return e}const bk=VE;function jE(o,e){for(var t=-1,n=o==null?0:o.length,i=0,s=[];++t<n;){var l=o[t];e(l,t,o)&&(s[i++]=l)}return s}const HE=jE;function UE(){return[]}const wk=UE;var WE=Object.prototype,$E=WE.propertyIsEnumerable,_k=Object.getOwnPropertySymbols,qE=_k?function(o){return o==null?[]:(o=Object(o),HE(_k(o),function(e){return $E.call(o,e)}))}:wk;const dh=qE;function KE(o,e){return qt(o,dh(o),e)}const GE=KE;function QE(o,e){for(var t=-1,n=e.length,i=o.length;++t<n;)o[i+t]=e[t];return o}const vk=QE;var ZE=Object.getOwnPropertySymbols,JE=ZE?function(o){for(var e=[];o;)vk(e,dh(o)),o=Ss(o);return e}:wk;const Ck=JE;function YE(o,e){return qt(o,Ck(o),e)}const XE=YE;function eS(o,e,t){var n=e(o);return St(o)?n:vk(n,t(o))}const Ak=eS;function tS(o){return Ak(o,ch,dh)}const uh=tS;function nS(o){return Ak(o,_r,Ck)}const oS=nS;var iS=fo(Bt,"DataView");const hh=iS;var rS=fo(Bt,"Promise");const fh=rS;var sS=fo(Bt,"Set");const ph=sS;var aS=fo(Bt,"WeakMap");const gh=aS;var yk="[object Map]",lS="[object Object]",xk="[object Promise]",Ek="[object Set]",Sk="[object WeakMap]",Dk="[object DataView]",cS=Bn(hh),dS=Bn(Uo),uS=Bn(fh),hS=Bn(ph),fS=Bn(gh),Ti=Pn;(hh&&Ti(new hh(new ArrayBuffer(1)))!=Dk||Uo&&Ti(new Uo)!=yk||fh&&Ti(fh.resolve())!=xk||ph&&Ti(new ph)!=Ek||gh&&Ti(new gh)!=Sk)&&(Ti=function(o){var e=Pn(o),t=e==lS?o.constructor:void 0,n=t?Bn(t):"";if(n)switch(n){case cS:return Dk;case dS:return yk;case uS:return xk;case hS:return Ek;case fS:return Sk}return e});const Us=Ti;var pS=Object.prototype,gS=pS.hasOwnProperty;function mS(o){var e=o.length,t=new o.constructor(e);return e&&typeof o[0]=="string"&&gS.call(o,"index")&&(t.index=o.index,t.input=o.input),t}const kS=mS;var bS=Bt.Uint8Array;const $l=bS;function wS(o){var e=new o.constructor(o.byteLength);return new $l(e).set(new $l(o)),e}const mh=wS;function _S(o,e){var t=e?mh(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.byteLength)}const vS=_S;var CS=/\w*$/;function AS(o){var e=new o.constructor(o.source,CS.exec(o));return e.lastIndex=o.lastIndex,e}const yS=AS;var Tk=wn?wn.prototype:void 0,Pk=Tk?Tk.valueOf:void 0;function xS(o){return Pk?Object(Pk.call(o)):{}}const ES=xS;function SS(o,e){var t=e?mh(o.buffer):o.buffer;return new o.constructor(t,o.byteOffset,o.length)}const Ik=SS;var DS="[object Boolean]",TS="[object Date]",PS="[object Map]",IS="[object Number]",BS="[object RegExp]",RS="[object Set]",OS="[object String]",zS="[object Symbol]",MS="[object ArrayBuffer]",NS="[object DataView]",FS="[object Float32Array]",LS="[object Float64Array]",VS="[object Int8Array]",jS="[object Int16Array]",HS="[object Int32Array]",US="[object Uint8Array]",WS="[object Uint8ClampedArray]",$S="[object Uint16Array]",qS="[object Uint32Array]";function KS(o,e,t){var n=o.constructor;switch(e){case MS:return mh(o);case DS:case TS:return new n(+o);case NS:return vS(o,t);case FS:case LS:case VS:case jS:case HS:case US:case WS:case $S:case qS:return Ik(o,t);case PS:return new n;case IS:case OS:return new n(o);case BS:return yS(o);case RS:return new n;case zS:return ES(o)}}const GS=KS;var Bk=Object.create,QS=function(){function o(){}return function(e){if(!Ne(e))return{};if(Bk)return Bk(e);o.prototype=e;var t=new o;return o.prototype=void 0,t}}();const ZS=QS;function JS(o){return typeof o.constructor=="function"&&!lh(o)?ZS(Ss(o)):{}}const Rk=JS;var YS="[object Map]";function XS(o){return $t(o)&&Us(o)==YS}const e2=XS;var Ok=wr&&wr.isMap,t2=Ok?rh(Ok):e2;const n2=t2;var o2="[object Set]";function i2(o){return $t(o)&&Us(o)==o2}const r2=i2;var zk=wr&&wr.isSet,s2=zk?rh(zk):r2;const a2=s2;var l2=1,c2=2,d2=4,Mk="[object Arguments]",u2="[object Array]",h2="[object Boolean]",f2="[object Date]",p2="[object Error]",Nk="[object Function]",g2="[object GeneratorFunction]",m2="[object Map]",k2="[object Number]",Fk="[object Object]",b2="[object RegExp]",w2="[object Set]",_2="[object String]",v2="[object Symbol]",C2="[object WeakMap]",A2="[object ArrayBuffer]",y2="[object DataView]",x2="[object Float32Array]",E2="[object Float64Array]",S2="[object Int8Array]",D2="[object Int16Array]",T2="[object Int32Array]",P2="[object Uint8Array]",I2="[object Uint8ClampedArray]",B2="[object Uint16Array]",R2="[object Uint32Array]",He={};He[Mk]=He[u2]=He[A2]=He[y2]=He[h2]=He[f2]=He[x2]=He[E2]=He[S2]=He[D2]=He[T2]=He[m2]=He[k2]=He[Fk]=He[b2]=He[w2]=He[_2]=He[v2]=He[P2]=He[I2]=He[B2]=He[R2]=!0,He[p2]=He[Nk]=He[C2]=!1;function ql(o,e,t,n,i,s){var l,c=e&l2,u=e&c2,p=e&d2;if(t&&(l=i?t(o,n,i,s):t(o)),l!==void 0)return l;if(!Ne(o))return o;var m=St(o);if(m){if(l=kS(o),!c)return bk(o,l)}else{var w=Us(o),x=w==Nk||w==g2;if(js(o))return kk(o,c);if(w==Fk||w==Mk||x&&!i){if(l=u||x?{}:Rk(o),!c)return u?XE(o,NE(l,o)):GE(o,DE(l,o))}else{if(!He[w])return i?o:{};l=GS(o,w,c)}}s||(s=new Si);var T=s.get(o);if(T)return T;s.set(o,l),a2(o)?o.forEach(function(W){l.add(ql(W,e,t,W,o,s))}):n2(o)&&o.forEach(function(W,K){l.set(K,ql(W,e,t,K,o,s))});var M=p?u?oS:uh:u?_r:ch,F=m?void 0:M(o);return C(F||o,function(W,K){F&&(K=W,W=o[K]),Le(l,K,ql(W,e,t,K,o,s))}),l}const kh=ql;var O2=1,z2=4;function M2(o,e){return e=typeof e=="function"?e:void 0,kh(o,O2|z2,e)}const bh=M2;function N2(o){return $t(o)&&o.nodeType===1&&!pt(o)}const vr=N2;class Lk{constructor(e,t){this._config={},t&&this.define(Vk(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,i=!1){if(pt(t)){this._setObjectToTarget(e,t,i);return}const s=t.split(".");t=s.pop();for(const l of s)pt(e[l])||(e[l]={}),e=e[l];if(pt(n)){pt(e[t])||(e[t]={}),e=e[t],this._setObjectToTarget(e,n,i);return}i&&typeof e[t]<"u"||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const i of n){if(!pt(e[i])){e=null;break}e=e[i]}return e?Vk(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(i=>{this._setToTarget(e,i,t[i],n)})}}function Vk(o){return bh(o,F2)}function F2(o){return vr(o)?o:void 0}function qo(o){if(o){if(o.defaultView)return o instanceof o.defaultView.Document;if(o.ownerDocument&&o.ownerDocument.defaultView)return o instanceof o.ownerDocument.defaultView.Node}return!1}function Kl(o){const e=Object.prototype.toString.apply(o);return e=="[object Window]"||e=="[object global]"}const jk=Pi(Se());function Pi(o){if(!o)return jk;class e extends o{listenTo(n,i,s,l={}){if(qo(n)||Kl(n)){const c={capture:!!l.useCapture,passive:!!l.usePassive},u=this._getProxyEmitter(n,c)||new L2(n,c);this.listenTo(u,i,s,l)}else super.listenTo(n,i,s,l)}stopListening(n,i,s){if(qo(n)||Kl(n)){const l=this._getAllProxyEmitters(n);for(const c of l)this.stopListening(c,i,s)}else super.stopListening(n,i,s)}_getProxyEmitter(n,i){return Qd(this,Hk(n,i))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(n,i)).filter(i=>!!i)}}return e}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(o=>{Pi[o]=jk.prototype[o]});class L2 extends Se(){constructor(e,t){super(),nl(this,Hk(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)&&this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),Se().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){Se().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function V2(o){return o["data-ck-expando"]||(o["data-ck-expando"]=ut())}function Hk(o,e){let t=V2(o);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}let wh;try{wh={window,document}}catch{wh={window:{},document:{}}}const ke=wh;function Uk(o){const e=[];let t=o;for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function j2(o){return o instanceof HTMLTextAreaElement?o.value:o.innerHTML}function rt(o){return Object.prototype.toString.call(o)=="[object Text]"}function Gl(o){return Object.prototype.toString.apply(o)=="[object Range]"}function Wk(o){const e=o.ownerDocument.defaultView.getComputedStyle(o);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const $k=["top","right","bottom","left","width","height"];class st{constructor(e){const t=Gl(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Kk(e)||t)if(t){const n=st.getDomRangeRects(e);Ql(this,st.getBoundingRect(n))}else Ql(this,e.getBoundingClientRect());else if(Kl(e)){const{innerWidth:n,innerHeight:i}=e;Ql(this,{top:0,right:n,bottom:i,left:0,width:n,height:i})}else Ql(this,e)}clone(){return new st(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new st(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!qk(e)){let n=e.parentNode||e.commonAncestorContainer;for(;n&&!qk(n);){const i=new st(n),s=t.getIntersection(i);if(s)s.getArea()<t.getArea()&&(t=s);else return null;n=n.parentNode}}return t}isEqual(e){for(const t of $k)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(Kl(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const s=Wk(e);t=e.offsetWidth-e.clientWidth-s.left-s.right,n=e.offsetHeight-e.clientHeight-s.top-s.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=s.left,this.top+=s.top,this.right-=s.right,this.bottom-=s.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,i==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const i of n)t.push(new st(i));else{let i=e.startContainer;rt(i)&&(i=i.parentNode);const s=new st(i.getBoundingClientRect());s.right=s.left,s.width=0,t.push(s)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of e)n++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new st(t))}}function Ql(o,e){for(const t of $k)o[t]=e[t]}function qk(o){return Kk(o)?o===o.ownerDocument.body:!1}function Kk(o){return o!==null&&typeof o=="object"&&o.nodeType===1&&typeof o.getBoundingClientRect=="function"}class qe{constructor(e,t){qe._observerInstance||qe._createObserver(),this._element=e,this._callback=t,qe._addElementCallback(e,t),qe._observerInstance.observe(e)}destroy(){qe._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){qe._elementCallbacks||(qe._elementCallbacks=new Map);let n=qe._elementCallbacks.get(e);n||(n=new Set,qe._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=qe._getElementCallbacks(e);n&&(n.delete(t),n.size||(qe._elementCallbacks.delete(e),qe._observerInstance.unobserve(e))),qe._elementCallbacks&&!qe._elementCallbacks.size&&(qe._observerInstance=null,qe._elementCallbacks=null)}static _getElementCallbacks(e){return qe._elementCallbacks?qe._elementCallbacks.get(e):null}static _createObserver(){qe._observerInstance=new ke.window.ResizeObserver(e=>{for(const t of e){const n=qe._getElementCallbacks(t.target);if(n)for(const i of n)i(t)}})}}qe._observerInstance=null,qe._elementCallbacks=null;function Gk(o,e){o instanceof HTMLTextAreaElement&&(o.value=e),o.innerHTML=e}function _h(o){return e=>e+o}function Zl(o){let e=0;for(;o.previousSibling;)o=o.previousSibling,e++;return e}function Qk(o,e,t){o.insertBefore(t,o.childNodes[e]||null)}function Cr(o){return o&&o.nodeType===Node.COMMENT_NODE}function Ii(o){return!!(o&&o.getClientRects&&o.getClientRects().length)}function H2(o){return!o||!o.parentNode||o.offsetParent===ke.document.body?null:o.offsetParent}function Zk({element:o,target:e,positions:t,limiter:n,fitInViewport:i,viewportOffsetConfig:s}){In(e)&&(e=e()),In(n)&&(n=n());const l=H2(o),c=new st(o),u=new st(e);let p;const m=i&&U2(s)||null,w={targetRect:u,elementRect:c,positionedElementAncestor:l,viewportRect:m};if(!n&&!i)p=new vh(t[0],w);else{const x=n&&new st(n).getVisible();Object.assign(w,{limiterRect:x,viewportRect:m}),p=W2(t,w)||new vh(t[0],w)}return p}function U2(o){o=Object.assign({top:0,bottom:0,left:0,right:0},o);const e=new st(ke.window);return e.top+=o.top,e.height-=o.top,e.bottom-=o.bottom,e.height-=o.bottom,e}function W2(o,e){const{elementRect:t}=e,n=t.getArea(),i=o.map(c=>new vh(c,e)).filter(c=>!!c.name);let s=0,l=null;for(const c of i){const{limiterIntersectionArea:u,viewportIntersectionArea:p}=c;if(u===n)return c;const m=p**2+u**2;m>s&&(s=m,l=c)}return l}function $2(o,e){const t=Jk(new st(e)),n=Wk(e);let i=0,s=0;i-=t.left,s-=t.top,i+=e.scrollLeft,s+=e.scrollTop,i-=n.left,s-=n.top,o.moveBy(i,s)}function Jk(o){const{scrollX:e,scrollY:t}=ke.window;return o.clone().moveBy(e,t)}class vh{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect);if(!n)return;const{left:i,top:s,name:l,config:c}=n;this.name=l,this.config=c,this._positioningFunctionCorrdinates={left:i,top:s},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(t){const n=e.getIntersection(t);if(n)return n.getIntersectionArea(this._rect)}else return e.getIntersectionArea(this._rect)}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect?this._cachedRect:(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top),this._cachedRect)}get _absoluteRect(){return this._cachedAbsoluteRect?this._cachedAbsoluteRect:(this._cachedAbsoluteRect=Jk(this._rect),this._options.positionedElementAncestor&&$2(this._cachedAbsoluteRect,this._options.positionedElementAncestor),this._cachedAbsoluteRect)}}function Yk(o){const e=o.parentNode;e&&e.removeChild(o)}function q2({target:o,viewportOffset:e=0,ancestorOffset:t=0,alignToTop:n,forceScroll:i}){const s=Ch(o);let l=s,c=null;for(;l;){let u;l==s?u=ob(o):u=ob(c),G2({parent:u,getRect:()=>ib(o,l),alignToTop:n,ancestorOffset:t,forceScroll:i});const p=ib(o,l);if(K2({window:l,rect:p,viewportOffset:e,alignToTop:n,forceScroll:i}),l.parent!=l){if(c=l.frameElement,l=l.parent,!c)return}else l=null}}function K2({window:o,rect:e,alignToTop:t,forceScroll:n,viewportOffset:i}){const s=e.clone().moveBy(0,i),l=e.clone().moveBy(0,-i),c=new st(o).excludeScrollbarsAndBorders(),u=[l,s],p=t&&n,m=u.every(F=>c.contains(F));let{scrollX:w,scrollY:x}=o;const T=w,M=x;p?x-=c.top-e.top+i:m||(eb(l,c)?x-=c.top-e.top+i:Xk(s,c)&&(t?x+=e.top-c.top-i:x+=e.bottom-c.bottom+i)),m||(tb(e,c)?w-=c.left-e.left+i:nb(e,c)&&(w+=e.right-c.right+i)),(w!=T||x!==M)&&o.scrollTo(w,x)}function G2({parent:o,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:i=0}){const s=Ch(o),l=t&&n;let c,u,p;for(;o!=s.document.body;)u=e(),c=new st(o).excludeScrollbarsAndBorders(),p=c.contains(u),l?o.scrollTop-=c.top-u.top+i:p||(eb(u,c)?o.scrollTop-=c.top-u.top+i:Xk(u,c)&&(t?o.scrollTop+=u.top-c.top-i:o.scrollTop+=u.bottom-c.bottom+i)),p||(tb(u,c)?o.scrollLeft-=c.left-u.left+i:nb(u,c)&&(o.scrollLeft+=u.right-c.right+i)),o=o.parentNode}function Xk(o,e){return o.bottom>e.bottom}function eb(o,e){return o.top<e.top}function tb(o,e){return o.left<e.left}function nb(o,e){return o.right>e.right}function Ch(o){return Gl(o)?o.startContainer.ownerDocument.defaultView:o.ownerDocument.defaultView}function ob(o){if(Gl(o)){let e=o.commonAncestorContainer;return rt(e)&&(e=e.parentNode),e}else return o.parentNode}function ib(o,e){const t=Ch(o),n=new st(o);if(t===e)return n;{let i=t;for(;i!=e;){const s=i.frameElement,l=new st(s).excludeScrollbarsAndBorders();n.moveBy(l.left,l.top),i=i.parent}}return n}const Q2={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Z2={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},_e=tD(),J2=Object.fromEntries(Object.entries(_e).map(([o,e])=>[e,o.charAt(0).toUpperCase()+o.slice(1)]));function Ar(o){let e;if(typeof o=="string"){if(e=_e[o.toLowerCase()],!e)throw new I("keyboard-unknown-key",null,{key:o})}else e=o.keyCode+(o.altKey?_e.alt:0)+(o.ctrlKey?_e.ctrl:0)+(o.shiftKey?_e.shift:0)+(o.metaKey?_e.cmd:0);return e}function Ah(o){return typeof o=="string"&&(o=nD(o)),o.map(e=>typeof e=="string"?X2(e):e).reduce((e,t)=>t+e,0)}function rb(o){let e=Ah(o);return Object.entries(y.isMac?Q2:Z2).reduce((i,[s,l])=>(e&_e[s]&&(e&=~_e[s],i+=l),i),"")+(e?J2[e]:"")}function Y2(o){return o==_e.arrowright||o==_e.arrowleft||o==_e.arrowup||o==_e.arrowdown}function yh(o,e){const t=e==="ltr";switch(o){case _e.arrowleft:return t?"left":"right";case _e.arrowright:return t?"right":"left";case _e.arrowup:return"up";case _e.arrowdown:return"down"}}function X2(o){if(o.endsWith("!"))return Ar(o.slice(0,-1));const e=Ar(o);return y.isMac&&e==_e.ctrl?_e.cmd:e}function eD(o,e){const t=yh(o,e);return t==="down"||t==="right"}function tD(){const o={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const t=String.fromCharCode(e);o[t.toLowerCase()]=e}for(let e=48;e<=57;e++)o[e-48]=e;for(let e=112;e<=123;e++)o["f"+(e-111)]=e;for(const e of"`-=[];',./\\")o[e]=e.charCodeAt(0);return o}function nD(o){return o.split("+").map(e=>e.trim())}function Dt(o){return Array.isArray(o)?o:[o]}ke.window.CKEDITOR_TRANSLATIONS||(ke.window.CKEDITOR_TRANSLATIONS={});function oD(o,e,t=1){if(typeof t!="number")throw new I("translation-service-quantity-not-a-number",null,{quantity:t});const n=rD();n===1&&(o=Object.keys(ke.window.CKEDITOR_TRANSLATIONS)[0]);const i=e.id||e.string;if(n===0||!iD(o,i))return t!==1?e.plural:e.string;const s=ke.window.CKEDITOR_TRANSLATIONS[o].dictionary,l=ke.window.CKEDITOR_TRANSLATIONS[o].getPluralForm||(p=>p===1?0:1),c=s[i];if(typeof c=="string")return c;const u=Number(l(t));return c[u]}function iD(o,e){return!!ke.window.CKEDITOR_TRANSLATIONS[o]&&!!ke.window.CKEDITOR_TRANSLATIONS[o].dictionary[e]}function rD(){return Object.keys(ke.window.CKEDITOR_TRANSLATIONS).length}const sD=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function sb(o){return sD.includes(o)?"rtl":"ltr"}class aD{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=sb(this.uiLanguage),this.contentLanguageDirection=sb(this.contentLanguage),this.t=(n,i)=>this._t(n,i)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=Dt(t),typeof e=="string"&&(e={string:e});const i=!!e.plural?t[0]:1,s=oD(this.uiLanguage,e,i);return lD(s,t)}}function lD(o,e){return o.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}class On extends Se(){constructor(e={},t={}){super();const n=Ft(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new I("collection-add-item-invalid-index",this);let n=0;for(const i of e){const s=this._getItemIdBeforeAdding(i),l=t+n;this._items.splice(l,0,i),this._itemMap.set(s,i),this.fire("add",i,l),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else if(typeof e=="number")t=this._items[e];else throw new I("collection-get-invalid-arg",this);return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=this._idProperty,n=e[t];return n&&this._itemMap.has(n)}}getIndex(e){let t;return typeof e=="string"?t=this._itemMap.get(e):t=e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new I("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(i,s,l)=>{const c=t._bindToCollection==this,u=t._bindToInternalToExternalMap.get(s);if(c&&u)this._bindToExternalToInternalMap.set(s,u),this._bindToInternalToExternalMap.set(u,s);else{const p=e(s);if(!p){this._skippedIndexesFromExternal.push(l);return}let m=l;for(const w of this._skippedIndexesFromExternal)l>w&&m--;for(const w of t._skippedIndexesFromExternal)m>=w&&m++;this._bindToExternalToInternalMap.set(s,p),this._bindToInternalToExternalMap.set(p,s),this.add(p,m);for(let w=0;w<t._skippedIndexesFromExternal.length;w++)m<=t._skippedIndexesFromExternal[w]&&t._skippedIndexesFromExternal[w]++}};for(const i of t)n(null,i,t.getIndex(i));this.listenTo(t,"add",n),this.listenTo(t,"remove",(i,s,l)=>{const c=this._bindToExternalToInternalMap.get(s);c&&this.remove(c),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((u,p)=>(l<p&&u.push(p-1),l>p&&u.push(p),u),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new I("collection-add-invalid-id",this);if(this.get(n))throw new I("collection-add-item-already-exists",this)}else e[t]=n=ut();return n}_remove(e){let t,n,i,s=!1;const l=this._idProperty;if(typeof e=="string"?(n=e,i=this._itemMap.get(n),s=!i,i&&(t=this._items.indexOf(i))):typeof e=="number"?(t=e,i=this._items[t],s=!i,i&&(n=i[l])):(i=e,n=i[l],t=this._items.indexOf(i),s=t==-1||!this._itemMap.get(n)),s)throw new I("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const c=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(c),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _t(o){const e=o.next();return e.done?null:e.value}class zn extends Pi(De()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new I("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class ko{constructor(){this._listener=new(Pi())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+Ar(n),n)})}set(e,t,n={}){const i=Ah(e),s=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(l,c)=>{t(c,()=>{c.preventDefault(),c.stopPropagation(),l.stop()}),l.return=!0},{priority:s})}press(e){return!!this._listener.fire("_keydown:"+Ar(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function cD(o){const e=new Map;for(const t in o)e.set(t,o[t]);return e}function bo(o){return Ft(o)?new Map(o):cD(o)}const dD=1e4;function uD(o,e,t,n){if(Math.max(e.length,o.length)>dD)return o.slice(0,t).concat(e).concat(o.slice(t+n,o.length));{const i=Array.from(o);return i.splice(t,n,...e),i}}function hD(o){return!!o&&o.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o)}function fD(o){return!!o&&o.length==1&&/[\ud800-\udbff]/.test(o)}function pD(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}function xh(o,e){return fD(o.charAt(e-1))&&pD(o.charAt(e))}function Eh(o,e){return hD(o.charAt(e))}const gD=mD();function ab(o,e){const t=String(o).matchAll(gD);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}function mD(){const o=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u],e=/\p{Regional_Indicator}{2}/u.source,t="(?:"+o.map(i=>i.source).join("|")+")",n=`${e}|${t}(?:‍${t})*`;return new RegExp(n,"ug")}class Bi extends On{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,i)=>{this._renderViewIntoCollectionParent(n,i)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!kD(e))throw new I("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const i of e)n.delegate(i).to(t);this.on("add",(n,i)=>{for(const s of e)i.delegate(s).to(t)}),this.on("remove",(n,i)=>{for(const s of e)i.stopDelegating(s,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}function kD(o){return o.every(e=>typeof e=="string")}var bD=f(3379),de=f.n(bD),lb=f(6150),Sh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sh.insert="head",Sh.singleton=!0,de()(lb.Z,Sh),lb.Z.locals;class be extends Pi(De()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new On,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Gn.bind(this,this)}createCollection(e){const t=new Bi(e);return this._viewCollections.add(t),t}registerChild(e){Ft(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Ft(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new Gn(e)}extendTemplate(e){Gn.extend(this.template,e)}render(){if(this.isRendered)throw new I("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}const wD="http://www.w3.org/1999/xhtml";class Gn extends Se(){constructor(e){super(),Object.assign(this,hb(ub(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData=bb(),this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new I("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){function*e(t){if(t.children)for(const n of t.children)Yl(n)?yield n:Dh(n)&&(yield*e(n))}yield*e(this)}static bind(e,t){return{to(n,i){return new _D({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if(n,i,s){return new cb({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:s})}}}static extend(e,t){if(e._isRendered)throw new I("template-extend-render",[this,e]);mb(e,hb(ub(t)))}_renderNode(e){let t;if(e.node?t=this.tag&&this.text:t=this.tag?this.text:!this.text,t)throw new I("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||wD,this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Jl(this.text)?this._bindToObservable({schema:this.text,updater:CD(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const i in this.attributes){const s=t.getAttribute(i),l=this.attributes[i];n&&(n.attributes[i]=s);const c=kb(l)?l[0].ns:null;if(Jl(l)){const u=kb(l)?l[0].value:l;n&&wb(i)&&u.unshift(s),this._bindToObservable({schema:u,updater:AD(t,i,c),data:e})}else if(i=="style"&&typeof l[0]!="string")this._renderStyleAttribute(l[0],e);else{n&&s&&wb(i)&&l.unshift(s);const u=l.map(p=>p&&(p.value||p)).reduce((p,m)=>p.concat(m),[]).reduce(pb,"");yr(u)||t.setAttributeNS(c,i,u)}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const s=e[i];Jl(s)?this._bindToObservable({schema:[s],updater:yD(n,i),data:t}):n.style[i]=s}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let s=0;for(const l of this.children)if(Th(l)){if(!i){l.setParent(t);for(const c of l)n.appendChild(c.element)}}else if(Yl(l))i||(l.isRendered||l.render(),n.appendChild(l.element));else if(qo(l))n.appendChild(l);else if(i){const c=e.revertData,u=bb();c.children.push(u),l._renderNode({intoFragment:!1,node:n.childNodes[s++],isApplying:!0,revertData:u})}else n.appendChild(l.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(i=>{const[s,l]=t.split("@");return i.activateDomEventListener(s,l,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const i=n.revertData;db(e,t,n);const s=e.filter(l=>!yr(l)).filter(l=>l.observable).map(l=>l.activateAttributeListener(e,t,n));i&&i.bindings.push(s)}_revertTemplateFromNode(e,t){for(const i of t.bindings)for(const s of i)s();if(t.text){e.textContent=t.text;return}const n=e;for(const i in t.attributes){const s=t.attributes[i];s===null?n.removeAttribute(i):n.setAttribute(i,s)}for(let i=0;i<t.children.length;++i)this._revertTemplateFromNode(n.childNodes[i],t.children[i])}}class Ws{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>db(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class _D extends Ws{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(s,l)=>{(!t||l.target.matches(t))&&(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(l):this.observable.fire(this.eventNameOrFunction,l))};return this.emitter.listenTo(n.node,e,i),()=>{this.emitter.stopListening(n.node,e,i)}}}class cb extends Ws{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){const t=super.getValue(e);return yr(t)?!1:this.valueIfTrue||!0}}function Jl(o){return o?(o.value&&(o=o.value),Array.isArray(o)?o.some(Jl):o instanceof Ws):!1}function vD(o,e){return o.map(t=>t instanceof Ws?t.getValue(e):t)}function db(o,e,{node:t}){const n=vD(o,t);let i;o.length==1&&o[0]instanceof cb?i=n[0]:i=n.reduce(pb,""),yr(i)?e.remove():e.set(i)}function CD(o){return{set(e){o.textContent=e},remove(){o.textContent=""}}}function AD(o,e,t){return{set(n){o.setAttributeNS(t,e,n)},remove(){o.removeAttributeNS(t,e)}}}function yD(o,e){return{set(t){o.style[e]=t},remove(){o.style[e]=null}}}function ub(o){return bh(o,t=>{if(t&&(t instanceof Ws||Dh(t)||Yl(t)||Th(t)))return t})}function hb(o){if(typeof o=="string"?o=SD(o):o.text&&DD(o),o.on&&(o.eventListeners=ED(o.on),delete o.on),!o.text){o.attributes&&xD(o.attributes);const e=[];if(o.children)if(Th(o.children))e.push(o.children);else for(const t of o.children)Dh(t)||Yl(t)||qo(t)?e.push(t):e.push(new Gn(t));o.children=e}return o}function xD(o){for(const e in o)o[e].value&&(o[e].value=Dt(o[e].value)),fb(o,e)}function ED(o){for(const e in o)fb(o,e);return o}function SD(o){return{text:[o]}}function DD(o){o.text=Dt(o.text)}function fb(o,e){o[e]=Dt(o[e])}function pb(o,e){return yr(e)?o:yr(o)?e:`${o} ${e}`}function gb(o,e){for(const t in e)o[t]?o[t].push(...e[t]):o[t]=e[t]}function mb(o,e){if(e.attributes&&(o.attributes||(o.attributes={}),gb(o.attributes,e.attributes)),e.eventListeners&&(o.eventListeners||(o.eventListeners={}),gb(o.eventListeners,e.eventListeners)),e.text&&o.text.push(...e.text),e.children&&e.children.length){if(o.children.length!=e.children.length)throw new I("ui-template-extend-children-mismatch",o);let t=0;for(const n of e.children)mb(o.children[t++],n)}}function yr(o){return!o&&o!==0}function Yl(o){return o instanceof be}function Dh(o){return o instanceof Gn}function Th(o){return o instanceof Bi}function kb(o){return Ne(o[0])&&o[0].ns}function bb(){return{children:[],bindings:[],attributes:{}}}function wb(o){return o=="class"||o=="style"}class TD extends Bi{constructor(e,t=[]){super(t),this.locale=e}attachToDom(){this._bodyCollectionContainer=new Gn({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=pl(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var _b=f(1174),Ph={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ph.insert="head",Ph.singleton=!0,de()(_b.Z,Ph),_b.Z.locals;class xr extends be{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=t.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:i,value:s}of Array.from(t.attributes))xr.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}xr.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var vb=f(4499),Ih={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ih.insert="head",Ih.singleton=!0,de()(vb.Z,Ih),vb.Z.locals;class Ye extends be{constructor(e){super(e);const t=this.bindTemplate,n=ut();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new xr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",s=>!s),t.if("isVisible","ck-hidden",s=>!s),t.to("isOn",s=>s?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",s=>s||"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":t.if("isEnabled",!0,s=>!s),"aria-pressed":t.to("isOn",s=>this.isToggleable?String(!!s):!1),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(s=>{this.isEnabled?this.fire("execute"):s.preventDefault()})}};y.isSafari&&(i.on.mousedown=t.to(s=>{this.focus(),s.preventDefault()})),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const t=new be,n=this.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:n.to("label")}]}),t}_createKeystrokeView(){const e=new be;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>rb(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=rb(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var Cb=f(9681),Bh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Bh.insert="head",Bh.singleton=!0,de()(Cb.Z,Bh),Cb.Z.locals;class Xl extends Ye{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new be;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var Ab=f(4923),Rh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rh.insert="head",Rh.singleton=!0,de()(Ab.Z,Rh),Ab.Z.locals;class PD{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Oh(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new I("componentfactory-item-missing",this,{name:e});return this._components.get(Oh(e)).callback(this.editor.locale)}has(e){return this._components.has(Oh(e))}}function Oh(o){return String(o).toLowerCase()}var yb=f(3488),zh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zh.insert="head",zh.singleton=!0,de()(yb.Z,zh),yb.Z.locals;class Er extends be{constructor(e,t,n){super(e);const i=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new ko,this.focusTracker=new zn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",s=>!s)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(t,n,i)=>{i&&(this.panelPosition==="auto"?this.panelView.position=Er._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(t,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(t,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(t,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:i,northEast:s,northWest:l,southMiddleEast:c,southMiddleWest:u,northMiddleEast:p,northMiddleWest:m}=Er.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[n,i,c,u,e,s,l,p,m,t]:[i,n,u,c,e,l,s,m,p,t]}}Er.defaultPanelPositions={south:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)/2,name:"s"}),southEast:o=>({top:o.bottom,left:o.left,name:"se"}),southWest:(o,e)=>({top:o.bottom,left:o.left-e.width+o.width,name:"sw"}),southMiddleEast:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)/4,name:"sme"}),southMiddleWest:(o,e)=>({top:o.bottom,left:o.left-(e.width-o.width)*3/4,name:"smw"}),north:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)/2,name:"n"}),northEast:(o,e)=>({top:o.top-e.height,left:o.left,name:"ne"}),northWest:(o,e)=>({top:o.top-e.height,left:o.left-e.width+o.width,name:"nw"}),northMiddleEast:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)/4,name:"nme"}),northMiddleWest:(o,e)=>({top:o.top-e.height,left:o.left-(e.width-o.width)*3/4,name:"nmw"})},Er._getOptimalPosition=Zk;class ID extends be{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(n=>n.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():Ee("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const xb='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class BD extends Ye{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new xr;return e.content=xb,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var Eb=f(66),Mh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mh.insert="head",Mh.singleton=!0,de()(Eb.Z,Mh),Eb.Z.locals;class Nh extends be{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new ko,this.focusTracker=new zn,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new Ye;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new Ye,t=e.bindTemplate;return e.icon=xb,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class $s{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const i of n)e.keystrokeHandler.set(i,(s,l)=>{this[t](),l()})}}get first(){return this.focusables.find(Fh)||null}get last(){return this.focusables.filter(Fh).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=n),i}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let i=(t+n+e)%n;do{const s=this.focusables.get(i);if(Fh(s))return s;i=(i+n+e)%n}while(i!==t);return null}}function Fh(o){return!!(o.focus&&Ii(o.element))}class Sb extends be{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class RD extends be{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function OD(o){return o.bindTemplate.to(e=>{e.target===o.element&&e.preventDefault()})}function Db(o){return Array.isArray(o)?{items:o,removeItems:[]}:o?Object.assign({items:[],removeItems:[]},o):{items:[],removeItems:[]}}class Y extends De(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Tb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Tb),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Tb(o){o.return=!1,o.stop()}class we extends De(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(t,n,i)=>{i&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Pb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Pb),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function Pb(o){o.return=!1,o.stop()}class Ib extends we{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){he(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class Bb extends Se(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const i of t)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,s]of n)this._contextPlugins.set(i,s),this._contextPlugins.set(s,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new I("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const i=this,s=this._context;T(e),F(e);const l=e.filter(re=>!w(re,t)),c=[...M(l)];et(c,n);const u=Ce(c);return Ve(u,"init").then(()=>Ve(u,"afterInit")).then(()=>u);function p(re){return typeof re=="function"}function m(re){return p(re)&&!!re.isContextPlugin}function w(re,ue){return ue.some(ae=>ae===re||x(re)===ae||x(ae)===re)}function x(re){return p(re)?re.pluginName||re.name:re}function T(re,ue=new Set){re.forEach(ae=>{p(ae)&&(ue.has(ae)||(ue.add(ae),ae.pluginName&&!i._availablePlugins.has(ae.pluginName)&&i._availablePlugins.set(ae.pluginName,ae),ae.requires&&T(ae.requires,ue)))})}function M(re,ue=new Set){return re.map(ae=>p(ae)?ae:i._availablePlugins.get(ae)).reduce((ae,tt)=>ue.has(tt)?ae:(ue.add(tt),tt.requires&&(F(tt.requires,tt),M(tt.requires,ue).forEach(Zi=>ae.add(Zi))),ae.add(tt)),new Set)}function F(re,ue=null){re.map(ae=>p(ae)?ae:i._availablePlugins.get(ae)||ae).forEach(ae=>{W(ae,ue),K(ae,ue),ne(ae,ue)})}function W(re,ue){if(!p(re))throw ue?new I("plugincollection-soft-required",s,{missingPlugin:re,requiredBy:x(ue)}):new I("plugincollection-plugin-not-found",s,{plugin:re})}function K(re,ue){if(m(ue)&&!m(re))throw new I("plugincollection-context-required",s,{plugin:x(re),requiredBy:x(ue)})}function ne(re,ue){if(ue&&w(re,t))throw new I("plugincollection-required",s,{plugin:x(re),requiredBy:x(ue)})}function Ce(re){return re.map(ue=>{let ae=i._contextPlugins.get(ue);return ae=ae||new ue(s),i._add(ue,ae),ae})}function Ve(re,ue){return re.reduce((ae,tt)=>!tt[ue]||i._contextPlugins.has(tt)?ae:ae.then(tt[ue].bind(tt)),Promise.resolve())}function et(re,ue){for(const ae of ue){if(typeof ae!="function")throw new I("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ae});const tt=ae.pluginName;if(!tt)throw new I("plugincollection-replace-plugin-missing-name",null,{pluginItem:ae});if(ae.requires&&ae.requires.length)throw new I("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:tt});const Zi=i._availablePlugins.get(tt);if(!Zi)throw new I("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:tt});const ay=re.indexOf(Zi);if(ay===-1){if(i._contextPlugins.has(Zi))return;throw new I("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:tt})}if(Zi.requires&&Zi.requires.length)throw new I("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:tt});re.splice(ay,1,ae),i._availablePlugins.set(tt,ae)}}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy=="function"&&!this._contextPlugins.has(t)&&e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new I("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class Rb{constructor(e){this._contextOwner=null,this.config=new Lk(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new Bb(this,t);const n=this.config.get("language")||{};this.locale=new aD({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new On}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new I("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new I("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new I("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Ob extends De(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var zb=f(8894),Lh={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lh.insert="head",Lh.singleton=!0,de()(zb.Z,Lh),zb.Z.locals;const ec=new WeakMap;function Mb({view:o,element:e,text:t,isDirectHost:n=!0,keepOnFocus:i=!1}){const s=o.document;ec.has(s)||(ec.set(s,new Map),s.registerPostFixer(l=>Vh(s,l)),s.on("change:isComposing",()=>{o.change(l=>Vh(s,l))},{priority:"high"})),ec.get(s).set(e,{text:t,isDirectHost:n,keepOnFocus:i,hostElement:n?e:null}),o.change(l=>Vh(s,l))}function zD(o,e){return e.hasClass("ck-placeholder")?!1:(o.addClass("ck-placeholder",e),!0)}function MD(o,e){return e.hasClass("ck-placeholder")?(o.removeClass("ck-placeholder",e),!0):!1}function ND(o,e){if(!o.isAttached()||Array.from(o.getChildren()).some(l=>!l.is("uiElement")))return!1;const n=o.document,s=n.selection.anchor;return n.isComposing&&s&&s.parent===o?!1:e||!n.isFocused?!0:!!s&&s.parent!==o}function Vh(o,e){const t=ec.get(o),n=[];let i=!1;for(const[s,l]of t)l.isDirectHost&&(n.push(s),Nb(e,s,l)&&(i=!0));for(const[s,l]of t){if(l.isDirectHost)continue;const c=FD(s);c&&(n.includes(c)||(l.hostElement=c,Nb(e,s,l)&&(i=!0)))}return i}function Nb(o,e,t){const{text:n,isDirectHost:i,hostElement:s}=t;let l=!1;return s.getAttribute("data-placeholder")!==n&&(o.setAttribute("data-placeholder",n,s),l=!0),(i||e.childCount==1)&&ND(s,t.keepOnFocus)?zD(o,s)&&(l=!0):MD(o,s)&&(l=!0),l}function FD(o){if(o.childCount){const e=o.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ri{is(){throw new Error("is() method is abstract")}}var LD=4;function VD(o){return kh(o,LD)}const Fb=VD;class Oi extends Se(Ri){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new I("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;n[s]==i[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=Et(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Fb(this);return delete e.parent,e}}Oi.prototype.is=function(o){return o==="node"||o==="view:node"};class Re extends Oi{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Re?this===e||this.data===e.data:!1}_clone(){return new Re(this.document,this.data)}}Re.prototype.is=function(o){return o==="$text"||o==="view:$text"||o==="text"||o==="view:text"||o==="node"||o==="view:node"};class Qn extends Ri{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new I("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new I("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}Qn.prototype.is=function(o){return o==="$textProxy"||o==="view:$textProxy"||o==="textProxy"||o==="view:textProxy"};class Zn{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const i=Lb(t,n);if(i)return{element:t,pattern:n,match:i}}return null}matchAll(...e){const t=[];for(const n of e)for(const i of this._patterns){const s=Lb(n,i);s&&t.push({element:n,pattern:i,match:s})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function Lb(o,e){if(typeof e=="function")return e(o);const t={};return e.name&&(t.name=jD(e.name,o.name),!t.name)||e.attributes&&(t.attributes=$D(e.attributes,o),!t.attributes)||e.classes&&(t.classes=qD(e.classes,o),!t.classes)||e.styles&&(t.styles=KD(e.styles,o),!t.styles)?null:t}function jD(o,e){return o instanceof RegExp?!!e.match(o):o===e}function jh(o,e,t){const n=HD(o),i=Array.from(e),s=[];if(n.forEach(([l,c])=>{i.forEach(u=>{UD(l,u)&&WD(c,u,t)&&s.push(u)})}),!(!n.length||s.length<n.length))return s}function HD(o){return Array.isArray(o)?o.map(e=>pt(e)?((e.key===void 0||e.value===void 0)&&Ee("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0]):pt(o)?Object.entries(o):[[o,!0]]}function UD(o,e){return o===!0||o===e||o instanceof RegExp&&e.match(o)}function WD(o,e,t){if(o===!0)return!0;const n=t(e);return o===n||o instanceof RegExp&&!!String(n).match(o)}function $D(o,e){const t=new Set(e.getAttributeKeys());return pt(o)?(o.style!==void 0&&Ee("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&Ee("matcher-pattern-deprecated-attributes-class-key",o)):(t.delete("style"),t.delete("class")),jh(o,t,n=>e.getAttribute(n))}function qD(o,e){return jh(o,e.getClassNames(),()=>{})}function KD(o,e){return jh(o,e.getStyleNames(!0),t=>e.getStyle(t))}var GD="[object Symbol]";function QD(o){return typeof o=="symbol"||$t(o)&&Pn(o)==GD}const tc=QD;var ZD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JD=/^\w*$/;function YD(o,e){if(St(o))return!1;var t=typeof o;return t=="number"||t=="symbol"||t=="boolean"||o==null||tc(o)?!0:JD.test(o)||!ZD.test(o)||e!=null&&o in Object(e)}const XD=YD;var eT="Expected a function";function Hh(o,e){if(typeof o!="function"||e!=null&&typeof e!="function")throw new TypeError(eT);var t=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=t.cache;if(s.has(i))return s.get(i);var l=o.apply(this,n);return t.cache=s.set(i,l)||s,l};return t.cache=new(Hh.Cache||Ei),t}Hh.Cache=Ei;const tT=Hh;var nT=500;function oT(o){var e=tT(o,function(n){return t.size===nT&&t.clear(),n}),t=e.cache;return e}const iT=oT;var rT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sT=/\\(\\)?/g,aT=iT(function(o){var e=[];return o.charCodeAt(0)===46&&e.push(""),o.replace(rT,function(t,n,i,s){e.push(i?s.replace(sT,"$1"):n||t)}),e});const lT=aT;function cT(o,e){for(var t=-1,n=o==null?0:o.length,i=Array(n);++t<n;)i[t]=e(o[t],t,o);return i}const dT=cT;var uT=1/0,Vb=wn?wn.prototype:void 0,jb=Vb?Vb.toString:void 0;function Hb(o){if(typeof o=="string")return o;if(St(o))return dT(o,Hb)+"";if(tc(o))return jb?jb.call(o):"";var e=o+"";return e=="0"&&1/o==-uT?"-0":e}const hT=Hb;function fT(o){return o==null?"":hT(o)}const Uh=fT;function pT(o,e){return St(o)?o:XD(o,e)?[o]:lT(Uh(o))}const Wh=pT;function gT(o){var e=o==null?0:o.length;return e?o[e-1]:void 0}const mT=gT;var kT=1/0;function bT(o){if(typeof o=="string"||tc(o))return o;var e=o+"";return e=="0"&&1/o==-kT?"-0":e}const $h=bT;function wT(o,e){e=Wh(e,o);for(var t=0,n=e.length;o!=null&&t<n;)o=o[$h(e[t++])];return t&&t==n?o:void 0}const Ub=wT;function _T(o,e,t){var n=-1,i=o.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=o[n+e];return s}const Wb=_T;function vT(o,e){return e.length<2?o:Ub(o,Wb(e,0,-1))}const CT=vT;function AT(o,e){return e=Wh(e,o),o=CT(o,e),o==null||delete o[$h(mT(e))]}const yT=AT;function xT(o,e){return o==null?!0:yT(o,e)}const ET=xT;function ST(o,e,t){var n=o==null?void 0:Ub(o,e);return n===void 0?t:n}const nc=ST;function DT(o,e,t){(t!==void 0&&!jo(o[e],t)||t===void 0&&!(e in o))&&ce(o,e,t)}const qh=DT;function TT(o){return function(e,t,n){for(var i=-1,s=Object(e),l=n(e),c=l.length;c--;){var u=l[o?c:++i];if(t(s[u],u,s)===!1)break}return e}}var PT=TT();const IT=PT;function BT(o){return $t(o)&&Wl(o)}const RT=BT;function OT(o,e){if(!(e==="constructor"&&typeof o[e]=="function")&&e!="__proto__")return o[e]}const Kh=OT;function zT(o){return qt(o,_r(o))}const MT=zT;function NT(o,e,t,n,i,s,l){var c=Kh(o,t),u=Kh(e,t),p=l.get(u);if(p){qh(o,t,p);return}var m=s?s(c,u,t+"",o,e,l):void 0,w=m===void 0;if(w){var x=St(u),T=!x&&js(u),M=!x&&!T&&ah(u);m=u,x||T||M?St(c)?m=c:RT(c)?m=bk(c):T?(w=!1,m=kk(u,!0)):M?(w=!1,m=Ik(u,!0)):m=[]:pt(u)||oh(u)?(m=c,oh(c)?m=MT(c):(!Ne(c)||In(c))&&(m=Rk(u))):w=!1}w&&(l.set(u,m),i(m,u,n,s,l),l.delete(u)),qh(o,t,m)}const FT=NT;function $b(o,e,t,n,i){o!==e&&IT(e,function(s,l){if(i||(i=new Si),Ne(s))FT(o,e,l,t,$b,n,i);else{var c=n?n(Kh(o,l),s,l+"",o,e,i):void 0;c===void 0&&(c=s),qh(o,l,c)}},_r)}const LT=$b;function VT(o){return o}const zi=VT;function jT(o,e,t){switch(t.length){case 0:return o.call(e);case 1:return o.call(e,t[0]);case 2:return o.call(e,t[0],t[1]);case 3:return o.call(e,t[0],t[1],t[2])}return o.apply(e,t)}const HT=jT;var qb=Math.max;function UT(o,e,t){return e=qb(e===void 0?o.length-1:e,0),function(){for(var n=arguments,i=-1,s=qb(n.length-e,0),l=Array(s);++i<s;)l[i]=n[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=n[i];return c[e]=t(l),HT(o,this,c)}}const WT=UT;function $T(o){return function(){return o}}const qT=$T;var KT=N?function(o,e){return N(o,"toString",{configurable:!0,enumerable:!1,value:qT(e),writable:!0})}:zi;const GT=KT;var QT=800,ZT=16,JT=Date.now;function YT(o){var e=0,t=0;return function(){var n=JT(),i=ZT-(n-t);if(t=n,i>0){if(++e>=QT)return arguments[0]}else e=0;return o.apply(void 0,arguments)}}var XT=YT(GT);const e5=XT;function t5(o,e){return e5(WT(o,e,zi),o+"")}const n5=t5;function o5(o,e,t){if(!Ne(t))return!1;var n=typeof e;return(n=="number"?Wl(t)&&ih(e,t.length):n=="string"&&e in t)?jo(t[e],o):!1}const i5=o5;function r5(o){return n5(function(e,t){var n=-1,i=t.length,s=i>1?t[i-1]:void 0,l=i>2?t[2]:void 0;for(s=o.length>3&&typeof s=="function"?(i--,s):void 0,l&&i5(t[0],t[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var c=t[n];c&&o(e,c,n,s)}return e})}const Kb=r5;var s5=Kb(function(o,e,t){LT(o,e,t)});const Gb=s5;function a5(o,e,t,n){if(!Ne(o))return o;e=Wh(e,o);for(var i=-1,s=e.length,l=s-1,c=o;c!=null&&++i<s;){var u=$h(e[i]),p=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return o;if(i!=l){var m=c[u];p=n?n(m,u,c):void 0,p===void 0&&(p=Ne(m)?m:ih(e[i+1])?[]:{})}Le(c,u,p),c=c[u]}return o}const l5=a5;function c5(o,e,t){return o==null?o:l5(o,e,t)}const d5=c5;class u5{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(f5(e).entries());for(const[n,i]of t)this._styleProcessor.toNormalizedForm(n,i,this._styles)}has(e){if(this.isEmpty)return!1;const n=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);return Array.isArray(n)}set(e,t){if(Ne(e))for(const[n,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,i,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Gh(e);ET(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ne(this._styles[e]))return this._styles[e];const n=this._styleProcessor.getReducedForm(e,this._styles).find(([i])=>i===e);if(Array.isArray(n))return n[1]}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([n])=>n)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const i=t.splice(0,t.length-1).join("."),s=nc(this._styles,i);if(!s)return;!Array.from(Object.keys(s)).length&&this.remove(i)}}class h5{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(Ne(t)){Qh(n,Gh(e),t);return}if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:s,value:l}=i(t);Qh(n,s,l)}else Qh(n,e,t)}getNormalized(e,t){if(!e)return Gb({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return nc(t,n);const i=n(e,t);if(i)return i}return nc(t,Gh(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(i=>{const s=this.getNormalized(i,e);return s&&typeof s=="object"?Object.keys(s).length:s}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function f5(o){let e=null,t=0,n=0,i=null;const s=new Map;if(o==="")return s;o.charAt(o.length-1)!=";"&&(o=o+";");for(let l=0;l<o.length;l++){const c=o.charAt(l);if(e===null)switch(c){case":":i||(i=o.substr(t,l-t),n=l+1);break;case'"':case"'":e=c;break;case";":{const u=o.substr(n,l-n);i&&s.set(i.trim(),u.trim()),i=null,t=l+1;break}}else c===e&&(e=null)}return s}function Gh(o){return o.replace("-",".")}function Qh(o,e,t){let n=t;Ne(t)&&(n=Gb({},nc(o,e),t)),d5(o,e,n)}class sn extends Oi{constructor(e,t,n,i){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=p5(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const s=this._attrs.get("class");Qb(this._classes,s),this._attrs.delete("class")}this._styles=new u5(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof sn))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Zn(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(i=>`${i[0]}="${i[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const i of this.getChildren())t.push(i._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=g5(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,s.document=this.document,this._children.splice(e,0,s),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?Qb(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0?(this._classes.clear(),!0):!1:e=="style"?this._styles.isEmpty?!1:(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Dt(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Dt(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Dt(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}sn.prototype.is=function(o,e){return e?e===this.name&&(o==="element"||o==="view:element"):o==="element"||o==="view:element"||o==="node"||o==="view:node"};function p5(o){const e=bo(o);for(const[t,n]of e)n===null?e.delete(t):typeof n!="string"&&e.set(t,String(n));return e}function Qb(o,e){const t=e.split(/\s+/);o.clear(),t.forEach(n=>o.add(n))}function g5(o,e){return typeof e=="string"?[new Re(o,e)]:(Ft(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Re(o,t):t instanceof Qn?new Re(o,t.data):t))}class qs extends sn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=Zb}}qs.prototype.is=function(o,e){return e?e===this.name&&(o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function Zb(){const o=[...this.getChildren()],e=o[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of o)if(!t.is("uiElement"))return null;return this.childCount}class oc extends De(qs){constructor(e,t,n,i){super(e,t,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",s=>s&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}oc.prototype.is=function(o,e){return e?e===this.name&&(o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};const Jb=Symbol("rootName");class Yb extends oc{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Jb)}set rootName(e){this._setCustomProperty(Jb,e)}set _name(e){this.name=e}}Yb.prototype.is=function(o,e){return e?e===this.name&&(o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"):o==="rootElement"||o==="view:rootElement"||o==="editableElement"||o==="view:editableElement"||o==="containerElement"||o==="view:containerElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};class Mi{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new I("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new I("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Z._createAt(e.startPosition):this._position=Z._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n instanceof Re){if(e.isAtEnd)return this._position=Z._createAfter(n),this._next();i=n.data[e.offset]}else i=n.getChild(e.offset);if(i instanceof sn)return this.shallow?e.offset++:e=new Z(i,0),this._position=e,this._formatReturnValue("elementStart",i,t,e,1);if(i instanceof Re){if(this.singleCharacters)return e=new Z(i,0),this._position=e,this._next();{let s=i.data.length,l;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,l=new Qn(i,0,s),e=Z._createAfter(l)):(l=new Qn(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",l,t,e,s)}}else if(typeof i=="string"){let s;this.singleCharacters?s=1:s=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const l=new Qn(n,e.offset,s);return e.offset+=s,this._position=e,this._formatReturnValue("text",l,t,e,s)}else return e=Z._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n instanceof Re){if(e.isAtStart)return this._position=Z._createBefore(n),this._previous();i=n.data[e.offset-1]}else i=n.getChild(e.offset-1);if(i instanceof sn)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new Z(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i instanceof Re){if(this.singleCharacters)return e=new Z(i,i.data.length),this._position=e,this._previous();{let s=i.data.length,l;if(i==this._boundaryStartParent){const c=this.boundaries.start.offset;l=new Qn(i,c,i.data.length-c),s=l.data.length,e=Z._createBefore(l)}else l=new Qn(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",l,t,e,s)}}else if(typeof i=="string"){let s;if(this.singleCharacters)s=1;else{const c=n===this._boundaryStartParent?this.boundaries.start.offset:0;s=e.offset-c}e.offset-=s;const l=new Qn(n,e.offset,s);return this._position=e,this._formatReturnValue("text",l,t,e,s)}else return e=Z._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,i,s){return t instanceof Qn&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))?(i=Z._createAfter(t.textNode),this._position=i):n=Z._createAfter(t.textNode)),t.offsetInText===0&&(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))?(i=Z._createBefore(t.textNode),this._position=i):n=Z._createBefore(t.textNode))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:s}}}}class Z extends Ri{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof oc);)if(e.parent)e=e.parent;else return null;return e}getShiftedBy(e){const t=Z._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new Mi(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return i===0?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const i=Et(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Mi(e)}clone(){return new Z(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Z)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new I("view-createpositionat-offset-required",n)}return new Z(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Z(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new I("view-position-after-root",e,{root:e});return new Z(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Z(e.textNode,e.offsetInText);if(!e.parent)throw new I("view-position-before-root",e,{root:e});return new Z(e.parent,e.index)}}Z.prototype.is=function(o){return o==="position"||o==="view:position"};class le extends Ri{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Mi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(ic,{direction:"backward"}),t=this.end.getLastMatchingPosition(ic);return e.parent.is("$text")&&e.isAtStart&&(e=Z._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Z._createAfter(t.parent)),new le(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(ic);if(e.isAfter(this.end)||e.isEqual(this.end))return new le(e,e);let t=this.end.getLastMatchingPosition(ic,{direction:"backward"});const n=e.nodeAfter,i=t.nodeBefore;return n&&n.is("$text")&&(e=new Z(n,0)),i&&i.is("$text")&&(t=new Z(i,i.data.length)),new le(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new le(this.start,e.start)),this.containsPosition(e.end)&&t.push(new le(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new le(t,n)}return null}getWalker(e={}){return e.boundaries=this,new Mi(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new le(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new Mi(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new Mi(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,i){return new this(new Z(e,t),new Z(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Z._createBefore(e),t)}}le.prototype.is=function(o){return o==="range"||o==="view:range"};function ic(o){return!!(o.item.is("attributeElement")||o.item.is("uiElement"))}class Jn extends Se(Ri){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=Cs(this.getRanges()),n=Cs(e.getRanges());if(t!=n)return!1;if(t==0)return!0;for(let i of this.getRanges()){i=i.getTrimmed();let s=!1;for(let l of e.getRanges())if(l=l.getTrimmed(),i.start.isEqual(l.start)&&i.end.isEqual(l.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,i]=e;if(typeof n=="object"&&(i=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(i);else if(t instanceof Jn||t instanceof Zh)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof le)this._setRanges([t],i&&i.backward),this._setFakeOptions(i);else if(t instanceof Z)this._setRanges([new le(t)]),this._setFakeOptions(i);else if(t instanceof Oi){const s=!!i&&!!i.backward;let l;if(n===void 0)throw new I("view-selection-setto-required-second-parameter",this);n=="in"?l=le._createIn(t):n=="on"?l=le._createOn(t):l=new le(Z._createAt(t,n)),this._setRanges([l],s),this._setFakeOptions(i)}else if(Ft(t))this._setRanges(t,i&&i.backward),this._setFakeOptions(i);else throw new I("view-selection-setto-not-selectable",this);this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new I("view-selection-setfocus-no-ranges",this);const n=Z._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.pop(),n.compareWith(i)=="before"?this._addRange(new le(n,i),!0):this._addRange(new le(i,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof le))throw new I("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new I("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new le(e.start,e.end))}}Jn.prototype.is=function(o){return o==="selection"||o==="view:selection"};class Zh extends Se(Ri){constructor(...e){super(),this._selection=new Jn,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}Zh.prototype.is=function(o){return o==="selection"||o=="documentSelection"||o=="view:selection"||o=="view:documentSelection"};class Sr extends dt{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Jh=Symbol("bubbling contexts");function Yh(o){class e extends o{fire(n,...i){try{const s=n instanceof dt?n:new dt(this,n),l=Xh(this);if(!l.size)return;if(Ks(s,"capturing",this),Dr(l,"$capture",s,...i))return s.return;const c=s.startRange||this.selection.getFirstRange(),u=c?c.getContainedElement():null,p=u?!!Xb(l,u):!1;let m=u||m5(c);if(Ks(s,"atTarget",m),!p){if(Dr(l,"$text",s,...i))return s.return;Ks(s,"bubbling",m)}for(;m;){if(m.is("rootElement")){if(Dr(l,"$root",s,...i))return s.return}else if(m.is("element")&&Dr(l,m.name,s,...i))return s.return;if(Dr(l,m,s,...i))return s.return;m=m.parent,Ks(s,"bubbling",m)}return Ks(s,"bubbling",this),Dr(l,"$document",s,...i),s.return}catch(s){I.rethrowUnexpectedError(s,this)}}_addEventListener(n,i,s){const l=Dt(s.context||"$document"),c=Xh(this);for(const u of l){let p=c.get(u);p||(p=new(Se()),c.set(u,p)),this.listenTo(p,n,i,s)}}_removeEventListener(n,i){const s=Xh(this);for(const l of s.values())this.stopListening(l,n,i)}}return e}{const o=Yh(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Yh[e]=o.prototype[e]})}function Ks(o,e,t){o instanceof Sr&&(o._eventPhase=e,o._currentTarget=t)}function Dr(o,e,t,...n){const i=typeof e=="string"?o.get(e):Xb(o,e);return i?(i.fire(t,...n),t.stop.called):!1}function Xb(o,e){for(const[t,n]of o)if(typeof t=="function"&&t(e))return n;return null}function Xh(o){return o[Jh]||(o[Jh]=new Map),o[Jh]}function m5(o){if(!o)return null;const e=o.start.parent,t=o.end.parent,n=e.getPath(),i=t.getPath();return n.length>i.length?e:t}class rc extends Yh(De()){constructor(e){super(),this._postFixers=new Set,this.selection=new Zh,this.roots=new On({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}const ew=10;class Ni extends sn{constructor(e,t,n,i){super(e,t,n,i),this._priority=ew,this._id=null,this._clonesGroup=null,this.getFillerOffset=k5}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new I("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}Ni.DEFAULT_PRIORITY=ew,Ni.prototype.is=function(o,e){return e?e===this.name&&(o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"):o==="attributeElement"||o==="view:attributeElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function k5(){if(ef(this))return null;let o=this.parent;for(;o&&o.is("attributeElement");){if(ef(o)>1)return null;o=o.parent}return!o||ef(o)>1?null:this.childCount}function ef(o){return Array.from(o.getChildren()).filter(e=>!e.is("uiElement")).length}class tf extends sn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=b5}_insertChild(e,t){if(t&&(t instanceof Oi||Array.from(t).length>0))throw new I("view-emptyelement-cannot-add",[this,t]);return 0}}tf.prototype.is=function(o,e){return e?e===this.name&&(o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"):o==="emptyElement"||o==="view:emptyElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function b5(){return null}class sc extends sn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=_5}_insertChild(e,t){if(t&&(t instanceof Oi||Array.from(t).length>0))throw new I("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}sc.prototype.is=function(o,e){return e?e===this.name&&(o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"):o==="uiElement"||o==="view:uiElement"||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function w5(o){o.document.on("arrowKey",(e,t)=>v5(e,t,o.domConverter),{priority:"low"})}function _5(){return null}function v5(o,e,t){if(e.keyCode==_e.arrowright){const n=e.domTarget.ownerDocument.defaultView.getSelection(),i=n.rangeCount==1&&n.getRangeAt(0).collapsed;if(i||e.shiftKey){const s=n.focusNode,l=n.focusOffset,c=t.domPositionToView(s,l);if(c===null)return;let u=!1;const p=c.getLastMatchingPosition(m=>(m.item.is("uiElement")&&(u=!0),!!(m.item.is("uiElement")||m.item.is("attributeElement"))));if(u){const m=t.viewPositionToDom(p);i?n.collapse(m.parent,m.offset):n.extend(m.parent,m.offset)}}}}class nf extends sn{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=C5}_insertChild(e,t){if(t&&(t instanceof Oi||Array.from(t).length>0))throw new I("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}nf.prototype.is=function(o,e){return e?e===this.name&&(o==="rawElement"||o==="view:rawElement"||o==="element"||o==="view:element"):o==="rawElement"||o==="view:rawElement"||o===this.name||o==="view:"+this.name||o==="element"||o==="view:element"||o==="node"||o==="view:node"};function C5(){return null}class Fi extends Se(Ri){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=A5(this.document,t);for(const s of i)s.parent!==null&&s._remove(),s.parent=this,this._children.splice(e,0,s),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Fi.prototype.is=function(o){return o==="documentFragment"||o==="view:documentFragment"};function A5(o,e){return typeof e=="string"?[new Re(o,e)]:(Ft(e)||(e=[e]),Array.from(e).map(t=>typeof t=="string"?new Re(o,t):t instanceof Qn?new Re(o,t.data):t))}class tw{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new Fi(this.document,e)}createText(e){return new Re(this.document,e)}createAttributeElement(e,t,n={}){const i=new Ni(this.document,e,t);return typeof n.priority=="number"&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(e,t,n={},i={}){let s=null;pt(n)?i=n:s=n;const l=new qs(this.document,e,t,s);return i.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),l}createEditableElement(e,t,n={}){const i=new oc(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(e,t,n={}){const i=new tf(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(e,t,n){const i=new sc(this.document,e,t);return n&&(i.render=n),i}createRawElement(e,t,n,i={}){const s=new nf(this.document,e,t);return n&&(s.render=n),i.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),s}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){pt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Z?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new I("view-writer-break-non-container-element",this.document);if(!t.parent)throw new I("view-writer-break-root",this.document);if(e.isAtStart)return Z._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Z._createAfter(t),n);const i=new le(e,Z._createAt(t,"end")),s=new Z(n,0);this.move(i,s)}return Z._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const l=n.parent,c=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Z(l,c))}const i=n.getChild(t-1),s=n.getChild(t);if(!i||!s)return e;if(i.is("$text")&&s.is("$text"))return ow(i,s);if(i.is("attributeElement")&&s.is("attributeElement")&&i.isSimilar(s)){const l=i.childCount;return i._appendChild(s.getChildren()),s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Z(i,l))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!t||!n||!t.is("containerElement")||!n.is("containerElement"))throw new I("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),s=i instanceof Re?Z._createAt(i,"end"):Z._createAt(t,"end");return this.move(le._createIn(n),Z._createAt(t,"end")),this.remove(le._createOn(n)),s}insert(e,t){t=Ft(t)?[...t]:[t],iw(t,this.document);const n=t.reduce((l,c)=>{const u=l[l.length-1],p=!c.is("uiElement");return!u||u.breakAttributes!=p?l.push({breakAttributes:p,nodes:[c]}):u.nodes.push(c),l},[]);let i=null,s=e;for(const{nodes:l,breakAttributes:c}of n){const u=this._insertNodes(s,l,c);i||(i=u.start),s=u.end}return i?new le(i,s):new le(e)}remove(e){const t=e instanceof le?e:le._createOn(e);if(Gs(t,this.document),t.isCollapsed)return new Fi(this.document);const{start:n,end:i}=this._breakAttributesRange(t,!0),s=n.parent,l=i.offset-n.offset,c=s._removeChildren(n.offset,l);for(const p of c)this._removeFromClonedElementsGroup(p);const u=this.mergeAttributes(n);return t.start=u,t.end=u.clone(),new Fi(this.document,c)}clear(e,t){Gs(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const s=i.item;let l;if(s.is("element")&&t.isSimilar(s))l=le._createOn(s);else if(!i.nextPosition.isAfter(e.start)&&s.is("$textProxy")){const c=s.getAncestors().find(u=>u.is("element")&&t.isSimilar(u));c&&(l=le._createIn(c))}l&&(l.end.isAfter(e.end)&&(l.end=e.end),l.start.isBefore(e.start)&&(l.start=e.start),this.remove(l))}}move(e,t){let n;if(t.isAfter(e.end)){t=this._breakAttributes(t,!0);const i=t.parent,s=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-s}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof Ni))throw new I("view-writer-wrap-invalid-attribute",this.document);if(Gs(e,this.document),e.isCollapsed){let n=e.start;n.parent.is("element")&&!y5(n.parent)&&(n=n.getLastMatchingPosition(s=>s.item.is("uiElement"))),n=this._wrapPosition(n,t);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new le(n)}else return this._wrapRange(e,t)}unwrap(e,t){if(!(t instanceof Ni))throw new I("view-writer-unwrap-invalid-attribute",this.document);if(Gs(e,this.document),e.isCollapsed)return e;const{start:n,end:i}=this._breakAttributesRange(e,!0),s=n.parent,l=this._unwrapChildren(s,n.offset,i.offset,t),c=this.mergeAttributes(l.start);c.isEqual(l.start)||l.end.offset--;const u=this.mergeAttributes(l.end);return new le(c,u)}rename(e,t){const n=new qs(this.document,e,t.getAttributes());return this.insert(Z._createAfter(t),n),this.move(le._createIn(t),Z._createAt(n,0)),this.remove(le._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Z._createAt(e,t)}createPositionAfter(e){return Z._createAfter(e)}createPositionBefore(e){return Z._createBefore(e)}createRange(e,t){return new le(e,t)}createRangeOn(e){return le._createOn(e)}createRangeIn(e){return le._createIn(e)}createSelection(...e){return new Jn(...e)}createSlot(e="children"){if(!this._slotFactory)throw new I("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let i;if(n?i=of(e):i=e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new I("view-writer-invalid-position-container",this.document);let s;n?s=this._breakAttributes(e,!0):s=e.parent.is("$text")?rf(e):e;const l=i._insertChild(s.offset,t);for(const m of t)this._addToClonedElementsGroup(m);const c=s.getShiftedBy(l),u=this.mergeAttributes(s);u.isEqual(s)||c.offset--;const p=this.mergeAttributes(c);return new le(u,p)}_wrapChildren(e,t,n,i){let s=t;const l=[];for(;s<n;){const u=e.getChild(s),p=u.is("$text"),m=u.is("attributeElement");if(m&&this._wrapAttributeElement(i,u))l.push(new Z(e,s));else if(p||!m||x5(i,u)){const w=i._clone();u._remove(),w._appendChild(u),e._insertChild(s,w),this._addToClonedElementsGroup(w),l.push(new Z(e,s))}else this._wrapChildren(u,0,u.childCount,i);s++}let c=0;for(const u of l){if(u.offset-=c,u.offset==t)continue;this.mergeAttributes(u).isEqual(u)||(c++,n--)}return le._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let s=t;const l=[];for(;s<n;){const u=e.getChild(s);if(!u.is("attributeElement")){s++;continue}if(u.isSimilar(i)){const p=u.getChildren(),m=u.childCount;u._remove(),e._insertChild(s,p),this._removeFromClonedElementsGroup(u),l.push(new Z(e,s),new Z(e,s+m)),s+=m,n+=m-1;continue}if(this._unwrapAttributeElement(i,u)){l.push(new Z(e,s),new Z(e,s+1)),s++;continue}this._unwrapChildren(u,0,u.childCount,i),s++}let c=0;for(const u of l){if(u.offset-=c,u.offset==t||u.offset==n)continue;this.mergeAttributes(u).isEqual(u)||(c++,n--)}return le._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,!0),s=n.parent,l=this._wrapChildren(s,n.offset,i.offset,t),c=this.mergeAttributes(l.start);c.isEqual(l.start)||l.end.offset--;const u=this.mergeAttributes(l.end);return new le(c,u)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return nw(e.clone());e.parent.is("$text")&&(e=rf(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const i=new le(e,e.getShiftedBy(1));this.wrap(i,t);const s=new Z(n.parent,n.index);n._remove();const l=s.nodeBefore,c=s.nodeAfter;return l instanceof Re&&c instanceof Re?ow(l,c):nw(s)}_wrapAttributeElement(e,t){if(!rw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t);for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!rw(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(!(n==="class"||n==="style")&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n==="class"||n==="style"||this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,i=e.end;if(Gs(e,this.document),e.isCollapsed){const u=this._breakAttributes(e.start,t);return new le(u,u)}const s=this._breakAttributes(i,t),l=s.parent.childCount,c=this._breakAttributes(n,t);return s.offset+=s.parent.childCount-l,new le(c,s)}_breakAttributes(e,t=!1){const n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new I("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new I("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new I("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&sf(i.parent)||sf(i))return e.clone();if(i.is("$text"))return this._breakAttributes(rf(e),t);const s=i.childCount;if(n==s){const l=new Z(i.parent,i.index+1);return this._breakAttributes(l,t)}else if(n===0){const l=new Z(i.parent,i.index);return this._breakAttributes(l,t)}else{const l=i.index+1,c=i._clone();i.parent._insertChild(l,c),this._addToClonedElementsGroup(c);const u=i.childCount-n,p=i._removeChildren(n,u);c._appendChild(p);const m=new Z(i.parent,l);return this._breakAttributes(m,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function y5(o){return Array.from(o.getChildren()).some(e=>!e.is("uiElement"))}function of(o){let e=o.parent;for(;!sf(e);){if(!e)return;e=e.parent}return e}function x5(o,e){return o.priority<e.priority?!0:o.priority>e.priority?!1:o.getIdentity()<e.getIdentity()}function nw(o){const e=o.nodeBefore;if(e&&e.is("$text"))return new Z(e,e.data.length);const t=o.nodeAfter;return t&&t.is("$text")?new Z(t,0):o}function rf(o){if(o.offset==o.parent.data.length)return new Z(o.parent.parent,o.parent.index+1);if(o.offset===0)return new Z(o.parent.parent,o.parent.index);const e=o.parent.data.slice(o.offset);return o.parent._data=o.parent.data.slice(0,o.offset),o.parent.parent._insertChild(o.parent.index+1,new Re(o.root.document,e)),new Z(o.parent.parent,o.parent.index+1)}function ow(o,e){const t=o.data.length;return o._data+=e.data,e._remove(),new Z(o,t)}const E5=[Re,Ni,qs,tf,nf,sc];function iw(o,e){for(const t of o){if(!E5.some(n=>t instanceof n))throw new I("view-writer-insert-invalid-node-type",e);t.is("$text")||iw(t.getChildren(),e)}}function sf(o){return o&&(o.is("containerElement")||o.is("documentFragment"))}function Gs(o,e){const t=of(o.start),n=of(o.end);if(!t||!n||t!==n)throw new I("view-writer-invalid-range-container",e)}function rw(o,e){return o.id===null&&e.id===null}const sw=o=>o.createTextNode(" "),aw=o=>{const e=o.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},lw=o=>{const e=o.createElement("br");return e.dataset.ckeFiller="true",e},Yn=7,ac="⁠".repeat(Yn);function an(o){return rt(o)&&o.data.substr(0,Yn)===ac}function Qs(o){return o.data.length==Yn&&an(o)}function cw(o){return an(o)?o.data.slice(Yn):o.data}function S5(o){o.document.on("arrowKey",D5,{priority:"low"})}function D5(o,e){if(e.keyCode==_e.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,i=t.getRangeAt(0).startOffset;an(n)&&i<=Yn&&t.collapse(n,0)}}}var dw=f(4401),af={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};af.insert="head",af.singleton=!0,de()(dw.Z,af),dw.Z.locals;class T5 extends De(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),y.isBlink&&!y.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else if(e==="children")this.markedChildren.add(t);else throw new I("view-renderer-unknown-type",this)}}render(){if(this.isComposing&&!y.isAndroid)return;let e=null;const t=y.isBlink&&!y.isAndroid?!this.isSelecting:!0;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Z._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),i=n.parent.ownerDocument;an(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=uw(i,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const n=Array.from(this.domConverter.mapViewToDom(e).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(n,i),l=this._findUpdateActions(s,n,i,I5);if(l.indexOf("update")!==-1){const c={equal:0,insert:0,delete:0};for(const u of l)if(u==="update"){const p=c.equal+c.insert,m=c.equal+c.delete,w=e.getChild(p);w&&!(w.is("uiElement")||w.is("rawElement"))&&this._updateElementMappings(w,n[m]),Yk(i[p]),c.equal++}else c[u]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Z._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&rt(t.parent)&&an(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!an(e))throw new I("view-renderer-filler-was-lost",this);Qs(e)?e.remove():e.data=e.data.substr(Yn),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!P5(t)||n===t.getFillerOffset())return!1;const i=e.nodeBefore,s=e.nodeAfter;return!(i instanceof Re||s instanceof Re||y.isAndroid&&(i||s))}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const l=t.inlineFillerPosition;l&&l.parent==e.parent&&l.offset==e.index&&(s=ac+s),hw(n,s)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(s=>s.name),i=e.getAttributeKeys();for(const s of i)this.domConverter.setDomElementAttribute(t,s,e.getAttribute(s),e);for(const s of n)e.hasAttribute(s)||this.domConverter.removeDomElementAttribute(t,s)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(y.isAndroid){let w=null;for(const x of Array.from(n.childNodes)){if(w&&rt(w)&&rt(x)){n.normalize();break}w=x}}const i=t.inlineFillerPosition,s=n.childNodes,l=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&uw(n.ownerDocument,l,i.offset);const c=this._diffNodeLists(s,l),u=this._findUpdateActions(c,s,l,B5);let p=0;const m=new Set;for(const w of u)w==="delete"?(m.add(s[p]),Yk(s[p])):(w==="equal"||w==="update")&&p++;p=0;for(const w of u)w==="insert"?(Qk(n,p,l[p]),p++):w==="update"?(hw(s[p],l[p].data),p++):w==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(l[p])),p++);for(const w of m)w.parentNode||this.domConverter.unbindDomElement(w)}_diffNodeLists(e,t){return e=z5(e,this._fakeSelectionContainer),je(e,t,R5.bind(null,this.domConverter))}_findUpdateActions(e,t,n,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let s=[],l=[],c=[];const u={equal:0,insert:0,delete:0};for(const p of e)p==="insert"?c.push(n[u.equal+u.insert]):p==="delete"?l.push(t[u.equal+u.delete]):(s=s.concat(je(l,c,i).map(m=>m==="equal"?"update":m)),s.push("equal"),l=[],c=[]),u[p]++;return s.concat(je(l,c,i).map(p=>p==="equal"?"update":p))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(y.isBlink&&!y.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0){this._removeDomSelection(),this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);!this.isFocused||!e||(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&y.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=M5(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;(!n.parentElement||n.parentElement!=e)&&e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=t.getSelection(),s=t.createRange();i.removeAllRanges(),s.selectNodeContents(n),i.addRange(s)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.collapse(n.parent,n.offset),t.extend(i.parent,i.offset),y.isGecko&&O5(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)?!0:t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function P5(o){if(o.getAttribute("contenteditable")=="false")return!1;const e=o.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||e.getAttribute("contenteditable")=="true"}function uw(o,e,t){const n=e instanceof Array?e:e.childNodes,i=n[t];if(rt(i))return i.data=ac+i.data,i;{const s=o.createTextNode(ac);return Array.isArray(e)?n.splice(t,0,s):Qk(e,t,s),s}}function I5(o,e){return qo(o)&&qo(e)&&!rt(o)&&!rt(e)&&!Cr(o)&&!Cr(e)&&o.tagName.toLowerCase()===e.tagName.toLowerCase()}function B5(o,e){return qo(o)&&qo(e)&&rt(o)&&rt(e)}function R5(o,e,t){return e===t?!0:rt(e)&&rt(t)?e.data===t.data:!!(o.isBlockFiller(e)&&o.isBlockFiller(t))}function O5(o,e){const t=o.parent;if(t.nodeType!=Node.ELEMENT_NODE||o.offset!=t.childNodes.length-1)return;const n=t.childNodes[o.offset];n&&n.tagName=="BR"&&e.addRange(e.getRangeAt(0))}function z5(o,e){const t=Array.from(o);return t.length==0||!e||t[t.length-1]==e&&t.pop(),t}function M5(o){const e=o.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}function hw(o,e){const t=o.data;if(t==e)return;const n=H(t,e);for(const i of n)i.type==="insert"?o.insertData(i.index,i.values.join("")):o.deleteData(i.index,i.howMany)}const N5=lw(ke.document),F5=sw(ke.document),L5=aw(ke.document),lc="data-ck-unsafe-attribute-",fw="data-ck-unsafe-element";class cc{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Zn,this._encounteredRawContentDomNodes=new WeakSet,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?ke.document:ke.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Jn(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"?!0:(e=e.toLowerCase(),e.startsWith("on")||e==="srcdoc"&&t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)?!1:n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"?!0:!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data"){e.innerHTML=t;return}const n=new DOMParser().parseFromString(t,"text/html"),i=n.createDocumentFragment(),s=n.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);const l=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),c=[];let u;for(;u=l.nextNode();)c.push(u);for(const p of c){for(const w of p.getAttributeNames())this.setDomElementAttribute(p,w,p.getAttribute(w));const m=p.tagName.toLowerCase();this._shouldRenameElement(m)&&(mw(m),p.replaceWith(this._createReplacementDomElement(m,p)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}else{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return e.name==="$comment"?n=this._domDocument.createComment(e.getCustomProperty("$rawContent")):n=e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(mw(e.name),n=this._createReplacementDomElement(e.name)):e.hasAttribute("xmlns")?n=this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):n=this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const i of e.getAttributeKeys())this.setDomElementAttribute(n,i,e.getAttribute(i),e)}if(t.withChildren!==!1)for(const i of this.viewChildrenToDom(e,t))n.appendChild(i);return n}}setDomElementAttribute(e,t,n,i){const s=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);s||Ee("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),e.hasAttribute(t)&&!s?e.removeAttribute(t):e.hasAttribute(lc+t)&&s&&e.removeAttribute(lc+t),e.setAttribute(s?t:lc+t,n)}removeDomElementAttribute(e,t){t!=fw&&(e.removeAttribute(t),e.removeAttribute(lc+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let i=0;for(const s of e.getChildren()){n===i&&(yield this._getBlockFiller());const l=s.is("element")&&!!s.getCustomProperty("dataPipeline:transparentRendering")&&!_t(s.getAttributes());l&&this.renderingMode=="data"?yield*this.viewChildrenToDom(s,t):(l&&Ee("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:s}),yield this.viewToDom(s,t)),i++}n===i&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let i=e.offset;return an(n)&&(i+=Yn),{parent:n,offset:i}}else{let n,i,s;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;s=n.childNodes[0]}else{const c=e.nodeBefore;if(i=c.is("$text")?this.findCorrespondingDomText(c):this.mapViewToDom(c),!i)return null;n=i.parentNode,s=i.nextSibling}if(rt(s)&&an(s))return{parent:s,offset:Yn};const l=i?Zl(i)+1:0;return{parent:n,offset:l}}}domToView(e,t={}){if(this.isBlockFiller(e))return null;const n=this.getHostViewElement(e);if(n)return n;if(Cr(e)&&t.skipComments)return null;if(rt(e)){if(Qs(e))return null;{const i=this._processDataFromDomText(e);return i===""?null:new Re(this.document,i)}}else{if(this.mapDomToView(e))return this.mapDomToView(e);let i;if(this.isDocumentFragment(e))i=new Fi(this.document),t.bind&&this.bindDocumentFragments(e,i);else{i=this._createViewElement(e,t),t.bind&&this.bindElements(e,i);const s=e.attributes;if(s)for(let l=s.length,c=0;c<l;c++)i._setAttribute(s[c].name,s[c].value);if(this._isViewElementWithRawContent(i,t)||Cr(e)){const l=Cr(e)?e.data:e.innerHTML;return i._setCustomProperty("$rawContent",l),this._encounteredRawContentDomNodes.add(e),i}}if(t.withChildren!==!1)for(const s of this.domChildrenToView(e,t))i._appendChild(s);return i}}*domChildrenToView(e,t){for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n],s=this.domToView(i,t);s!==null&&(yield s)}}domSelectionToView(e){if(e.rangeCount===1){let i=e.getRangeAt(0).startContainer;rt(i)&&(i=i.parentNode);const s=this.fakeSelectionToView(i);if(s)return s}const t=this.isDomSelectionBackward(e),n=[];for(let i=0;i<e.rangeCount;i++){const s=e.getRangeAt(i),l=this.domRangeToView(s);l&&n.push(l)}return new Jn(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new le(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Zl(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Z._createBefore(n);if(rt(e)){if(Qs(e))return this.domPositionToView(e.parentNode,Zl(e));const i=this.findCorrespondingViewText(e);let s=t;return i?(an(e)&&(s-=Yn,s=s<0?0:s),new Z(i,s)):null}else{if(t===0){const i=this.mapDomToView(e);if(i)return new Z(i,0)}else{const i=e.childNodes[t-1];if(rt(i)&&Qs(i)||i&&this.isBlockFiller(i))return this.domPositionToView(i.parentNode,Zl(i));const s=rt(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(s&&s.parent)return new Z(s.parent,s.index+1)}return null}}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Qs(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const i=this.mapDomToView(n);if(i){const s=i.nextSibling;return s instanceof Re?s:null}}else{const i=this.mapDomToView(e.parentNode);if(i){const s=i.getChild(0);return s instanceof Re?s:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:i}=ke.window,s=[];pw(t,l=>{const{scrollLeft:c,scrollTop:u}=l;s.push([c,u])}),t.focus(),pw(t,l=>{const[c,u]=s.shift();l.scrollLeft=c,l.scrollTop=u}),ke.window.scrollTo(n,i)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(N5):e.tagName==="BR"&&gw(e,this.blockElements)&&e.parentNode.childNodes.length===1?!0:e.isEqualNode(L5)||j5(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=Uk(e);for(t.pop();t.length;){const n=t.pop(),i=this._domToViewMapping.get(n);if(i&&(i.is("uiElement")||i.is("rawElement")))return i}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return sw(this._domDocument);case"markedNbsp":return aw(this._domDocument);case"br":return lw(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(rt(e)&&an(e)&&t<Yn||this.isElement(e)&&an(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!(n&&(n.is("uiElement")||n.is("rawElement")))}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n)||!n)&&(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),i=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";(t.charAt(t.length-2)==" "||!n||i)&&(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(V5(e,this.preElements))return cw(e);t=t.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),s=this._checkShouldLeftTrimDomText(e,n),l=this._checkShouldRightTrimDomText(e,i);s&&(t=t.replace(/^ /,"")),l&&(t=t.replace(/ $/,"")),t=cw(new Text(t)),t=t.replace(/ \u00A0/g,"  ");const c=i&&this.isElement(i)&&i.tagName!="BR",u=i&&rt(i)&&i.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(t)||!i||c||u)&&(t=t.replace(/\u00A0$/," ")),(s||n&&this.isElement(n)&&n.tagName!="BR")&&(t=t.replace(/^\u00A0/," ")),t}_checkShouldLeftTrimDomText(e,t){return t?this.isElement(t)?t.tagName==="BR":this._encounteredRawContentDomNodes.has(e.previousSibling)?!1:/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)):!0}_checkShouldRightTrimDomText(e,t){return t?!1:!an(e)}_getTouchingInlineViewNode(e,t){const n=new Mi({startPosition:t?Z._createAfter(e):Z._createBefore(e),direction:t?"forward":"backward"});for(const i of n){if(i.item.is("element")&&this.inlineObjectElements.includes(i.item.name))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("element","br"))return null;if(i.item.is("$textProxy"))return i.item}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode)return null;const n=t?"firstChild":"lastChild",i=t?"nextSibling":"previousSibling";let s=!0,l=e;do if(!s&&l[n]?l=l[n]:l[i]?(l=l[i],s=!1):(l=l.parentNode,s=!0),!l||this._isBlockElement(l))return null;while(!(rt(l)||l.tagName=="BR"||this._isInlineObjectElement(l)));return l}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,t){if(Cr(e))return new sc(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new sn(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(fw,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const i of t.getAttributeNames())n.setAttribute(i,t.getAttribute(i))}return n}}function V5(o,e){return Uk(o).some(n=>n.tagName&&e.includes(n.tagName.toLowerCase()))}function pw(o,e){let t=o;for(;t;)e(t),t=t.parentElement}function j5(o,e){return o.isEqualNode(F5)&&gw(o,e)&&o.parentNode.childNodes.length===1}function gw(o,e){const t=o.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function mw(o){o==="script"&&Ee("domconverter-unsafe-script-element-detected"),o==="style"&&Ee("domconverter-unsafe-style-element-detected")}class Xn extends Pi(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!e||e.nodeType!==1?!1:e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}var H5=Kb(function(o,e){qt(e,_r(e),o)});const kw=H5;class Tr{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,kw(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ko extends Xn{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(n=>{this.listenTo(e,n,(i,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Tr(this.view,t,n))}}class U5 extends Ko{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ar(this)}};this.fire(e.type,e,t)}}var W5=function(){return Bt.Date.now()};const lf=W5;var $5=/\s/;function q5(o){for(var e=o.length;e--&&$5.test(o.charAt(e)););return e}const K5=q5;var G5=/^\s+/;function Q5(o){return o&&o.slice(0,K5(o)+1).replace(G5,"")}const Z5=Q5;var bw=0/0,J5=/^[-+]0x[0-9a-f]+$/i,Y5=/^0b[01]+$/i,X5=/^0o[0-7]+$/i,eP=parseInt;function tP(o){if(typeof o=="number")return o;if(tc(o))return bw;if(Ne(o)){var e=typeof o.valueOf=="function"?o.valueOf():o;o=Ne(e)?e+"":e}if(typeof o!="string")return o===0?o:+o;o=Z5(o);var t=Y5.test(o);return t||X5.test(o)?eP(o.slice(2),t?2:8):J5.test(o)?bw:+o}const ww=tP;var nP="Expected a function",oP=Math.max,iP=Math.min;function rP(o,e,t){var n,i,s,l,c,u,p=0,m=!1,w=!1,x=!0;if(typeof o!="function")throw new TypeError(nP);e=ww(e)||0,Ne(t)&&(m=!!t.leading,w="maxWait"in t,s=w?oP(ww(t.maxWait)||0,e):s,x="trailing"in t?!!t.trailing:x);function T(re){var ue=n,ae=i;return n=i=void 0,p=re,l=o.apply(ae,ue),l}function M(re){return p=re,c=setTimeout(K,e),m?T(re):l}function F(re){var ue=re-u,ae=re-p,tt=e-ue;return w?iP(tt,s-ae):tt}function W(re){var ue=re-u,ae=re-p;return u===void 0||ue>=e||ue<0||w&&ae>=s}function K(){var re=lf();if(W(re))return ne(re);c=setTimeout(K,F(re))}function ne(re){return c=void 0,x&&n?T(re):(n=i=void 0,l)}function Ce(){c!==void 0&&clearTimeout(c),p=0,n=u=i=c=void 0}function Ve(){return c===void 0?l:ne(lf())}function et(){var re=lf(),ue=W(re);if(n=arguments,i=this,u=re,ue){if(c===void 0)return M(u);if(w)return clearTimeout(c),c=setTimeout(K,e),T(u)}return c===void 0&&(c=setTimeout(K,e)),l}return et.cancel=Ce,et.flush=Ve,et}const Zs=rP;class sP extends Xn{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Zs(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new Jn(t.getRanges(),{backward:t.isBackward,fake:!1});(e==_e.arrowleft||e==_e.arrowup)&&n.setTo(n.getFirstPosition()),(e==_e.arrowright||e==_e.arrowdown)&&n.setTo(n.getLastPosition());const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}var aP="__lodash_hash_undefined__";function lP(o){return this.__data__.set(o,aP),this}const cP=lP;function dP(o){return this.__data__.has(o)}const uP=dP;function dc(o){var e=-1,t=o==null?0:o.length;for(this.__data__=new Ei;++e<t;)this.add(o[e])}dc.prototype.add=dc.prototype.push=cP,dc.prototype.has=uP;const hP=dc;function fP(o,e){for(var t=-1,n=o==null?0:o.length;++t<n;)if(e(o[t],t,o))return!0;return!1}const pP=fP;function gP(o,e){return o.has(e)}const mP=gP;var kP=1,bP=2;function wP(o,e,t,n,i,s){var l=t&kP,c=o.length,u=e.length;if(c!=u&&!(l&&u>c))return!1;var p=s.get(o),m=s.get(e);if(p&&m)return p==e&&m==o;var w=-1,x=!0,T=t&bP?new hP:void 0;for(s.set(o,e),s.set(e,o);++w<c;){var M=o[w],F=e[w];if(n)var W=l?n(F,M,w,e,o,s):n(M,F,w,o,e,s);if(W!==void 0){if(W)continue;x=!1;break}if(T){if(!pP(e,function(K,ne){if(!mP(T,ne)&&(M===K||i(M,K,t,n,s)))return T.push(ne)})){x=!1;break}}else if(!(M===F||i(M,F,t,n,s))){x=!1;break}}return s.delete(o),s.delete(e),x}const _w=wP;function _P(o){var e=-1,t=Array(o.size);return o.forEach(function(n,i){t[++e]=[i,n]}),t}const vP=_P;function CP(o){var e=-1,t=Array(o.size);return o.forEach(function(n){t[++e]=n}),t}const AP=CP;var yP=1,xP=2,EP="[object Boolean]",SP="[object Date]",DP="[object Error]",TP="[object Map]",PP="[object Number]",IP="[object RegExp]",BP="[object Set]",RP="[object String]",OP="[object Symbol]",zP="[object ArrayBuffer]",MP="[object DataView]",vw=wn?wn.prototype:void 0,cf=vw?vw.valueOf:void 0;function NP(o,e,t,n,i,s,l){switch(t){case MP:if(o.byteLength!=e.byteLength||o.byteOffset!=e.byteOffset)return!1;o=o.buffer,e=e.buffer;case zP:return!(o.byteLength!=e.byteLength||!s(new $l(o),new $l(e)));case EP:case SP:case PP:return jo(+o,+e);case DP:return o.name==e.name&&o.message==e.message;case IP:case RP:return o==e+"";case TP:var c=vP;case BP:var u=n&yP;if(c||(c=AP),o.size!=e.size&&!u)return!1;var p=l.get(o);if(p)return p==e;n|=xP,l.set(o,e);var m=_w(c(o),c(e),n,i,s,l);return l.delete(o),m;case OP:if(cf)return cf.call(o)==cf.call(e)}return!1}const FP=NP;var LP=1,VP=Object.prototype,jP=VP.hasOwnProperty;function HP(o,e,t,n,i,s){var l=t&LP,c=uh(o),u=c.length,p=uh(e),m=p.length;if(u!=m&&!l)return!1;for(var w=u;w--;){var x=c[w];if(!(l?x in e:jP.call(e,x)))return!1}var T=s.get(o),M=s.get(e);if(T&&M)return T==e&&M==o;var F=!0;s.set(o,e),s.set(e,o);for(var W=l;++w<u;){x=c[w];var K=o[x],ne=e[x];if(n)var Ce=l?n(ne,K,x,e,o,s):n(K,ne,x,o,e,s);if(!(Ce===void 0?K===ne||i(K,ne,t,n,s):Ce)){F=!1;break}W||(W=x=="constructor")}if(F&&!W){var Ve=o.constructor,et=e.constructor;Ve!=et&&"constructor"in o&&"constructor"in e&&!(typeof Ve=="function"&&Ve instanceof Ve&&typeof et=="function"&&et instanceof et)&&(F=!1)}return s.delete(o),s.delete(e),F}const UP=HP;var WP=1,Cw="[object Arguments]",Aw="[object Array]",uc="[object Object]",$P=Object.prototype,yw=$P.hasOwnProperty;function qP(o,e,t,n,i,s){var l=St(o),c=St(e),u=l?Aw:Us(o),p=c?Aw:Us(e);u=u==Cw?uc:u,p=p==Cw?uc:p;var m=u==uc,w=p==uc,x=u==p;if(x&&js(o)){if(!js(e))return!1;l=!0,m=!1}if(x&&!m)return s||(s=new Si),l||ah(o)?_w(o,e,t,n,i,s):FP(o,e,u,t,n,i,s);if(!(t&WP)){var T=m&&yw.call(o,"__wrapped__"),M=w&&yw.call(e,"__wrapped__");if(T||M){var F=T?o.value():o,W=M?e.value():e;return s||(s=new Si),i(F,W,t,n,s)}}return x?(s||(s=new Si),UP(o,e,t,n,i,s)):!1}const KP=qP;function xw(o,e,t,n,i){return o===e?!0:o==null||e==null||!$t(o)&&!$t(e)?o!==o&&e!==e:KP(o,e,t,n,xw,i)}const Ew=xw;function GP(o,e,t){t=typeof t=="function"?t:void 0;var n=t?t(o,e):void 0;return n===void 0?Ew(o,e,void 0,t):!!n}const QP=GP;class Sw extends Xn{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,i=new Set;for(const l of e){const c=t.mapDomToView(l.target);c&&(c.is("uiElement")||c.is("rawElement")||l.type==="childList"&&!this._isBogusBrMutation(l)&&i.add(c))}for(const l of e){const c=t.mapDomToView(l.target);if(!(c&&(c.is("uiElement")||c.is("rawElement")))&&l.type==="characterData"){const u=t.findCorrespondingViewText(l.target);u&&!i.has(u.parent)?n.add(u):!u&&an(l.target)&&i.add(t.mapDomToView(l.target.parentNode))}}let s=!1;for(const l of n)s=!0,this.renderer.markToSync("text",l);for(const l of i){const c=t.mapViewToDom(l),u=Array.from(l.getChildren()),p=Array.from(t.domChildrenToView(c,{withChildren:!1}));QP(u,p,ZP)||(s=!0,this.renderer.markToSync("children",l))}s&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function ZP(o,e){if(!Array.isArray(o))return o===e?!0:o.is("$text")&&e.is("$text")?o.data===e.data:!1}class df extends Ko{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,i)=>{const s=t.selection.editableElement;(s===null||s===i.target)&&(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class JP extends Xn{constructor(e){super(e),this.mutationObserver=e.getObserver(Sw),this.focusObserver=e.getObserver(df),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Zs(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Zs(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},i=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",n,{priority:"highest"}),this.listenTo(e,"keydown",i,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",i,{priority:"highest",useCapture:!0}),!this._documents.has(t)&&(this.listenTo(t,"mouseup",i,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(s,l)=>{this.document.isComposing&&!y.isAndroid||(this._handleSelectionChange(l,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(i.rangeCount==0){this.view.hasDomSelection=!1;return}if(this.view.hasDomSelection=!0,!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(n))){if(++this._loopbackCounter>60){this._reportInfiniteLoop();return}if(this.focusObserver.flush(),this.selection.isSimilar(i))this.view.forceRender();else{const s={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}class YP extends Ko{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Dw{constructor(e,t={}){this._files=t.cacheFiles?Tw(e):null,this._native=e}get files(){return this._files||(this._files=Tw(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Tw(o){const e=Array.from(o.files||[]),t=Array.from(o.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class XP extends Ko{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,i=n.document;let s=null,l=null,c=[];if(e.dataTransfer&&(s=new Dw(e.dataTransfer)),e.data!==null?l=e.data:s&&(l=s.getData("text/plain")),i.selection.isFake)c=Array.from(i.selection.getRanges());else if(t.length)c=t.map(u=>n.domConverter.domRangeToView(u));else if(y.isAndroid){const u=e.target.ownerDocument.defaultView.getSelection();c=Array.from(n.domConverter.domSelectionToView(u).getRanges())}if(y.isAndroid&&e.inputType=="insertCompositionText"&&l&&l.endsWith(`
`)){this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(c[0].end)]});return}if(e.inputType=="insertText"&&l&&l.includes(`
`)){const u=l.split(/\n{1,2}/g);let p=c;for(let m=0;m<u.length;m++){const w=u[m];w!=""&&(this.fire(e.type,e,{data:w,dataTransfer:s,targetRanges:p,inputType:e.inputType,isComposing:e.isComposing}),p=[i.selection.getFirstRange()]),m+1<u.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:p}),p=[i.selection.getFirstRange()])}return}this.fire(e.type,e,{data:l,dataTransfer:s,targetRanges:c,inputType:e.inputType,isComposing:e.isComposing})}}class eI extends Xn{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&Y2(n.keyCode)){const i=new Sr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(i,n),i.stop.called&&t.stop()}})}observe(){}stopObserving(){}}class tI extends Xn{constructor(e){super(e);const t=this.document;t.on("keydown",(n,i)=>{if(!this.isEnabled||i.keyCode!=_e.tab||i.ctrlKey)return;const s=new Sr(t,"tab",t.selection.getFirstRange());t.fire(s,i),s.stop.called&&n.stop()})}observe(){}stopObserving(){}}class nI extends De(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new rc(e),this.domConverter=new cc(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new T5(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new tw(this.document),this.addObserver(Sw),this.addObserver(df),this.addObserver(JP),this.addObserver(U5),this.addObserver(sP),this.addObserver(YP),this.addObserver(eI),this.addObserver(XP),this.addObserver(tI),S5(this),w5(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:l,value:c}of Array.from(e.attributes))i[l]=c,l==="class"?this._writer.addClass(c.split(" "),n):this._writer.setAttribute(l,c,n);this._initialDomRootAttributes.set(e,i);const s=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};s(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(l,c)=>this._renderer.markToSync("children",c)),n.on("change:attributes",(l,c)=>this._renderer.markToSync("attributes",c)),n.on("change:text",(l,c)=>this._renderer.markToSync("text",c)),n.on("change:isReadOnly",()=>this.change(s)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const l of this._observers.values())l.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:i})=>t.removeAttribute(i));const n=this._initialDomRootAttributes.get(t);for(const i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,i]of this.domRoots)t.observe(i,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:i=20}={}){const s=this.document.selection.getFirstRange();s&&q2({target:this.domConverter.viewRangeToDom(s),viewportOffset:n,ancestorOffset:i,alignToTop:e,forceScroll:t})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new I("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){I.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(df).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Z._createAt(e,t)}createPositionAfter(e){return Z._createAfter(e)}createPositionBefore(e){return Z._createBefore(e)}createRange(e,t){return new le(e,t)}createRangeOn(e){return le._createOn(e)}createRangeIn(e){return le._createIn(e)}createSelection(...e){return new Jn(...e)}_disableRendering(e){this._renderingDisabled=e,e==!1&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Go{is(){throw new Error("is() method is abstract")}}class Li extends Go{constructor(e){super(),this.parent=null,this._attrs=bo(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new I("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new I("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent===null?!1:this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),i=e.getAncestors(t);let s=0;for(;n[s]==i[s]&&n[s];)s++;return s===0?null:n[s-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=Et(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this==e||this.root!==e.root?!1:!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=bo(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Li.prototype.is=function(o){return o==="node"||o==="model:node"};class Js{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,i)=>n+i.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new I("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new I("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Li))throw new I("model-nodelist-insertnodes-not-node",this);this._nodes=uD(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Oe extends Li{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Oe(this.data,this.getAttributes())}static fromJSON(e){return new Oe(e.data,e.attributes)}}Oe.prototype.is=function(o){return o==="$text"||o==="model:$text"||o==="text"||o==="model:text"||o==="node"||o==="model:node"};class Mn extends Go{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new I("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new I("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Mn.prototype.is=function(o){return o==="$textProxy"||o==="model:$textProxy"||o==="textProxy"||o==="model:textProxy"};class Te extends Li{constructor(e,t,n){super(t),this._children=new Js,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Te(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=oI(t);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(Te.fromJSON(n)):t.push(Oe.fromJSON(n))}return new Te(e.name,e.attributes,t)}}Te.prototype.is=function(o,e){return e?e===this.name&&(o==="element"||o==="model:element"):o==="element"||o==="model:element"||o==="node"||o==="model:node"};function oI(o){return typeof o=="string"?[new Oe(o)]:(Ft(o)||(o=[o]),Array.from(o).map(e=>typeof e=="string"?new Oe(e):e instanceof Mn?new Oe(e.data,e.getAttributes()):e))}class eo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new I("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new I("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=$._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,i,s;do i=this.position,s=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=i,this._visitedParent=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=Ys(t,n),s=i||Pw(t,n,i);if(s instanceof Te)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=s),this._position=t,Vi("elementStart",s,e,t,1);if(s instanceof Oe){let l;if(this.singleCharacters)l=1;else{let p=s.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<p&&(p=this.boundaries.end.offset),l=p-t.offset}const c=t.offset-s.startOffset,u=new Mn(s,c,l);return t.offset+=l,this._position=t,Vi("text",u,e,t,l)}else return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Vi("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,s=Ys(t,i),l=s||Iw(t,i,s);if(l instanceof Te)return t.offset--,this.shallow?(this._position=t,Vi("elementStart",l,e,t,1)):(t.path.push(l.maxOffset),this._position=t,this._visitedParent=l,this.ignoreElementEnd?this._previous():Vi("elementEnd",l,e,t));if(l instanceof Oe){let c;if(this.singleCharacters)c=1;else{let m=l.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>m&&(m=this.boundaries.start.offset),c=t.offset-m}const u=t.offset-l.startOffset,p=new Mn(l,u-c,c);return t.offset-=c,this._position=t,Vi("text",p,e,t,c)}else return t.path.pop(),this._position=t,this._visitedParent=n.parent,Vi("elementStart",n,e,t,1)}}function Vi(o,e,t,n,i){return{done:!1,value:{type:o,item:e,previousPosition:t,nextPosition:n,length:i}}}class $ extends Go{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new I("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new I("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new I("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new I("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ys(this,this.parent)}get nodeAfter(){const e=this.parent;return Pw(this,e,Ys(this,e))}get nodeBefore(){const e=this.parent;return Iw(this,e,Ys(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Et(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new eo(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Et(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return i===0?null:t[i-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const i=this.path[n]-e.path[n];if(i<-1||i>1)return!1;if(i===1)return Bw(e,this,n);if(i===-1)return Bw(this,e,n)}return this.path.length===e.path.length?!0:this.path.length>e.path.length?uf(this.path,t):uf(e.path,t)}hasSameParentAs(e){if(this.root!==e.root)return!1;const t=this.getParentPath(),n=e.getParentPath();return Et(t,n)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=$._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange,n=t.containsPosition(this)||t.start.isEqual(this);let i;return n?(i=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(i=i._getTransformedByDeletion(e.deletionPosition,1))):this.isEqual(e.deletionPosition)?i=$._createAt(e.deletionPosition):i=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),i}_getTransformedByDeletion(e,t){const n=$._createAt(this);if(this.root!=e.root)return n;if(Et(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Et(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;n.path[i]-=t}}return n}_getTransformedByInsertion(e,t){const n=$._createAt(this);if(this.root!=e.root)return n;if(Et(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Et(e.getParentPath(),this.getParentPath())=="prefix"){const i=e.path.length-1;e.offset<=this.path[i]&&(n.path[i]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return $._createAt(this);const i=this._getTransformedByDeletion(e,n);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):i._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,i=$._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-e.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof $)return new $(e.root,e.path,e.stickiness);{const i=e;if(t=="end")t=i.maxOffset;else{if(t=="before")return this._createBefore(i,n);if(t=="after")return this._createAfter(i,n);if(t!==0&&!t)throw new I("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new I("model-position-parent-incorrect",[this,e]);const s=i.getPath();return s.push(t),new this(i.root,s,n)}}static _createAfter(e,t){if(!e.parent)throw new I("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new I("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new $(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new I("model-position-fromjson-no-root",t,{rootName:e.root});return new $(t.getRoot(e.root),e.path,e.stickiness)}}$.prototype.is=function(o){return o==="position"||o==="model:position"};function Ys(o,e){const t=e.getChild(e.offsetToIndex(o.offset));return t&&t.is("$text")&&t.startOffset<o.offset?t:null}function Pw(o,e,t){return t!==null?null:e.getChild(e.offsetToIndex(o.offset))}function Iw(o,e,t){return t!==null?null:e.getChild(e.offsetToIndex(o.offset)-1)}function Bw(o,e,t){return!(t+1===o.path.length||!uf(e.path,t+1)||!iI(o,t+1))}function uf(o,e){for(;e<o.length;){if(o[e]!==0)return!1;e++}return!0}function iI(o,e){let t=o.parent,n=o.path.length-1,i=0;for(;n>=e;){if(o.path[n]+i!==t.maxOffset)return!1;i=1,n--,t=t.parent}return!0}class L extends Go{constructor(e,t){super(),this.start=$._createAt(e),this.end=t?$._createAt(t):$._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new eo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath(),t=this.end.getParentPath();return Et(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=$._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new L(this.start,e.start)),this.containsPosition(e.end)&&t.push(new L(e.end,this.end))):t.push(new L(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new L(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(this.start.isBefore(e.start)?n=t?this.end.isTouching(e.start):this.end.isEqual(e.start):n=t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let i=this.start,s=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(s)&&(s=e.end),new L(i,s)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=$._createAt(this.start);let i=n.parent;for(;n.path.length>t+1;){const s=i.maxOffset-n.offset;s!==0&&e.push(new L(n,n.getShiftedBy(s))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const s=this.end.path[n.path.length-1],l=s-n.offset;l!==0&&e.push(new L(n,n.getShiftedBy(l))),n.offset=s,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new eo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new eo(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new eo(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new L(this.start,this.end)]}getTransformedByOperations(e){const t=[new L(this.start,this.end)];for(const n of e)for(let i=0;i<t.length;i++){const s=t[i].getTransformedByOperation(n);t.splice(i,1,...s),i+=s.length-1}for(let n=0;n<t.length;n++){const i=t[n];for(let s=n+1;s<t.length;s++){const l=t[s];(i.containsRange(l)||l.containsRange(i)||i.isEqual(l))&&t.splice(s,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,i=e.howMany,s=e.targetPosition;return this._getTransformedByMove(n,s,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new L(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new L(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=$._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new L(t,n)):new L(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new L(this.start,e),new L(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const i=new L(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,t),i.end=i.end._getTransformedByInsertion(e,t),[i]}}_getTransformedByMove(e,t,n,i=!1){if(this.isCollapsed){const w=this.start._getTransformedByMove(e,t,n);return[new L(w)]}const s=L._createFromPositionAndShift(e,n),l=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){const w=this.start._getTransformedByMove(e,t,n),x=this.end._getTransformedByMove(e,t,n);return[new L(w,x)]}let c;const u=this.getDifference(s);let p=null;const m=this.getIntersection(s);if(u.length==1?p=new L(u[0].start._getTransformedByDeletion(e,n),u[0].end._getTransformedByDeletion(e,n)):u.length==2&&(p=new L(this.start,this.end._getTransformedByDeletion(e,n))),p?c=p._getTransformedByInsertion(l,n,m!==null||i):c=[],m){const w=new L(m.start._getCombined(s.start,l),m.end._getCombined(s.start,l));c.length==2?c.splice(1,0,w):c.push(w)}return c}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return n==null&&i==null?null:(n==null&&(n=e),i==null&&(i=e),new L(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this($._createAt(e,0),$._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift($._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new I("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((s,l)=>s.start.isAfter(l.start)?1:-1);const n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(let s=n-1;e[s].end.isEqual(i.start);s++)i.start=$._createAt(e[s].start);for(let s=n+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=$._createAt(e[s].end);return i}static fromJSON(e,t){return new this($.fromJSON(e.start,t),$.fromJSON(e.end,t))}}L.prototype.is=function(o){return o==="range"||o==="model:range"};class Rw extends Se(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new I("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(n),s=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=$._createAt(i,s)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),i.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new L(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new le(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const i of t)if(i.is("attributeElement"))for(const s of i.getElementsWithSameId())n.add(s);else n.add(i);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e){const s=this._toModelOffset(e.parent,e.index,n),l=this._toModelOffset(e,t,e);return s+l}if(e.is("$text"))return t;let i=0;for(let s=0;s<t;s++)i+=this.getModelLength(e.getChild(s));return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,i=0,s=0,l=0;if(e.is("$text"))return new Z(e,t);for(;s<t;)n=e.getChild(l),i=this.getModelLength(n),s+=i,l++;return s==t?this._moveViewPositionToTextNode(new Z(e,l)):this.findPositionIn(n,t-(s-i))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof Re?new Z(t,t.data.length):n instanceof Re?new Z(n,0):e}}class rI{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=hc(t),e instanceof Mn&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=hc(t),e instanceof Mn&&(e=this._getSymbolForTextProxy(e)),this.test(e,t)?(this._consumable.get(e).set(t,!1),!0):!1}test(e,t){t=hc(t),e instanceof Mn&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const i=n.get(t);return i===void 0?null:i}revert(e,t){t=hc(t),e instanceof Mn&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n===!0?!1:null}verifyAllConsumed(e){const t=[];for(const[n,i]of this._consumable)for(const[s,l]of i){const c=s.split(":")[0];l&&e==c&&t.push({event:s,item:n.name||n.description})}if(t.length)throw new I("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,i=e.parent,s=Symbol("$textProxy:"+e.data);let l,c;return l=this._textProxyRegistry.get(t),l||(l=new Map,this._textProxyRegistry.set(t,l)),c=l.get(n),c||(c=new Map,l.set(n,c)),c.set(i,s),s}}function hc(o){const e=o.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?o:e.length>1?e[0]+":"+e[1]:e[0]}class Ow extends Se(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const i=this._createConversionApi(n,e.getRefreshedItems());for(const l of e.getMarkersToRemove())this._convertMarkerRemove(l.name,l.range,i);const s=this._reduceChanges(e.getChanges());for(const l of s)l.type==="insert"?this._convertInsert(L._createFromPositionAndShift(l.position,l.length),i):l.type==="reinsert"?this._convertReinsert(L._createFromPositionAndShift(l.position,l.length),i):l.type==="remove"?this._convertRemove(l.position,l.length,l.name,i):this._convertAttribute(l.range,l.attributeKey,l.attributeOldValue,l.attributeNewValue,i);for(const l of i.mapper.flushUnboundMarkerNames()){const c=t.get(l).getRange();this._convertMarkerRemove(l,c,i),this._convertMarkerAdd(l,c,i)}for(const l of e.getMarkersToAdd())this._convertMarkerAdd(l.name,l.range,i);i.mapper.flushDeferredBindings(),i.consumable.verifyAllConsumed("insert")}convert(e,t,n,i={}){const s=this._createConversionApi(n,void 0,i);this._convertInsert(e,s);for(const[l,c]of t)this._convertMarkerAdd(l,c,s);s.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const i=Array.from(t.getMarkersAtPosition(e.getFirstPosition())),s=this._createConversionApi(n);if(this._addConsumablesForSelection(s.consumable,e,i),this.fire("selection",{selection:e},s),!!e.isCollapsed){for(const l of i){const c=l.getRange();if(!sI(e.getFirstPosition(),l,s.mapper))continue;const u={item:e,markerName:l.name,markerRange:c};s.consumable.test(e,"addMarker:"+l.name)&&this.fire(`addMarker:${l.name}`,u,s)}for(const l of e.getAttributeKeys()){const c={item:e,range:e.getFirstRange(),attributeKey:l,attributeOldValue:null,attributeNewValue:e.getAttribute(l)};s.consumable.test(e,"attribute:"+c.attributeKey)&&this.fire(`attribute:${c.attributeKey}:$text`,c,s)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const i of Array.from(e.getWalker({shallow:!0})).map(zw))this._testAndFire("insert",i,t)}_convertRemove(e,t,n,i){this.fire(`remove:${n}`,{position:e,length:t},i)}_convertAttribute(e,t,n,i,s){this._addConsumablesForRange(s.consumable,e,`attribute:${t}`);for(const l of e){const c={item:l.item,range:L._createFromPositionAndShift(l.previousPosition,l.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,c,s)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const i of n.map(zw))this._testAndFire("insert",{...i,reconversion:!0},t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const i=`addMarker:${e}`;if(n.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},n),!!n.consumable.consume(t,i)){this._addConsumablesForRange(n.consumable,t,i);for(const s of t.getItems()){if(!n.consumable.test(s,i))continue;const l={item:s,range:L._createOn(s),markerName:e,markerRange:t};this.fire(i,l,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const i=n.item;if(e.test(i,"insert")===null){e.add(i,"insert");for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s)}}return e}_addConsumablesForRange(e,t,n){for(const i of t.getItems())e.add(i,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const i of n)e.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i);return e}_testAndFire(e,t,n){const i=aI(e,t),s=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,l=this._firedEventsMap.get(n),c=l.get(s);if(!c)l.set(s,new Set([i]));else if(!c.has(i))c.add(i);else return;this.fire(i,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:L._createOn(e)};for(const i of n.item.getAttributeKeys())n.attributeKey=i,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(i),this._testAndFire(`attribute:${i}`,n,t)}_createConversionApi(e,t=new Set,n={}){const i={...this._conversionApi,consumable:new rI,writer:e,options:n,convertItem:s=>this._convertInsert(L._createOn(s),i),convertChildren:s=>this._convertInsert(L._createIn(s),i,{doNotAddConsumables:!0}),convertAttributes:s=>this._testAndFireAddAttributes(s,i),canReuseView:s=>!t.has(i.mapper.toModelElement(s))};return this._firedEventsMap.set(i,new Map),i}}function sI(o,e,t){const n=e.getRange(),i=Array.from(o.getAncestors());return i.shift(),i.reverse(),!i.some(l=>{if(n.containsItem(l))return!!t.toViewElement(l).getCustomProperty("addHighlight")})}function aI(o,e){const t=e.item.is("element")?e.item.name:"$text";return`${o}:${t}`}function zw(o){const e=o.item,t=L._createFromPositionAndShift(o.previousPosition,o.length);return{item:e,range:t}}class Nn extends Se(Go){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1?this._ranges[0].isCollapsed:!1}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new L(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)(!e||t.start.isBefore(e.start))&&(e=t);return e?new L(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)(!e||t.end.isAfter(e.end))&&(e=t);return e?new L(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,i]=e;if(typeof n=="object"&&(i=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof Nn)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof L)this._setRanges([t],!!i&&!!i.backward);else if(t instanceof $)this._setRanges([new L(t)]);else if(t instanceof Li){const s=!!i&&!!i.backward;let l;if(n=="in")l=L._createIn(t);else if(n=="on")l=L._createOn(t);else if(n!==void 0)l=new L($._createAt(t,n));else throw new I("model-selection-setto-required-second-parameter",[this,t]);this._setRanges([l],s)}else if(Ft(t))this._setRanges(t,i&&!!i.backward);else throw new I("model-selection-setto-not-selectable",[this,t])}_setRanges(e,t=!1){const n=Array.from(e),i=n.some(s=>{if(!(s instanceof L))throw new I("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(l=>!l.isEqual(s))});n.length===this._ranges.length&&!i||(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new I("model-selection-setfocus-no-ranges",[this,e]);const n=$._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const i=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(i)=="before"?(this._pushRange(new L(n,i)),this._lastRangeBackward=!0):(this._pushRange(new L(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Nw(t.start,e);cI(n,t)&&(yield n);for(const s of t.getWalker()){const l=s.item;s.type=="elementEnd"&&lI(l,e,t)&&(yield l)}const i=Nw(t.end,e);dI(i,t)&&(yield i)}}containsEntireContent(e=this.anchor.root){const t=$._createAt(e,0),n=$._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new L(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new I("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}Nn.prototype.is=function(o){return o==="selection"||o==="model:selection"};function Mw(o,e){return e.has(o)?!1:(e.add(o),o.root.document.model.schema.isBlock(o)&&!!o.parent)}function lI(o,e,t){return Mw(o,e)&&hf(o,t)}function Nw(o,e){const n=o.parent.root.document.model.schema,i=o.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const l=i.find(c=>s?!1:(s=n.isLimit(c),!s&&Mw(c,e)));return i.forEach(c=>e.add(c)),l}function hf(o,e){const t=uI(o);return t?!e.containsRange(L._createOn(t),!0):!0}function cI(o,e){return o?e.isCollapsed||o.isEmpty?!0:e.start.isTouching($._createAt(o,o.maxOffset))?!1:hf(o,e):!1}function dI(o,e){return o?e.isCollapsed||o.isEmpty?!0:e.end.isTouching($._createAt(o,0))?!1:hf(o,e):!1}function uI(o){const e=o.root.document.model.schema;let t=o.parent;for(;t;){if(e.isBlock(t))return t;t=t.parent}}class to extends Se(L){constructor(e,t){super(e,t),hI.call(this)}detach(){this.stopListening()}toRange(){return new L(this.start,this.end)}static fromRange(e){return new to(e.start,e.end)}}to.prototype.is=function(o){return o==="liveRange"||o==="model:liveRange"||o=="range"||o==="model:range"};function hI(){this.listenTo(this.root.document.model,"applyOperation",(o,e)=>{const t=e[0];t.isDocumentOperation&&fI.call(this,t)},{priority:"low"})}function fI(o){const e=this.getTransformedByOperation(o),t=L._createFromRanges(e),n=!t.isEqual(this),i=pI(this,o);let s=null;if(n){t.root.rootName=="$graveyard"&&(o.type=="remove"?s=o.sourcePosition:s=o.deletionPosition);const l=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",l,{deletionPosition:s})}else i&&this.fire("change:content",this.toRange(),{deletionPosition:s})}function pI(o,e){switch(e.type){case"insert":return o.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return o.containsPosition(e.sourcePosition)||o.start.isEqual(e.sourcePosition)||o.containsPosition(e.targetPosition);case"split":return o.containsPosition(e.splitPosition)||o.containsPosition(e.insertionPosition)}return!1}const Xs="selection:";class Fn extends Se(Go){constructor(e){super(),this._selection=new gI(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Xs+e}static _isStoreAttributeKey(e){return e.startsWith(Xs)}}Fn.prototype.is=function(o){return o==="selection"||o=="model:selection"||o=="documentSelection"||o=="model:documentSelection"};class gI extends Nn{constructor(e){super(),this.markers=new On({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const i=n[0];!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"||(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,i,s)=>{this._updateMarker(n,s)}),this.listenTo(this._document,"change",(t,n)=>{mI(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=ut();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new I("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new I("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=to.fromRange(e);return t.on("change:range",(n,i,s)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=s.deletionPosition;const l=this._ranges.indexOf(t);this._ranges.splice(l,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const i of this._model.markers){const s=i.name.split(":",1)[0];if(!this._observedMarkers.has(s))continue;const l=i.getRange();for(const c of this.getRanges())l.containsRange(c,!c.isCollapsed)&&e.push(i)}const n=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),t=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const s=Array.from(this.markers),l=this.markers.has(e);if(!t)l&&(this.markers.remove(e),i=!0);else{let c=!1;for(const u of this.getRanges())if(t.containsRange(u,!u.isCollapsed)){c=!0;break}c&&!l?(this.markers.add(e),i=!0):!c&&l&&(this.markers.remove(e),i=!0)}i&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateAttributes(e){const t=bo(this._getSurroundingAttributes()),n=bo(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[s,l]of this._attributePriority)l=="low"&&(this._attrs.delete(s),this._attributePriority.delete(s));this._setAttributesTo(t);const i=[];for(const[s,l]of this.getAttributes())(!n.has(s)||n.get(s)!==l)&&i.push(s);for(const[s]of n)this.hasAttribute(s)||i.push(s);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t,n=!0){const i=n?"normal":"low";return i=="low"&&this._attributePriority.get(e)=="normal"||super.getAttribute(e)===t?!1:(this._attrs.set(e,t),this._attributePriority.set(e,i),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return n=="low"&&this._attributePriority.get(e)=="normal"||(this._attributePriority.set(e,n),!super.hasAttribute(e))?!1:(this._attrs.delete(e),!0)}_setAttributesTo(e){const t=new Set;for(const[n,i]of this.getAttributes())e.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of e)this._setAttribute(n,i,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(Xs)&&(yield[t.substr(Xs.length),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;let n=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,s=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=fc(i)),n||(n=fc(s)),!this.isGravityOverridden&&!n){let l=i;for(;l&&!t.isInline(l)&&!n;)l=l.previousSibling,n=fc(l)}if(!n){let l=s;for(;l&&!t.isInline(l)&&!n;)l=l.nextSibling,n=fc(l)}n||(n=this.getStoredAttributes())}else{const i=this.getFirstRange();for(const s of i){if(s.item.is("element")&&t.isObject(s.item))break;if(s.type=="text"){n=s.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function fc(o){return o instanceof Mn||o instanceof Oe?o.getAttributes():null}function mI(o,e){const t=o.document.differ;for(const n of t.getChanges()){if(n.type!="insert")continue;const i=n.position.parent;n.length===i.maxOffset&&o.enqueueChange(e,l=>{const c=Array.from(i.getAttributeKeys()).filter(u=>u.startsWith(Xs));for(const u of c)l.removeAttribute(u,i)})}}class Fw{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}var kI=1,bI=4;function wI(o){return kh(o,kI|bI)}const ji=wI;class _I extends Fw{elementToElement(e){return this.add(FI(e))}elementToStructure(e){return this.add(LI(e))}attributeToElement(e){return this.add(VI(e))}attributeToAttribute(e){return this.add(jI(e))}markerToElement(e){return this.add(HI(e))}markerToHighlight(e){return this.add(WI(e))}markerToData(e){return this.add(UI(e))}}function Lw(){return(o,e,t)=>{if(!t.consumable.consume(e.item,o.name))return;const n=t.writer,i=t.mapper.toViewPosition(e.range.start),s=n.createText(e.item.data);n.insert(i,s)}}function Vw(){return(o,e,t)=>{t.convertAttributes(e.item),!e.reconversion&&e.item.is("element")&&!e.item.isEmpty&&t.convertChildren(e.item)}}function vI(){return(o,e,t)=>{const n=t.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),s=t.mapper.toViewPosition(i,{isPhantom:!0}),l=t.writer.createRange(n,s),c=t.writer.remove(l.getTrimmed());for(const u of t.writer.createRangeIn(c).getItems())t.mapper.unbindViewElement(u,{defer:!0})}}function jw(o,e){const t=o.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function CI(){return(o,e,t)=>{const n=e.selection;if(n.isCollapsed||!t.consumable.consume(n,"selection"))return;const i=[];for(const s of n.getRanges())i.push(t.mapper.toViewRange(s));t.writer.setSelection(i,{backward:n.isBackward})}}function AI(){return(o,e,t)=>{const n=e.selection;if(!n.isCollapsed||!t.consumable.consume(n,"selection"))return;const i=t.writer,s=n.getFirstPosition(),l=t.mapper.toViewPosition(s),c=i.breakAttributes(l);i.setSelection(c)}}function yI(){return(o,e,t)=>{const n=t.writer,i=n.document.selection;for(const s of i.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&t.writer.mergeAttributes(s.start);n.setSelection(null)}}function xI(o){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const i=o(t.attributeOldValue,n,t),s=o(t.attributeNewValue,n,t);if(!i&&!s)return;n.consumable.consume(t.item,e.name);const l=n.writer,c=l.document.selection;if(t.item instanceof Nn||t.item instanceof Fn)l.wrap(c.getFirstRange(),s);else{let u=n.mapper.toViewRange(t.range);t.attributeOldValue!==null&&i&&(u=l.unwrap(u,i)),t.attributeNewValue!==null&&s&&l.wrap(u,s)}}}function EI(o,e=JI){return(t,n,i)=>{if(!e(n.item,i.consumable,{preflight:!0}))return;const s=o(n.item,i,n);if(!s)return;e(n.item,i.consumable);const l=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,s),i.writer.insert(l,s),i.convertAttributes(n.item),Gw(s,n.item.getChildren(),i,{reconversion:n.reconversion})}}function SI(o,e){return(t,n,i)=>{if(!e(n.item,i.consumable,{preflight:!0}))return;const s=new Map;i.writer._registerSlotFactory(KI(n.item,s,i));const l=o(n.item,i,n);if(i.writer._clearSlotFactory(),!l)return;GI(n.item,s,i),e(n.item,i.consumable);const c=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,l),i.writer.insert(c,l),i.convertAttributes(n.item),QI(l,s,i,{reconversion:n.reconversion})}}function DI(o){return(e,t,n)=>{t.isOpening=!0;const i=o(t,n);t.isOpening=!1;const s=o(t,n);if(!i||!s)return;const l=t.markerRange;if(l.isCollapsed&&!n.consumable.consume(l,e.name))return;for(const p of l)if(!n.consumable.consume(p.item,e.name))return;const c=n.mapper,u=n.writer;u.insert(c.toViewPosition(l.start),i),n.mapper.bindElementToMarker(i,t.markerName),l.isCollapsed||(u.insert(c.toViewPosition(l.end),s),n.mapper.bindElementToMarker(s,t.markerName)),e.stop()}}function TI(){return(o,e,t)=>{const n=t.mapper.markerNameToElements(e.markerName);if(n){for(const i of n)t.mapper.unbindElementFromMarkerName(i,e.markerName),t.writer.clear(t.writer.createRangeOn(i),i);t.writer.clearClonedElementsGroup(e.markerName),o.stop()}}}function PI(o){return(e,t,n)=>{const i=o(t.markerName,n);if(!i)return;const s=t.markerRange;n.consumable.consume(s,e.name)&&(Hw(s,!1,n,t,i),Hw(s,!0,n,t,i),e.stop())}}function Hw(o,e,t,n,i){const s=e?o.start:o.end,l=s.nodeAfter&&s.nodeAfter.is("element")?s.nodeAfter:null,c=s.nodeBefore&&s.nodeBefore.is("element")?s.nodeBefore:null;if(l||c){let p,m;e&&l||!e&&!c?(p=l,m=!0):(p=c,m=!1);const w=t.mapper.toViewElement(p);if(w){II(w,e,m,t,n,i);return}}const u=t.mapper.toViewPosition(s);BI(u,e,t,n,i)}function II(o,e,t,n,i,s){const l=`data-${s.group}-${e?"start":"end"}-${t?"before":"after"}`,c=o.hasAttribute(l)?o.getAttribute(l).split(","):[];c.unshift(s.name),n.writer.setAttribute(l,c.join(","),o),n.mapper.bindElementToMarker(o,i.markerName)}function BI(o,e,t,n,i){const s=`${i.group}-${e?"start":"end"}`,l=i.name?{name:i.name}:null,c=t.writer.createUIElement(s,l);t.writer.insert(o,c),t.mapper.bindElementToMarker(c,n.markerName)}function RI(o){return(e,t,n)=>{const i=o(t.markerName,n);if(!i)return;const s=n.mapper.markerNameToElements(t.markerName);if(!s)return;for(const c of s)n.mapper.unbindElementFromMarkerName(c,t.markerName),c.is("containerElement")?(l(`data-${i.group}-start-before`,c),l(`data-${i.group}-start-after`,c),l(`data-${i.group}-end-before`,c),l(`data-${i.group}-end-after`,c)):n.writer.clear(n.writer.createRangeOn(c),c);n.writer.clearClonedElementsGroup(t.markerName),e.stop();function l(c,u){if(u.hasAttribute(c)){const p=new Set(u.getAttribute(c).split(","));p.delete(i.name),p.size==0?n.writer.removeAttribute(c,u):n.writer.setAttribute(c,Array.from(p).join(","),u)}}}}function OI(o){return(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const i=o(t.attributeOldValue,n,t),s=o(t.attributeNewValue,n,t);if(!i&&!s)return;n.consumable.consume(t.item,e.name);const l=n.mapper.toViewElement(t.item),c=n.writer;if(!l)throw new I("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(t.attributeOldValue!==null&&i)if(i.key=="class"){const u=Dt(i.value);for(const p of u)c.removeClass(p,l)}else if(i.key=="style"){const u=Object.keys(i.value);for(const p of u)c.removeStyle(p,l)}else c.removeAttribute(i.key,l);if(t.attributeNewValue!==null&&s)if(s.key=="class"){const u=Dt(s.value);for(const p of u)c.addClass(p,l)}else if(s.key=="style"){const u=Object.keys(s.value);for(const p of u)c.setStyle(p,s.value[p],l)}else c.setAttribute(s.key,s.value,l)}}function zI(o){return(e,t,n)=>{if(!t.item||!(t.item instanceof Nn||t.item instanceof Fn)&&!t.item.is("$textProxy"))return;const i=ff(o,t,n);if(!i||!n.consumable.consume(t.item,e.name))return;const s=n.writer,l=jw(s,i),c=s.document.selection;if(t.item instanceof Nn||t.item instanceof Fn)s.wrap(c.getFirstRange(),l);else{const u=n.mapper.toViewRange(t.range),p=s.wrap(u,l);for(const m of p.getItems())if(m.is("attributeElement")&&m.isSimilar(l)){n.mapper.bindElementToMarker(m,t.markerName);break}}}}function MI(o){return(e,t,n)=>{if(!t.item||!(t.item instanceof Te))return;const i=ff(o,t,n);if(!i||!n.consumable.test(t.item,e.name))return;const s=n.mapper.toViewElement(t.item);if(s&&s.getCustomProperty("addHighlight")){n.consumable.consume(t.item,e.name);for(const c of L._createIn(t.item))n.consumable.consume(c.item,e.name);s.getCustomProperty("addHighlight")(s,i,n.writer),n.mapper.bindElementToMarker(s,t.markerName)}}}function NI(o){return(e,t,n)=>{if(t.markerRange.isCollapsed)return;const i=ff(o,t,n);if(!i)return;const s=jw(n.writer,i),l=n.mapper.markerNameToElements(t.markerName);if(l){for(const c of l)n.mapper.unbindElementFromMarkerName(c,t.markerName),c.is("attributeElement")?n.writer.unwrap(n.writer.createRangeOn(c),s):c.getCustomProperty("removeHighlight")(c,i.id,n.writer);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}}function FI(o){const e=Uw(o.model),t=ea(o.view,"container");return e.attributes.length&&(e.children=!0),n=>{n.on(`insert:${e.name}`,EI(t,Kw(e)),{priority:o.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",qw(e),{priority:"low"})}}function LI(o){const e=Uw(o.model),t=ea(o.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new I("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});n.on(`insert:${e.name}`,SI(t,Kw(e)),{priority:o.converterPriority||"normal"}),n.on("reduceChanges",qw(e),{priority:"low"})}}function VI(o){o=ji(o);let e=o.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)o.view[i]=ea(o.view[i],"attribute");else o.view=ea(o.view,"attribute");const n=Ww(o);return i=>{i.on(t,xI(n),{priority:o.converterPriority||"normal"})}}function jI(o){o=ji(o);let e=o.model;typeof e=="string"&&(e={key:e});let t=`attribute:${e.key}`;if(e.name&&(t+=":"+e.name),e.values)for(const i of e.values)o.view[i]=$w(o.view[i]);else o.view=$w(o.view);const n=Ww(o);return i=>{i.on(t,OI(n),{priority:o.converterPriority||"normal"})}}function HI(o){const e=ea(o.view,"ui");return t=>{t.on(`addMarker:${o.model}`,DI(e),{priority:o.converterPriority||"normal"}),t.on(`removeMarker:${o.model}`,TI(),{priority:o.converterPriority||"normal"})}}function UI(o){o=ji(o);const e=o.model;let t=o.view;return t||(t=n=>({group:e,name:n.substr(o.model.length+1)})),n=>{n.on(`addMarker:${e}`,PI(t),{priority:o.converterPriority||"normal"}),n.on(`removeMarker:${e}`,RI(t),{priority:o.converterPriority||"normal"})}}function WI(o){return e=>{e.on(`addMarker:${o.model}`,zI(o.view),{priority:o.converterPriority||"normal"}),e.on(`addMarker:${o.model}`,MI(o.view),{priority:o.converterPriority||"normal"}),e.on(`removeMarker:${o.model}`,NI(o.view),{priority:o.converterPriority||"normal"})}}function Uw(o){return typeof o=="string"&&(o={name:o}),o.attributes?Array.isArray(o.attributes)||(o.attributes=[o.attributes]):o.attributes=[],o.children=!!o.children,o}function ea(o,e){return typeof o=="function"?o:(t,n)=>$I(o,n,e)}function $I(o,e,t){typeof o=="string"&&(o={name:o});let n;const i=e.writer,s=Object.assign({},o.attributes);if(t=="container")n=i.createContainerElement(o.name,s);else if(t=="attribute"){const l={priority:o.priority||Ni.DEFAULT_PRIORITY};n=i.createAttributeElement(o.name,s,l)}else n=i.createUIElement(o.name,s);if(o.styles){const l=Object.keys(o.styles);for(const c of l)i.setStyle(c,o.styles[c],n)}if(o.classes){const l=o.classes;if(typeof l=="string")i.addClass(l,n);else for(const c of l)i.addClass(c,n)}return n}function Ww(o){return o.model.values?(e,t,n)=>{const i=o.view[e];return i?i(e,t,n):null}:o.view}function $w(o){return typeof o=="string"?e=>({key:o,value:e}):typeof o=="object"?o.value?()=>o:e=>({key:o.key,value:e}):o}function ff(o,e,t){const n=typeof o=="function"?o(e,t):o;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function qI(o){return(e,t)=>{if(!e.is("element",o.name))return!1;if(t.type=="attribute"){if(o.attributes.includes(t.attributeKey))return!0}else if(o.children)return!0;return!1}}function qw(o){const e=qI(o);return(t,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const s of n.changes){const l=s.type=="attribute"?s.range.start.nodeAfter:s.position.parent;if(!l||!e(l,s)){i.push(s);continue}if(!n.reconvertedElements.has(l)){n.reconvertedElements.add(l);const c=$._createBefore(l);let u=i.length;for(let p=i.length-1;p>=0;p--){const m=i[p],x=(m.type=="attribute"?m.range.start:m.position).compareWith(c);if(x=="before"||m.type=="remove"&&x=="same")break;u=p}i.splice(u,0,{type:"remove",name:l.name,position:c,length:1},{type:"reinsert",name:l.name,position:c,length:1})}}n.changes=i}}function Kw(o){return(e,t,n={})=>{const i=["insert"];for(const s of o.attributes)e.hasAttribute(s)&&i.push(`attribute:${s}`);return i.every(s=>t.test(e,s))?(n.preflight||i.forEach(s=>t.consume(e,s)),!0):!1}}function KI(o,e,t){return(n,i)=>{const s=n.createContainerElement("$slot");let l=null;if(i==="children")l=Array.from(o.getChildren());else if(typeof i=="function")l=Array.from(o.getChildren()).filter(c=>i(c));else throw new I("conversion-slot-mode-unknown",t.dispatcher,{modeOrFilter:i});return e.set(s,l),s}}function GI(o,e,t){const n=Array.from(e.values()).flat(),i=new Set(n);if(i.size!=n.length)throw new I("conversion-slot-filter-overlap",t.dispatcher,{element:o});if(i.size!=o.childCount)throw new I("conversion-slot-filter-incomplete",t.dispatcher,{element:o})}function QI(o,e,t,n){t.mapper.on("modelToViewPosition",l,{priority:"highest"});let i=null,s=null;for([i,s]of e)Gw(o,s,t,n),t.writer.move(t.writer.createRangeIn(i),t.writer.createPositionBefore(i)),t.writer.remove(i);t.mapper.off("modelToViewPosition",l);function l(c,u){const p=u.modelPosition.nodeAfter,m=s.indexOf(p);m<0||(u.viewPosition=u.mapper.findPositionIn(i,m))}}function Gw(o,e,t,n){for(const i of e)ZI(o.root,i,t,n)||t.convertItem(i)}function ZI(o,e,t,n){const{writer:i,mapper:s}=t;if(!n.reconversion)return!1;const l=s.toViewElement(e);return!l||l.root==o||!t.canReuseView(l)?!1:(i.move(i.createRangeOn(l),s.toViewPosition($._createBefore(e))),!0)}function JI(o,e,{preflight:t}={}){return t?e.test(o,"insert"):e.consume(o,"insert")}function Qw(o){const{schema:e,document:t}=o.model;for(const n of t.getRootNames()){const i=t.getRoot(n);if(i.isEmpty&&!e.checkChild(i,"$text")&&e.checkChild(i,"paragraph"))return o.insertElement("paragraph",i),!0}return!1}function Zw(o,e,t){const n=t.createContext(o);return!(!t.checkChild(n,"paragraph")||!t.checkChild(n.push("paragraph"),e))}function Jw(o,e){const t=e.createElement("paragraph");return e.insert(t,o),e.createPositionAt(t,0)}class YI extends Fw{elementToElement(e){return this.add(Xw(e))}elementToAttribute(e){return this.add(tB(e))}attributeToAttribute(e){return this.add(nB(e))}elementToMarker(e){return this.add(oB(e))}dataToMarker(e){return this.add(iB(e))}}function Yw(){return(o,e,t)=>{if(!e.modelRange&&t.consumable.consume(e.viewItem,{name:!0})){const{modelRange:n,modelCursor:i}=t.convertChildren(e.viewItem,e.modelCursor);e.modelRange=n,e.modelCursor=i}}}function XI(){return(o,e,{schema:t,consumable:n,writer:i})=>{let s=e.modelCursor;if(!n.test(e.viewItem))return;if(!t.checkChild(s,"$text")){if(!Zw(s,"$text",t)||e.viewItem.data.trim().length==0)return;const c=s.nodeBefore;s=Jw(s,i),c&&c.is("element","$marker")&&(i.move(i.createRangeOn(c),s),s=i.createPositionAfter(c))}n.consume(e.viewItem);const l=i.createText(e.viewItem.data);i.insert(l,s),e.modelRange=i.createRange(s,s.getShiftedBy(l.offsetSize)),e.modelCursor=e.modelRange.end}}function eB(o,e){return(t,n)=>{const i=n.newSelection,s=[];for(const c of i.getRanges())s.push(e.toModelRange(c));const l=o.createSelection(s,{backward:i.isBackward});l.isEqual(o.document.selection)||o.change(c=>{c.setSelection(l)})}}function Xw(o){o=ji(o);const e=gf(o),t=pf(o.view),n=t?`element:${t}`:"element";return i=>{i.on(n,e,{priority:o.converterPriority||"normal"})}}function tB(o){o=ji(o),e_(o);const e=t_(o,!1),t=pf(o.view),n=t?`element:${t}`:"element";return i=>{i.on(n,e,{priority:o.converterPriority||"low"})}}function nB(o){o=ji(o);let e=null;(typeof o.view=="string"||o.view.key)&&(e=aB(o)),e_(o,e);const t=t_(o,!0);return n=>{n.on("element",t,{priority:o.converterPriority||"low"})}}function oB(o){const e=dB(o.model);return Xw({...o,model:e})}function iB(o){o=ji(o),o.model||(o.model=i=>i?o.view+":"+i:o.view);const e={view:o.view,model:o.model},t=gf(n_(e,"start")),n=gf(n_(e,"end"));return i=>{i.on(`element:${o.view}-start`,t,{priority:o.converterPriority||"normal"}),i.on(`element:${o.view}-end`,n,{priority:o.converterPriority||"normal"});const s=se.get("low"),l=se.get("highest"),c=se.get(o.converterPriority)/l;i.on("element",rB(e),{priority:s+c})}}function rB(o){return(e,t,n)=>{const i=`data-${o.view}`;if(!n.consumable.test(t.viewItem,{attributes:i+"-end-after"})&&!n.consumable.test(t.viewItem,{attributes:i+"-start-after"})&&!n.consumable.test(t.viewItem,{attributes:i+"-end-before"})&&!n.consumable.test(t.viewItem,{attributes:i+"-start-before"}))return;t.modelRange||Object.assign(t,n.convertChildren(t.viewItem,t.modelCursor)),n.consumable.consume(t.viewItem,{attributes:i+"-end-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-end-after").split(",")),n.consumable.consume(t.viewItem,{attributes:i+"-start-after"})&&s(t.modelRange.end,t.viewItem.getAttribute(i+"-start-after").split(",")),n.consumable.consume(t.viewItem,{attributes:i+"-end-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-end-before").split(",")),n.consumable.consume(t.viewItem,{attributes:i+"-start-before"})&&s(t.modelRange.start,t.viewItem.getAttribute(i+"-start-before").split(","));function s(l,c){for(const u of c){const p=o.model(u,n),m=n.writer.createElement("$marker",{"data-name":p});n.writer.insert(m,l),t.modelCursor.isEqual(l)?t.modelCursor=t.modelCursor.getShiftedBy(1):t.modelCursor=t.modelCursor._getTransformedByInsertion(l,1),t.modelRange=t.modelRange._getTransformedByInsertion(l,1)[0]}}}}function pf(o){return typeof o=="string"?o:typeof o=="object"&&typeof o.name=="string"?o.name:null}function gf(o){const e=new Zn(o.view);return(t,n,i)=>{const s=e.match(n.viewItem);if(!s)return;const l=s.match;if(l.name=!0,!i.consumable.test(n.viewItem,l))return;const c=sB(o.model,n.viewItem,i);c&&i.safeInsert(c,n.modelCursor)&&(i.consumable.consume(n.viewItem,l),i.convertChildren(n.viewItem,c),i.updateConversionResult(c,n))}}function sB(o,e,t){return o instanceof Function?o(e,t):t.writer.createElement(o)}function aB(o){typeof o.view=="string"&&(o.view={key:o.view});const e=o.view.key;let t;if(e=="class"||e=="style")t={[e=="class"?"classes":"styles"]:o.view.value};else{const n=typeof o.view.value>"u"?/[\s\S]*/:o.view.value;t={attributes:{[e]:n}}}return o.view.name&&(t.name=o.view.name),o.view=t,e}function e_(o,e=null){const t=e===null?!0:s=>s.getAttribute(e),n=typeof o.model!="object"?o.model:o.model.key,i=typeof o.model!="object"||typeof o.model.value>"u"?t:o.model.value;o.model={key:n,value:i}}function t_(o,e){const t=new Zn(o.view);return(n,i,s)=>{if(!i.modelRange&&e)return;const l=t.match(i.viewItem);if(!l||(lB(o.view,i.viewItem)?l.match.name=!0:delete l.match.name,!s.consumable.test(i.viewItem,l.match)))return;const c=o.model.key,u=typeof o.model.value=="function"?o.model.value(i.viewItem,s):o.model.value;if(u===null)return;i.modelRange||Object.assign(i,s.convertChildren(i.viewItem,i.modelCursor)),cB(i.modelRange,{key:c,value:u},e,s)&&(s.consumable.test(i.viewItem,{name:!0})&&(l.match.name=!0),s.consumable.consume(i.viewItem,l.match))}}function lB(o,e){const t=typeof o=="function"?o(e):o;return typeof t=="object"&&!pf(t)?!1:!t.classes&&!t.attributes&&!t.styles}function cB(o,e,t,n){let i=!1;for(const s of Array.from(o.getItems({shallow:t})))n.schema.checkAttribute(s,e.key)&&(i=!0,!s.hasAttribute(e.key)&&n.writer.setAttribute(e.key,e.value,s));return i}function dB(o){return(e,t)=>{const n=typeof o=="string"?o:o(e,t);return t.writer.createElement("$marker",{"data-name":n})}}function n_(o,e){const t=(n,i)=>{const s=n.getAttribute("name"),l=o.model(s,i);return i.writer.createElement("$marker",{"data-name":l})};return{view:`${o.view}-${e}`,model:t}}function uB(o){o.document.registerPostFixer(e=>hB(e,o))}function hB(o,e){const t=e.document.selection,n=e.schema,i=[];let s=!1;for(const l of t.getRanges()){const c=o_(l,n);c&&!c.isEqual(l)?(i.push(c),s=!0):i.push(l)}return s&&o.setSelection(mB(i),{backward:t.isBackward}),!1}function o_(o,e){return o.isCollapsed?fB(o,e):pB(o,e)}function fB(o,e){const t=o.start,n=e.getNearestSelectionRange(t);if(!n){const s=t.getAncestors().reverse().find(l=>e.isObject(l));return s?L._createOn(s):null}if(!n.isCollapsed)return n;const i=n.start;return t.isEqual(i)?null:new L(i)}function pB(o,e){const{start:t,end:n}=o,i=e.checkChild(t,"$text"),s=e.checkChild(n,"$text"),l=e.getLimitElement(t),c=e.getLimitElement(n);if(l===c){if(i&&s)return null;if(gB(t,n,e)){const w=t.nodeAfter&&e.isSelectable(t.nodeAfter)?null:e.getNearestSelectionRange(t,"forward"),T=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),M=w?w.start:t,F=T?T.end:n;return new L(M,F)}}const u=l&&!l.is("rootElement"),p=c&&!c.is("rootElement");if(u||p){const m=t.nodeAfter&&n.nodeBefore&&t.nodeAfter.parent===n.nodeBefore.parent,w=u&&(!m||!r_(t.nodeAfter,e)),x=p&&(!m||!r_(n.nodeBefore,e));let T=t,M=n;return w&&(T=$._createBefore(i_(l,e))),x&&(M=$._createAfter(i_(c,e))),new L(T,M)}return null}function i_(o,e){let t=o,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function gB(o,e,t){const n=o.nodeAfter&&!t.isLimit(o.nodeAfter)||t.checkChild(o,"$text"),i=e.nodeBefore&&!t.isLimit(e.nodeBefore)||t.checkChild(e,"$text");return n||i}function mB(o){const e=[...o],t=new Set;let n=1;for(;n<e.length;){const s=e[n],l=e.slice(0,n);for(const[c,u]of l.entries())if(!t.has(c)){if(s.isEqual(u))t.add(c);else if(s.isIntersecting(u)){t.add(c),t.add(n);const p=s.getJoined(u);e.push(p)}}n++}return e.filter((s,l)=>!t.has(l))}function r_(o,e){return o&&e.isSelectable(o)}class kB extends De(){constructor(e,t){super(),this.model=e,this.view=new nI(t),this.mapper=new Rw,this.downcastDispatcher=new Ow({mapper:this.mapper,schema:e.schema});const n=this.model.document,i=n.selection,s=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(l=>{this.downcastDispatcher.convertChanges(n.differ,s,l),this.downcastDispatcher.convertSelection(i,s,l)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",eB(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",bB(this.mapper,this.model.schema,this.view),{priority:"high"}),this.downcastDispatcher.on("insert:$text",Lw(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Vw(),{priority:"lowest"}),this.downcastDispatcher.on("remove",vI(),{priority:"low"}),this.downcastDispatcher.on("selection",yI(),{priority:"high"}),this.downcastDispatcher.on("selection",CI(),{priority:"low"}),this.downcastDispatcher.on("selection",AI(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(l=>{if(l.rootName=="$graveyard")return null;const c=new Yb(this.view.document,l.name);return c.rootName=l.rootName,this.mapper.bindElements(l,c),c})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new I("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}function bB(o,e,t){return(n,i)=>{if(!(t.document.isComposing&&!y.isAndroid))for(let s=0;s<i.targetRanges.length;s++){const l=i.targetRanges[s],c=o.toModelRange(l),u=o_(c,e);!u||u.isEqual(c)||(i.targetRanges[s]=o.toViewRange(u))}}}class ta{constructor(){this._consumables=new Map}add(e,t){let n;if(e.is("$text")||e.is("documentFragment")){this._consumables.set(e,!0);return}this._consumables.has(e)?n=this._consumables.get(e):(n=new wB(e),this._consumables.set(e,n)),n.add(t)}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return this.test(e,t)?(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0):!1}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const l of n)l=="style"||l=="class"||t.attributes.push(l);const i=e.getClassNames();for(const l of i)t.classes.push(l);const s=e.getStyleNames();for(const l of s)t.styles.push(l);return t}static createFrom(e,t){if(t||(t=new ta),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,ta.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=ta.createFrom(n,t);return t}}const pc=["attributes","classes","styles"];class wB{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of pc)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of pc)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of pc)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of pc)t in e&&this._revert(t,e[t])}_add(e,t){const n=St(t)?t:[t],i=this._consumables[e];for(const s of n){if(e==="attributes"&&(s==="class"||s==="style"))throw new I("viewconsumable-invalid-attribute",this);if(i.set(s,!0),e==="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(l,!0)}}_test(e,t){const n=St(t)?t:[t],i=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const l=s=="class"?"classes":"styles",c=this._test(l,[...this._consumables[l].keys()]);if(c!==!0)return c}else{const l=i.get(s);if(l===void 0)return null;if(!l)return!1}return!0}_consume(e,t){const n=St(t)?t:[t],i=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const l=s=="class"?"classes":"styles";this._consume(l,[...this._consumables[l].keys()])}else if(i.set(s,!1),e=="styles")for(const l of this.element.document.stylesProcessor.getRelatedStyles(s))i.set(l,!1)}_revert(e,t){const n=St(t)?t:[t],i=this._consumables[e];for(const s of n)if(e==="attributes"&&(s==="class"||s==="style")){const l=s=="class"?"classes":"styles";this._revert(l,[...this._consumables[l].keys()])}else i.get(s)===!1&&i.set(s,!0)}}class _B extends De(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Hi(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Hi(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new I("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new I("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return typeof e=="string"?t=e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?t="$text":t=e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);return t?!!(t.isLimit||t.isObject):!1}isObject(e){const t=this.getDefinition(e);return t?!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent):!1}isInline(e){const t=this.getDefinition(e);return!!(t&&t.isInline)}isSelectable(e){const t=this.getDefinition(e);return t?!!(t.isSelectable||t.isObject):!1}isContent(e){const t=this.getDefinition(e);return t?!!(t.isContent||t.isObject):!1}checkChild(e,t){return t?this._checkContextMatch(t,e):!1}checkAttribute(e,t){const n=this.getDefinition(e.last);return n?n.allowAttributes.includes(t):!1}checkMerge(e,t){if(e instanceof $){const n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof Te))throw new I("schema-check-merge-no-element-before",this);if(!(i instanceof Te))throw new I("schema-check-merge-no-element-after",this);return this.checkMerge(n,i)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,i])=>{if(!i)return;const s=e(n,i);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,i])=>{const s=e(n,i);typeof s=="boolean"&&(t.stop(),t.return=s)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof $?t=e.parent:t=(e instanceof L?[e]:Array.from(e.getRanges())).reduce((i,s)=>{const l=s.getCommonAncestor();return i?i.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=[...e.getFirstPosition().getAncestors(),new Oe("",e.getAttributes())];return this.checkAttribute(i,t)}else{const n=e.getRanges();for(const i of n)for(const s of i)if(this.checkAttribute(s.item,t))return!0}return!1}*getValidRanges(e,t){e=MB(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text"))return new L(e);let n,i;const s=e.getAncestors().reverse().find(l=>this.isLimit(l))||e.root;(t=="both"||t=="backward")&&(n=new eo({boundaries:L._createIn(s),startPosition:e,direction:"backward"})),(t=="both"||t=="forward")&&(i=new eo({boundaries:L._createIn(s),startPosition:e}));for(const l of zB(n,i)){const c=l.walker==n?"elementEnd":"elementStart",u=l.value;if(u.type==c&&this.isObject(u.item))return L._createOn(u.item);if(this.checkChild(u.nextPosition,"$text"))return new L(u.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const i=n.model;for(const[s,l]of Object.entries(t))i.schema.checkAttribute(e,s)&&n.setAttribute(s,l,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))s_(this,n,t);else{const s=L._createIn(n).getPositions();for(const l of s){const c=l.nodeBefore||l.parent;s_(this,c,t)}}}getAttributesWithProperty(e,t,n){const i={};for(const[s,l]of e.getAttributes()){const c=this.getAttributeProperties(s);c[t]!==void 0&&(n===void 0||n===c[t])&&(i[s]=l)}return i}createContext(e){return new Hi(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const i of n)e[i]=vB(t[i],i);for(const i of n)CB(e,i);for(const i of n)AB(e,i);for(const i of n)yB(e,i);for(const i of n)xB(e,i),EB(e,i);for(const i of n)SB(e,i),DB(e,i),TB(e,i);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(n==0)return!0;{const s=this.getDefinition(i);return this._checkContextMatch(s,t,n-1)}}else return!1}*_getValidRangesForRange(e,t){let n=e.start,i=e.start;for(const s of e.getItems({shallow:!0}))s.is("element")&&(yield*this._getValidRangesForRange(L._createIn(s),t)),this.checkAttribute(s,t)||(n.isEqual(i)||(yield new L(n,i)),n=$._createAfter(s)),i=$._createAfter(s);n.isEqual(i)||(yield new L(n,i))}}class Hi{constructor(e){if(e instanceof Hi)return e;let t;typeof e=="string"?t=[e]:Array.isArray(e)?t=e:t=e.getAncestors({includeSelf:!0}),this._items=t.map(OB)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Hi([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function vB(o,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return PB(o,t),Ui(o,t,"allowIn"),Ui(o,t,"allowContentOf"),Ui(o,t,"allowWhere"),Ui(o,t,"allowAttributes"),Ui(o,t,"allowAttributesOf"),Ui(o,t,"allowChildren"),Ui(o,t,"inheritTypesFrom"),IB(o,t),t}function CB(o,e){const t=o[e];for(const n of t.allowChildren){const i=o[n];i&&i.allowIn.push(e)}t.allowChildren.length=0}function AB(o,e){for(const t of o[e].allowContentOf)o[t]&&BB(o,t).forEach(i=>{i.allowIn.push(e)});delete o[e].allowContentOf}function yB(o,e){for(const t of o[e].allowWhere){const n=o[t];if(n){const i=n.allowIn;o[e].allowIn.push(...i)}}delete o[e].allowWhere}function xB(o,e){for(const t of o[e].allowAttributesOf){const n=o[t];if(n){const i=n.allowAttributes;o[e].allowAttributes.push(...i)}}delete o[e].allowAttributesOf}function EB(o,e){const t=o[e];for(const n of t.inheritTypesFrom){const i=o[n];if(i){const s=Object.keys(i).filter(l=>l.startsWith("is"));for(const l of s)l in t||(t[l]=i[l])}}delete t.inheritTypesFrom}function SB(o,e){const t=o[e],n=t.allowIn.filter(i=>o[i]);t.allowIn=Array.from(new Set(n))}function DB(o,e){const t=o[e];for(const n of t.allowIn)o[n].allowChildren.push(e)}function TB(o,e){const t=o[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function PB(o,e){for(const t of o){const n=Object.keys(t).filter(i=>i.startsWith("is"));for(const i of n)e[i]=!!t[i]}}function Ui(o,e,t){for(const n of o){const i=n[t];typeof i=="string"?e[t].push(i):Array.isArray(i)&&e[t].push(...i)}}function IB(o,e){for(const t of o){const n=t.inheritAllFrom;n&&(e.allowContentOf.push(n),e.allowWhere.push(n),e.allowAttributesOf.push(n),e.inheritTypesFrom.push(n))}}function BB(o,e){const t=o[e];return RB(o).filter(n=>n.allowIn.includes(t.name))}function RB(o){return Object.keys(o).map(e=>o[e])}function OB(o){return typeof o=="string"||o.is("documentFragment")?{name:typeof o=="string"?o:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:o.is("element")?o.name:"$text",*getAttributeKeys(){yield*o.getAttributeKeys()},getAttribute(e){return o.getAttribute(e)}}}function*zB(o,e){let t=!1;for(;!t;){if(t=!0,o){const n=o.next();n.done||(t=!1,yield{walker:o,value:n.value})}if(e){const n=e.next();n.done||(t=!1,yield{walker:e,value:n.value})}}}function*MB(o){for(const e of o)yield*e.getMinimalFlatRanges()}function s_(o,e,t){for(const n of e.getAttributeKeys())o.checkAttribute(e,n)||t.removeAttribute(n,e)}class NB extends Se(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(t,n)=>this._convertItem(t,n),convertChildren:(t,n)=>this._convertChildren(t,n),safeInsert:(t,n)=>this._safeInsert(t,n),updateConversionResult:(t,n)=>this._updateConversionResult(t,n),splitToAllowedParent:(t,n)=>this._splitToAllowedParent(t,n),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=LB(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=ta.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),s=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const l of Array.from(this._modelCursor.parent.getChildren()))t.append(l,s);s.markers=FB(s,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof L))throw new I("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:$._createAt(t,0);const i=new L(n);for(const s of Array.from(e.getChildren())){const l=this._convertItem(s,n);l.modelRange instanceof L&&(i.end=l.modelRange.end,n=l.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return n?(this.conversionApi.writer.insert(e,n.position),!0):!1}_updateConversionResult(e,t){const n=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1])));const s=this._cursorParents.get(e);s?t.modelCursor=i.createPositionAt(s,0):t.modelCursor=t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:i}=this.conversionApi;let s=n.findAllowedParent(t,e);if(s){if(s===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(s)&&(s=null)}if(!s)return Zw(t,e,n)?{position:Jw(t,i)}:null;const l=this.conversionApi.writer.split(t,s),c=[];for(const p of l.range.getWalker())if(p.type=="elementEnd")c.push(p.item);else{const m=c.pop(),w=p.item;this._registerSplitPair(m,w)}const u=l.range.end.parent;return this._cursorParents.set(e,u),{position:l.position,cursorParent:u}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return this._splitParts.has(e)?t=this._splitParts.get(e):t=[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}function FB(o,e){const t=new Set,n=new Map,i=L._createIn(o).getItems();for(const s of i)s.is("element","$marker")&&t.add(s);for(const s of t){const l=s.getAttribute("data-name"),c=e.createPositionBefore(s);n.has(l)?n.get(l).end=c.clone():n.set(l,new L(c.clone())),e.remove(s)}return n}function LB(o,e){let t;for(const n of new Hi(o)){const i={};for(const l of n.getAttributeKeys())i[l]=n.getAttribute(l);const s=e.createElement(n.name,i);t&&e.insert(s,t),t=$._createAt(s,0)}return t}class VB{getHtml(e){const n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}class jB{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new cc(e,{renderingMode:"data"}),this.htmlWriter=new VB}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class HB extends Se(){constructor(e,t){super(),this.model=e,this.mapper=new Rw,this.downcastDispatcher=new Ow({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",Lw(),{priority:"lowest"}),this.downcastDispatcher.on("insert",Vw(),{priority:"lowest"}),this.upcastDispatcher=new NB({schema:e.schema}),this.viewDocument=new rc(t),this.stylesProcessor=t,this.htmlProcessor=new jB(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new tw(this.viewDocument),this.upcastDispatcher.on("text",XI(),{priority:"lowest"}),this.upcastDispatcher.on("element",Yw(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",Yw(),{priority:"lowest"}),De().prototype.decorate.call(this,"init"),De().prototype.decorate.call(this,"set"),De().prototype.decorate.call(this,"get"),De().prototype.decorate.call(this,"toView"),De().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Qw)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new I("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||Ee("datacontroller-get-detached-root",this),n==="empty"&&!this.model.hasContent(i,{ignoreWhitespaces:!0})?"":this.stringify(i,e)}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const s=L._createIn(e),l=new Fi(n);this.mapper.bindElements(e,l);const c=e.is("documentFragment")?e.markers:UB(e);return this.downcastDispatcher.convert(s,c,i,t),l}init(e){if(this.model.document.version)throw new I("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new I("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const i of Object.keys(t)){const s=this.model.document.getRoot(i);n.insert(this.parse(t[i],s),s,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new I("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},i=>{i.setSelection(null),i.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const s of Object.keys(n)){const l=this.model.document.getRoot(s);i.remove(i.createRangeIn(l)),i.insert(this.parse(n[s],l),l,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}function UB(o){const e=[],t=o.root.document;if(!t)return new Map;const n=L._createIn(o);for(const i of t.model.markers){const s=i.getRange(),l=s.isCollapsed,c=s.start.isEqual(n.start)||s.end.isEqual(n.end);if(l&&c)e.push([i.name,s]);else{const u=n.getIntersection(s);u&&e.push([i.name,u])}}return e.sort(([i,s],[l,c])=>{if(s.end.compareWith(c.start)!=="after")return 1;if(s.start.compareWith(c.end)!=="before")return-1;switch(s.start.compareWith(c.start)){case"before":return 1;case"after":return-1;default:switch(s.end.compareWith(c.end)){case"before":return 1;case"after":return-1;default:return l.localeCompare(i)}}}),new Map(e)}class WB{constructor(e,t){this._helpers=new Map,this._downcast=Dt(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Dt(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new I("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new I("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of mf(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of mf(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of mf(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new I("conversion-group-exists",this);const i=n?new _I(t):new YI(t);this._helpers.set(e,i)}}function*mf(o){if(o.model.values)for(const e of o.model.values){const t={key:o.model.key,value:e},n=o.view[e],i=o.upcastAlso?o.upcastAlso[e]:void 0;yield*a_(t,n,i)}else yield*a_(o.model,o.view,o.upcastAlso)}function*a_(o,e,t){if(yield{model:o,view:e},t)for(const n of Dt(t))yield{model:o,view:n}}class ln{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function kf(o,e){const t=c_(e),n=t.reduce((l,c)=>l+c.offsetSize,0),i=o.parent;ia(o);const s=o.index;return i._insertChild(s,t),oa(i,s+t.length),oa(i,s),new L(o,o.getShiftedBy(n))}function l_(o){if(!o.isFlat)throw new I("operation-utils-remove-range-not-flat",this);const e=o.start.parent;ia(o.start),ia(o.end);const t=e._removeChildren(o.start.index,o.end.index-o.start.index);return oa(e,o.start.index),t}function na(o,e){if(!o.isFlat)throw new I("operation-utils-move-range-not-flat",this);const t=l_(o);return e=e._getTransformedByDeletion(o.start,o.end.offset-o.start.offset),kf(e,t)}function $B(o,e,t){ia(o.start),ia(o.end);for(const n of o.getItems({shallow:!0})){const i=n.is("$textProxy")?n.textNode:n;t!==null?i._setAttribute(e,t):i._removeAttribute(e),oa(i.parent,i.index)}oa(o.end.parent,o.end.index)}function c_(o){const e=[];function t(n){if(typeof n=="string")e.push(new Oe(n));else if(n instanceof Mn)e.push(new Oe(n.data,n.getAttributes()));else if(n instanceof Li)e.push(n);else if(Ft(n))for(const i of n)t(i)}t(o);for(let n=1;n<e.length;n++){const i=e[n],s=e[n-1];i instanceof Oe&&s instanceof Oe&&d_(i,s)&&(e.splice(n-1,2,new Oe(s.data+i.data,s.getAttributes())),n--)}return e}function oa(o,e){const t=o.getChild(e-1),n=o.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&d_(t,n)){const i=new Oe(t.data+n.data,t.getAttributes());o._removeChildren(e-1,2),o._insertChild(e-1,i)}}function ia(o){const e=o.textNode,t=o.parent;if(e){const n=o.offset-e.startOffset,i=e.index;t._removeChildren(i,1);const s=new Oe(e.data.substr(0,n),e.getAttributes()),l=new Oe(e.data.substr(n),e.getAttributes());t._insertChild(i,[s,l])}}function d_(o,e){const t=o.getAttributes(),n=e.getAttributes();for(const i of t){if(i[1]!==e.getAttribute(i[0]))return!1;n.next()}return n.next().done}class ye extends ln{constructor(e,t,n,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new ye(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new ye(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new I("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new I("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Et(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const s=this.sourcePosition.path.length-1;if(this.targetPosition.path[s]>=n&&this.targetPosition.path[s]<n+this.howMany)throw new I("move-operation-node-into-itself",this)}}_execute(){na(L._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=$.fromJSON(e.sourcePosition,t),i=$.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}class vt extends ln{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Js(c_(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Js([...this.nodes].map(n=>n._clone(!0))),t=new vt(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new $(e,[0]);return new ye(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new I("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Js([...e].map(t=>t._clone(!0))),kf(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const s of e.nodes)s.name?n.push(Te.fromJSON(s)):n.push(Oe.fromJSON(s));const i=new vt($.fromJSON(e.position,t),n,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class ze extends ln{constructor(e,t,n,i,s){super(s),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new $(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new L(this.splitPosition,e)}clone(){return new ze(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new $(e,[0]);return new at(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new I("split-operation-position-invalid",this);if(e.parent){if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new I("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new I("split-operation-graveyard-position-invalid",this)}else throw new I("split-operation-split-in-root",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)na(L._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const n=e._clone();kf(this.insertionPosition,n)}const t=new L($._createAt(e,this.splitPosition.offset),$._createAt(e,e.maxOffset));na(t,this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new $(e.root,t,"toPrevious")}static fromJSON(e,t){const n=$.fromJSON(e.splitPosition,t),i=$.fromJSON(e.insertionPosition,t),s=e.graveyardPosition?$.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,s,e.baseVersion)}}class at extends ln{constructor(e,t,n,i,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new $(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new L(this.sourcePosition,e)}clone(){return new at(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new $(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new ze(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(e.parent)if(t.parent){if(this.howMany!=e.maxOffset)throw new I("merge-operation-how-many-invalid",this)}else throw new I("merge-operation-target-position-invalid",this);else throw new I("merge-operation-source-position-invalid",this)}_execute(){const e=this.sourcePosition.parent,t=L._createIn(e);na(t,this.targetPosition),na(L._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=$.fromJSON(e.sourcePosition,t),i=$.fromJSON(e.targetPosition,t),s=$.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,s,e.baseVersion)}}class Gt extends ln{constructor(e,t,n,i,s,l){super(l),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=s,this._markers=i}get type(){return"marker"}clone(){return new Gt(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Gt(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Gt(e.name,e.oldRange?L.fromJSON(e.oldRange,t):null,e.newRange?L.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}function qB(o,e){return Ew(o,e)}const u_=qB;class ht extends ln{constructor(e,t,n,i,s){super(s),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new ht(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ht(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new I("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!u_(e.getAttribute(this.key),this.oldValue))throw new I("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new I("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){u_(this.oldValue,this.newValue)||$B(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new ht(L.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class mt extends ln{get type(){return"noop"}clone(){return new mt(this.baseVersion)}getReversed(){return new mt(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Qt extends ln{constructor(e,t,n,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}clone(){return new Qt(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Qt(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(e instanceof Te){if(e.name!==this.oldName)throw new I("rename-operation-wrong-name",this)}else throw new I("rename-operation-wrong-position",this)}_execute(){const e=this.position.nodeAfter;e.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Qt($.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class wo extends ln{constructor(e,t,n,i,s){super(s),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=i===void 0?null:i}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new wo(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wo(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new I("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new I("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new I("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new I("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new wo(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class no extends ln{constructor(e,t,n,i,s){if(super(s),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=i,!this._document.getRoot(this.rootName)){const l=this._document.createRoot(this.elementName,this.rootName);l._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new no(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new no(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd)throw new I("root-operation-root-attached",this);if(!e.isAttached()&&!this.isAdd)throw new I("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new no(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const vn={};vn[ht.className]=ht,vn[vt.className]=vt,vn[Gt.className]=Gt,vn[ye.className]=ye,vn[mt.className]=mt,vn[ln.className]=ln,vn[Qt.className]=Qt,vn[wo.className]=wo,vn[no.className]=no,vn[ze.className]=ze,vn[at.className]=at;class KB{static fromJSON(e,t){return vn[e.__className].fromJSON(e,t)}}const bf=new Map;function ve(o,e,t){let n=bf.get(o);n||(n=new Map,bf.set(o,n)),n.set(e,t)}function GB(o,e){const t=bf.get(o);return t&&t.has(e)?t.get(e):QB}function QB(o){return[o]}function h_(o,e,t={}){const n=GB(o.constructor,e.constructor);try{return o=o.clone(),n(o,e,t)}catch(i){throw i}}function ZB(o,e,t){o=o.slice(),e=e.slice();const n=new JB(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(o),n.setOriginalOperations(e);const i=n.originalOperations;if(o.length==0||e.length==0)return{operationsA:o,operationsB:e,originalOperations:i};const s=new WeakMap;for(const u of o)s.set(u,0);const l={nextBaseVersionA:o[o.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:o.length,originalOperationsBCount:e.length};let c=0;for(;c<o.length;){const u=o[c],p=s.get(u);if(p==e.length){c++;continue}const m=e[p],w=h_(u,m,n.getContext(u,m,!0)),x=h_(m,u,n.getContext(m,u,!1));n.updateRelation(u,m),n.setOriginalOperations(w,u),n.setOriginalOperations(x,m);for(const T of w)s.set(T,p+x.length);o.splice(c,1,...w),e.splice(p,1,...x)}if(t.padWithNoOps){const u=o.length-l.originalOperationsACount,p=e.length-l.originalOperationsBCount;p_(o,p-u),p_(e,u-p)}return f_(o,l.nextBaseVersionB),f_(e,l.nextBaseVersionA),{operationsA:o,operationsB:e,originalOperations:i}}class JB{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const i of e)this.originalOperations.set(i,n||i)}updateRelation(e,t){if(e instanceof ye)t instanceof at?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof ye&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof ze){if(t instanceof at)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof ye)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=L._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=n.end.offset-e.splitPosition.offset,s=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:s})}}}else if(e instanceof at)t instanceof at?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof ze&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Gt){const n=e.newRange;if(!n)return;if(t instanceof ye){const i=L._createFromPositionAndShift(t.sourcePosition,t.howMany),s=i.containsPosition(n.start)||i.start.isEqual(n.start),l=i.containsPosition(n.end)||i.end.isEqual(n.end);(s||l)&&!i.containsRange(n)&&this._setRelation(e,t,{side:s?"left":"right",path:s?n.start.path.slice():n.end.path.slice()})}else if(t instanceof at){const i=n.start.isEqual(t.targetPosition),s=n.start.isEqual(t.deletionPosition),l=n.end.isEqual(t.deletionPosition),c=n.end.isEqual(t.sourcePosition);(i||s||l||c)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:s,wasEndBeforeMergedElement:l,wasInRightElement:c})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;const s=this.originalOperations.get(e),l=this._relations.get(s);return l&&l.get(i)||null}_setRelation(e,t,n){const i=this.originalOperations.get(e),s=this.originalOperations.get(t);let l=this._relations.get(i);l||(l=new Map,this._relations.set(i,l)),l.set(s,n)}}function f_(o,e){for(const t of o)t.baseVersion=e++}function p_(o,e){for(let t=0;t<e;t++)o.push(new mt(0))}ve(ht,ht,(o,e,t)=>{if(o.key===e.key&&o.range.start.hasSameParentAs(e.range.start)){const n=o.range.getDifference(e.range).map(s=>new ht(s,o.key,o.oldValue,o.newValue,0)),i=o.range.getIntersection(e.range);return i&&t.aIsStrong&&n.push(new ht(i,e.key,e.newValue,o.newValue,0)),n.length==0?[new mt(0)]:n}else return[o]}),ve(ht,vt,(o,e)=>{if(o.range.start.hasSameParentAs(e.position)&&o.range.containsPosition(e.position)){const n=o.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(i=>new ht(i,o.key,o.oldValue,o.newValue,o.baseVersion));if(e.shouldReceiveAttributes){const i=g_(e,o.key,o.oldValue);i&&n.unshift(i)}return n}return o.range=o.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[o]});function g_(o,e,t){const i=o.nodes.getNode(0).getAttribute(e);if(i==t)return null;const s=new L(o.position,o.position.getShiftedBy(o.howMany));return new ht(s,e,i,t,0)}ve(ht,at,(o,e)=>{const t=[];o.range.start.hasSameParentAs(e.deletionPosition)&&(o.range.containsPosition(e.deletionPosition)||o.range.start.isEqual(e.deletionPosition))&&t.push(L._createFromPositionAndShift(e.graveyardPosition,1));const n=o.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(i=>new ht(i,o.key,o.oldValue,o.newValue,o.baseVersion))}),ve(ht,ye,(o,e)=>YB(o.range,e).map(n=>new ht(n,o.key,o.oldValue,o.newValue,o.baseVersion)));function YB(o,e){const t=L._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,i=[];t.containsRange(o,!0)?n=o:o.start.hasSameParentAs(t.start)?(i=o.getDifference(t),n=o.getIntersection(t)):i=[o];const s=[];for(let l of i){l=l._getTransformedByDeletion(e.sourcePosition,e.howMany);const c=e.getMovedRangeStart(),u=l.start.hasSameParentAs(c),p=l._getTransformedByInsertion(c,e.howMany,u);s.push(...p)}return n&&s.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s}ve(ht,ze,(o,e)=>{if(o.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||o.range.end.offset++,[o];if(o.range.start.hasSameParentAs(e.splitPosition)&&o.range.containsPosition(e.splitPosition)){const t=o.clone();return t.range=new L(e.moveTargetPosition.clone(),o.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),o.range.end=e.splitPosition.clone(),o.range.end.stickiness="toPrevious",[o,t]}return o.range=o.range._getTransformedBySplitOperation(e),[o]}),ve(vt,ht,(o,e)=>{const t=[o];if(o.shouldReceiveAttributes&&o.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(o.position)){const n=g_(o,e.key,e.newValue);n&&t.push(n)}return t}),ve(vt,vt,(o,e,t)=>o.position.isEqual(e.position)&&t.aIsStrong?[o]:(o.position=o.position._getTransformedByInsertOperation(e),[o])),ve(vt,ye,(o,e)=>(o.position=o.position._getTransformedByMoveOperation(e),[o])),ve(vt,ze,(o,e)=>(o.position=o.position._getTransformedBySplitOperation(e),[o])),ve(vt,at,(o,e)=>(o.position=o.position._getTransformedByMergeOperation(e),[o])),ve(Gt,vt,(o,e)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByInsertOperation(e)[0]),o.newRange&&(o.newRange=o.newRange._getTransformedByInsertOperation(e)[0]),[o])),ve(Gt,Gt,(o,e,t)=>{if(o.name==e.name)if(t.aIsStrong)o.oldRange=e.newRange?e.newRange.clone():null;else return[new mt(0)];return[o]}),ve(Gt,at,(o,e)=>(o.oldRange&&(o.oldRange=o.oldRange._getTransformedByMergeOperation(e)),o.newRange&&(o.newRange=o.newRange._getTransformedByMergeOperation(e)),[o])),ve(Gt,ye,(o,e,t)=>{if(o.oldRange&&(o.oldRange=L._createFromRanges(o.oldRange._getTransformedByMoveOperation(e))),o.newRange){if(t.abRelation){const n=L._createFromRanges(o.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(o.newRange.start))return o.newRange.end=n.end,o.newRange.start.path=t.abRelation.path,[o];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(o.newRange.end))return o.newRange.start=n.start,o.newRange.end.path=t.abRelation.path,[o]}o.newRange=L._createFromRanges(o.newRange._getTransformedByMoveOperation(e))}return[o]}),ve(Gt,ze,(o,e,t)=>{if(o.oldRange&&(o.oldRange=o.oldRange._getTransformedBySplitOperation(e)),o.newRange){if(t.abRelation){const n=o.newRange._getTransformedBySplitOperation(e);return o.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?o.newRange.start=$._createAt(e.insertionPosition):o.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(o.newRange.start=$._createAt(e.moveTargetPosition)),o.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?o.newRange.end=$._createAt(e.moveTargetPosition):o.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?o.newRange.end=$._createAt(e.insertionPosition):o.newRange.end=n.end,[o]}o.newRange=o.newRange._getTransformedBySplitOperation(e)}return[o]}),ve(at,vt,(o,e)=>(o.sourcePosition.hasSameParentAs(e.position)&&(o.howMany+=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByInsertOperation(e),o.targetPosition=o.targetPosition._getTransformedByInsertOperation(e),[o])),ve(at,at,(o,e,t)=>{if(o.sourcePosition.isEqual(e.sourcePosition)&&o.targetPosition.isEqual(e.targetPosition))if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),o.sourcePosition=new $(e.graveyardPosition.root,n),o.howMany=0,[o]}else return[new mt(0)];if(o.sourcePosition.isEqual(e.sourcePosition)&&!o.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=o.targetPosition.root.rootName=="$graveyard",i=e.targetPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&t.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),p=o.targetPosition._getTransformedByMergeOperation(e);return[new ye(u,o.howMany,p,0)]}else return[new mt(0)]}return o.sourcePosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByMergeOperation(e),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),(!o.graveyardPosition.isEqual(e.graveyardPosition)||!t.aIsStrong)&&(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(e)),[o]}),ve(at,ye,(o,e,t)=>{const n=L._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&o.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(o.sourcePosition)?[new mt(0)]:(o.sourcePosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.sourcePosition.hasSameParentAs(e.sourcePosition)&&(o.howMany-=e.howMany),o.sourcePosition=o.sourcePosition._getTransformedByMoveOperation(e),o.targetPosition=o.targetPosition._getTransformedByMoveOperation(e),o.graveyardPosition.isEqual(e.targetPosition)||(o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(e)),[o])}),ve(at,ze,(o,e,t)=>{if(e.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),o.deletionPosition.isEqual(e.graveyardPosition)&&(o.howMany=e.howMany)),o.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,i=e.graveyardPosition&&o.deletionPosition.isEqual(e.graveyardPosition);if(n||i||t.abRelation=="mergeTargetNotMoved")return o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(e),[o]}if(o.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return o.howMany=0,o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o];if(t.abRelation=="mergeSameElement"||o.sourcePosition.offset>0)return o.sourcePosition=e.moveTargetPosition.clone(),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o]}return o.sourcePosition.hasSameParentAs(e.splitPosition)&&(o.howMany=e.splitPosition.offset),o.sourcePosition=o.sourcePosition._getTransformedBySplitOperation(e),o.targetPosition=o.targetPosition._getTransformedBySplitOperation(e),[o]}),ve(ye,vt,(o,e)=>{const n=L._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByInsertOperation(e,!1)[0];return o.sourcePosition=n.start,o.howMany=n.end.offset-n.start.offset,o.targetPosition.isEqual(e.position)||(o.targetPosition=o.targetPosition._getTransformedByInsertOperation(e)),[o]}),ve(ye,ye,(o,e,t)=>{const n=L._createFromPositionAndShift(o.sourcePosition,o.howMany),i=L._createFromPositionAndShift(e.sourcePosition,e.howMany);let s=t.aIsStrong,l=!t.aIsStrong;t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?l=!0:(t.abRelation=="insertAfter"||t.baRelation=="insertBefore")&&(l=!1);let c;if(o.targetPosition.isEqual(e.targetPosition)&&l?c=o.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c=o.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),m_(o,e)&&m_(e,o))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(i,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Pr([n],c);if(i.containsPosition(o.targetPosition)&&i.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Pr([n],c);const m=Et(o.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(m=="prefix"||m=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Pr([n],c);o.type=="remove"&&e.type!="remove"&&!t.aWasUndone&&!t.forceWeakRemove?s=!0:o.type!="remove"&&e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&(s=!1);const w=[],x=n.getDifference(i);for(const M of x){M.start=M.start._getTransformedByDeletion(e.sourcePosition,e.howMany),M.end=M.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const F=Et(M.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",W=M._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,F);w.push(...W)}const T=n.getIntersection(i);return T!==null&&s&&(T.start=T.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),T.end=T.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),w.length===0?w.push(T):w.length==1?i.start.isBefore(n.start)||i.start.isEqual(n.start)?w.unshift(T):w.push(T):w.splice(1,0,T)),w.length===0?[new mt(o.baseVersion)]:Pr(w,c)}),ve(ye,ze,(o,e,t)=>{let n=o.targetPosition.clone();(!o.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||t.abRelation=="moveTargetAfter")&&(n=o.targetPosition._getTransformedBySplitOperation(e));const i=L._createFromPositionAndShift(o.sourcePosition,o.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||o.howMany++,o.targetPosition=n,[o];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let c=new L(e.splitPosition,i.end);c=c._getTransformedBySplitOperation(e);const u=[new L(i.start,e.splitPosition),c];return Pr(u,n)}o.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),o.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=o.targetPosition);const l=[i._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const c=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);o.howMany>1&&c&&!t.aWasUndone&&l.push(L._createFromPositionAndShift(e.insertionPosition,1))}return Pr(l,n)}),ve(ye,at,(o,e,t)=>{const n=L._createFromPositionAndShift(o.sourcePosition,o.howMany);if(e.deletionPosition.hasSameParentAs(o.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(o.type=="remove"&&!t.forceWeakRemove){if(!t.aWasUndone){const l=[];let c=e.graveyardPosition.clone(),u=e.targetPosition._getTransformedByMergeOperation(e);o.howMany>1&&(l.push(new ye(o.sourcePosition,o.howMany-1,o.targetPosition,0)),c=c._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1),u=u._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany-1));const p=e.deletionPosition._getCombined(o.sourcePosition,o.targetPosition),m=new ye(c,1,p,0),w=m.getMovedRangeStart().path.slice();w.push(0);const x=new $(m.targetPosition.root,w);u=u._getTransformedByMove(c,p,1);const T=new ye(u,e.howMany,x,0);return l.push(m),l.push(T),l}}else if(o.howMany==1)return t.bWasUndone?(o.sourcePosition=e.graveyardPosition.clone(),o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),[o]):[new mt(0)]}const s=L._createFromPositionAndShift(o.sourcePosition,o.howMany)._getTransformedByMergeOperation(e);return o.sourcePosition=s.start,o.howMany=s.end.offset-s.start.offset,o.targetPosition=o.targetPosition._getTransformedByMergeOperation(e),[o]}),ve(Qt,vt,(o,e)=>(o.position=o.position._getTransformedByInsertOperation(e),[o])),ve(Qt,at,(o,e)=>o.position.isEqual(e.deletionPosition)?(o.position=e.graveyardPosition.clone(),o.position.stickiness="toNext",[o]):(o.position=o.position._getTransformedByMergeOperation(e),[o])),ve(Qt,ye,(o,e)=>(o.position=o.position._getTransformedByMoveOperation(e),[o])),ve(Qt,Qt,(o,e,t)=>{if(o.position.isEqual(e.position))if(t.aIsStrong)o.oldName=e.newName;else return[new mt(0)];return[o]}),ve(Qt,ze,(o,e)=>{const t=o.position.path,n=e.splitPosition.getParentPath();if(Et(t,n)=="same"&&!e.graveyardPosition){const i=new Qt(o.position.getShiftedBy(1),o.oldName,o.newName,0);return[o,i]}return o.position=o.position._getTransformedBySplitOperation(e),[o]}),ve(wo,wo,(o,e,t)=>{if(o.root===e.root&&o.key===e.key){if(!t.aIsStrong||o.newValue===e.newValue)return[new mt(0)];o.oldValue=e.newValue}return[o]}),ve(no,no,(o,e,t)=>o.rootName===e.rootName&&o.isAdd===e.isAdd&&!t.bWasUndone?[new mt(0)]:[o]),ve(ze,vt,(o,e)=>(o.splitPosition.hasSameParentAs(e.position)&&o.splitPosition.offset<e.position.offset&&(o.howMany+=e.howMany),o.splitPosition=o.splitPosition._getTransformedByInsertOperation(e),o.insertionPosition=o.insertionPosition._getTransformedByInsertOperation(e),[o])),ve(ze,at,(o,e,t)=>{if(!o.graveyardPosition&&!t.bWasUndone&&o.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new $(e.graveyardPosition.root,n),s=ze.getInsertionPosition(new $(e.graveyardPosition.root,n)),l=new ze(i,0,s,null,0);return o.splitPosition=o.splitPosition._getTransformedByMergeOperation(e),o.insertionPosition=ze.getInsertionPosition(o.splitPosition),o.graveyardPosition=l.insertionPosition.clone(),o.graveyardPosition.stickiness="toNext",[l,o]}return o.splitPosition.hasSameParentAs(e.deletionPosition)&&!o.splitPosition.isAfter(e.deletionPosition)&&o.howMany--,o.splitPosition.hasSameParentAs(e.targetPosition)&&(o.howMany+=e.howMany),o.splitPosition=o.splitPosition._getTransformedByMergeOperation(e),o.insertionPosition=ze.getInsertionPosition(o.splitPosition),o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedByMergeOperation(e)),[o]}),ve(ze,ye,(o,e,t)=>{const n=L._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.graveyardPosition){const s=n.start.isEqual(o.graveyardPosition)||n.containsPosition(o.graveyardPosition);if(!t.bWasUndone&&s){const l=o.splitPosition._getTransformedByMoveOperation(e),c=o.graveyardPosition._getTransformedByMoveOperation(e),u=c.path.slice();u.push(0);const p=new $(c.root,u);return[new ye(l,o.howMany,p,0)]}o.graveyardPosition=o.graveyardPosition._getTransformedByMoveOperation(e)}const i=o.splitPosition.isEqual(e.targetPosition);if(i&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return o.howMany+=e.howMany,o.splitPosition=o.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),o.insertionPosition=ze.getInsertionPosition(o.splitPosition),[o];if(i&&t.abRelation&&t.abRelation.howMany){const{howMany:s,offset:l}=t.abRelation;return o.howMany+=s,o.splitPosition=o.splitPosition.getShiftedBy(l),[o]}if(o.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(o.splitPosition)){const s=e.howMany-(o.splitPosition.offset-e.sourcePosition.offset);return o.howMany-=s,o.splitPosition.hasSameParentAs(e.targetPosition)&&o.splitPosition.offset<e.targetPosition.offset&&(o.howMany+=e.howMany),o.splitPosition=e.sourcePosition.clone(),o.insertionPosition=ze.getInsertionPosition(o.splitPosition),[o]}return e.sourcePosition.isEqual(e.targetPosition)||(o.splitPosition.hasSameParentAs(e.sourcePosition)&&o.splitPosition.offset<=e.sourcePosition.offset&&(o.howMany-=e.howMany),o.splitPosition.hasSameParentAs(e.targetPosition)&&o.splitPosition.offset<e.targetPosition.offset&&(o.howMany+=e.howMany)),o.splitPosition.stickiness="toNone",o.splitPosition=o.splitPosition._getTransformedByMoveOperation(e),o.splitPosition.stickiness="toNext",o.graveyardPosition?o.insertionPosition=o.insertionPosition._getTransformedByMoveOperation(e):o.insertionPosition=ze.getInsertionPosition(o.splitPosition),[o]}),ve(ze,ze,(o,e,t)=>{if(o.splitPosition.isEqual(e.splitPosition)){if(!o.graveyardPosition&&!e.graveyardPosition)return[new mt(0)];if(o.graveyardPosition&&e.graveyardPosition&&o.graveyardPosition.isEqual(e.graveyardPosition))return[new mt(0)];if(t.abRelation=="splitBefore")return o.howMany=0,o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(e),[o]}if(o.graveyardPosition&&e.graveyardPosition&&o.graveyardPosition.isEqual(e.graveyardPosition)){const n=o.splitPosition.root.rootName=="$graveyard",i=e.splitPosition.root.rootName=="$graveyard";if(i&&!n||!(n&&!i)&&t.aIsStrong){const u=[];return e.howMany&&u.push(new ye(e.moveTargetPosition,e.howMany,e.splitPosition,0)),o.howMany&&u.push(new ye(o.splitPosition,o.howMany,o.moveTargetPosition,0)),u}else return[new mt(0)]}if(o.graveyardPosition&&(o.graveyardPosition=o.graveyardPosition._getTransformedBySplitOperation(e)),o.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return o.howMany++,[o];if(e.splitPosition.isEqual(o.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const i=new $(e.insertionPosition.root,n),s=new ye(o.insertionPosition,1,i,0);return[o,s]}return o.splitPosition.hasSameParentAs(e.splitPosition)&&o.splitPosition.offset<e.splitPosition.offset&&(o.howMany-=e.howMany),o.splitPosition=o.splitPosition._getTransformedBySplitOperation(e),o.insertionPosition=ze.getInsertionPosition(o.splitPosition),[o]});function m_(o,e){return o.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Pr(o,e){const t=[];for(let n=0;n<o.length;n++){const i=o[n],s=new ye(i.start,i.end.offset-i.start.offset,e,0);t.push(s);for(let l=n+1;l<o.length;l++)o[l]=o[l]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return t}class Zt extends Se($){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new I("model-liveposition-root-not-rootelement",e);XB.call(this)}detach(){this.stopListening()}toPosition(){return new $(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}Zt.prototype.is=function(o){return o==="livePosition"||o==="model:livePosition"||o=="position"||o==="model:position"};function XB(){this.listenTo(this.root.document.model,"applyOperation",(o,e)=>{const t=e[0];t.isDocumentOperation&&eR.call(this,t)},{priority:"low"})}function eR(o){const e=this.getTransformedByOperation(o);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}class Ir{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},Ee("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:i=!1,isTyping:s=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=i,this.isTyping=s}get type(){return Ee("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class tR{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":{if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break}case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=L._createFromPositionAndShift(t.position,1);for(const i of this._markerCollection.getMarkersIntersectingRange(n)){const s=i.getData();this.bufferMarkerChange(i.name,s,s)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const i=t.graveyardPosition.parent;this._markInsert(i,t.graveyardPosition.offset,1);const s=t.targetPosition.parent;this._isInInsertedElement(s)||this._markInsert(s,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){const i=this._changedMarkers.get(e);i?(i.newMarkerData=n,i.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:n,oldMarkerData:t})}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,i=!e.range&&t.range,s=e.range&&t.range&&!e.range.isEqual(t.range);if(n||i||s)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const i=this._changesInElement.get(n).sort((m,w)=>m.offset===w.offset?m.type!=w.type?m.type=="remove"?-1:1:0:m.offset<w.offset?-1:1),s=this._elementSnapshots.get(n),l=k_(n.getChildren()),c=nR(s.length,i);let u=0,p=0;for(const m of c)if(m==="i")t.push(this._getInsertDiff(n,u,l[u])),u++;else if(m==="r")t.push(this._getRemoveDiff(n,u,s[p])),p++;else if(m==="a"){const w=l[u].attributes,x=s[p].attributes;let T;if(l[u].name=="$text")T=new L($._createAt(n,u),$._createAt(n,u+1));else{const M=n.offsetToIndex(u);T=new L($._createAt(n,u),$._createAt(n.getChild(M),0))}t.push(...this._getAttributesDiff(T,x,w)),u++,p++}else u++,p++}t.sort((n,i)=>n.position.root!=i.position.root?n.position.root.rootName<i.position.root.rootName?-1:1:n.position.isEqual(i.position)?n.changeCount-i.changeCount:n.position.isBefore(i.position)?-1:1);for(let n=1,i=0;n<t.length;n++){const s=t[i],l=t[n],c=s.type=="remove"&&l.type=="remove"&&s.name=="$text"&&l.name=="$text"&&s.position.isEqual(l.position),u=s.type=="insert"&&l.type=="insert"&&s.name=="$text"&&l.name=="$text"&&s.position.parent==l.position.parent&&s.position.offset+s.length==l.position.offset,p=s.type=="attribute"&&l.type=="attribute"&&s.position.parent==l.position.parent&&s.range.isFlat&&l.range.isFlat&&s.position.offset+s.length==l.position.offset&&s.attributeKey==l.attributeKey&&s.attributeOldValue==l.attributeOldValue&&s.attributeNewValue==l.attributeNewValue;c||u||p?(s.length++,p&&(s.range.end=s.range.end.getShiftedBy(1)),t[n]=null):i=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(oR),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t={...e};return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e)){this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});return}const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,i){const s=this._changedRoots.get(e)||{name:e},l=s.attributes||{};if(l[t]){const c=l[t];i===c.oldValue?delete l[t]:c.newValue=i}else l[t]={oldValue:n,newValue:i};Object.entries(l).length===0?(delete s.attributes,s.state===void 0&&this._changedRoots.delete(e)):(s.attributes=l,this._changedRoots.set(e,s))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=L._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const i=n.getData();this.bufferMarkerChange(n.name,i,i)}this._cachedChanges=null}_markInsert(e,t,n){const i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){const i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,k_(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany,s=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<s&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<s){const l=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:i,howMany:l-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(i<=n.offset)n.offset-=e.howMany;else if(i<=s)if(e.offset<n.offset){const l=i-n.offset;n.offset=e.offset,n.howMany-=l,e.nodesToHandle-=l}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<s){const l=s-e.offset;n.howMany-=l,e.nodesToHandle-=l}}if(n.type=="remove"&&(i<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(i<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const l=i-n.offset;n.offset=e.offset,n.howMany-=l}else if(e.offset<s)if(i<=s){const l=n.howMany;n.howMany=e.offset-n.offset;const c=l-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:c,count:this._changeCount++})}else n.howMany-=s-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&i>n.offset){if(i>s){const l={type:"attribute",offset:s,howMany:i-s,count:this._changeCount++};this._handleChange(l,t),t.push(l)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<s&&(i>s?(e.nodesToHandle=i-s,e.offset=s):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&i>n.offset){const l={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(l,t),t.push(l),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&i<=s?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&i>=s&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:$._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:$._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[s,l]of t){const c=n.has(s)?n.get(s):null;c!==l&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:l,attributeNewValue:c,changeCount:this._changeCount++}),n.delete(s)}for(const[s,l]of n)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:s,attributeOldValue:null,attributeNewValue:l,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),i=e.startOffset;if(n){for(const s of n)if(s.type=="insert"&&i>=s.offset&&i<s.offset+s.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new L($._createAt(e,t),$._createAt(e,t+n));for(const s of i.getItems({shallow:!0}))s.is("element")&&(this._elementSnapshots.delete(s),this._changesInElement.delete(s),this._removeAllNestedChanges(s,0,s.maxOffset))}}function k_(o){const e=[];for(const t of o)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function nR(o,e){const t=[];let n=0,i=0;for(const s of e){if(s.offset>n){for(let l=0;l<s.offset-n;l++)t.push("e");i+=s.offset-n}if(s.type=="insert"){for(let l=0;l<s.howMany;l++)t.push("i");n=s.offset+s.howMany}else if(s.type=="remove"){for(let l=0;l<s.howMany;l++)t.push("r");n=s.offset,i+=s.howMany}else t.push(..."a".repeat(s.howMany).split("")),n=s.offset+s.howMany,i+=s.howMany}if(i<o)for(let s=0;s<o-i-n;s++)t.push("e");return t}function oR(o){const e="position"in o&&o.position.root.rootName=="$graveyard",t="range"in o&&o.range.root.rootName=="$graveyard";return!e&&!t}class iR{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new I("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let i=t-1;for(const[c,u]of this._gaps)e>c&&e<u&&(e=u),i>c&&i<u&&(i=c-1);if(i<n.baseVersion||e>this.lastOperation.baseVersion)return[];let s=this._baseVersionToOperationIndex.get(e);s===void 0&&(s=0);let l=this._baseVersionToOperationIndex.get(i);return l===void 0&&(l=this._operations.length-1),this._operations.slice(s,l+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class gc extends Te{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}gc.prototype.is=function(o,e){return e?e===this.name&&(o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"):o==="rootElement"||o==="model:rootElement"||o==="element"||o==="model:element"||o==="node"||o==="model:node"};const wf="$graveyard";class rR extends Se(){constructor(e){super(),this.model=e,this.history=new iR,this.selection=new Fn(this),this.roots=new On({idProperty:"rootName"}),this.differ=new tR(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",wf),this.listenTo(e,"applyOperation",(t,n)=>{const i=n[0];i.isDocumentOperation&&this.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const i=n[0];i.isDocumentOperation&&this.history.addOperation(i)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,i,s,l)=>{const c={...n.getData(),range:s};this.differ.bufferMarkerChange(n.name,l,c),i===null&&n.on("change",(u,p)=>{const m=n.getData();this.differ.bufferMarkerChange(n.name,{...m,range:p},m)})}),this.registerPostFixer(t=>{let n=!1;for(const i of this.roots)!i.isAttached()&&!i.isEmpty&&(t.remove(t.createRangeIn(i)),n=!0);for(const i of this.model.markers)i.getRange().root.isAttached()||(t.removeMarker(i),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(wf)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new I("model-document-createroot-name-exists",this,{name:t});const n=new gc(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return Array.from(this.roots).filter(t=>t.rootName!=wf&&(e||t.isAttached())).map(t=>t.rootName)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Fb(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return b_(e.start)&&b_(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function b_(o){const e=o.textNode;if(e){const t=e.data,n=o.offset-e.startOffset;return!xh(t,n)&&!Eh(t,n)}return!0}class sR extends Se(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Br?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,i=!1){const s=e instanceof Br?e.name:e;if(s.includes(","))throw new I("markercollection-incorrect-marker-name",this);const l=this._markers.get(s);if(l){const p=l.getData(),m=l.getRange();let w=!1;return m.isEqual(t)||(l._attachLiveRange(to.fromRange(t)),w=!0),n!=l.managedUsingOperations&&(l._managedUsingOperations=n,w=!0),typeof i=="boolean"&&i!=l.affectsData&&(l._affectsData=i,w=!0),w&&this.fire(`update:${s}`,l,m,t,p),l}const c=to.fromRange(t),u=new Br(s,c,n,i);return this._markers.set(s,u),this.fire(`update:${s}`,u,null,t,{...u.getData(),range:null}),u}_remove(e){const t=e instanceof Br?e.name:e,n=this._markers.get(t);return n?(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0):!1}_refresh(e){const t=e instanceof Br?e.name:e,n=this._markers.get(t);if(!n)throw new I("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${t}`,n,i,i,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Br extends Se(Go){constructor(e,t,n,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new I("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Br.prototype.is=function(o){return o==="marker"||o==="model:marker"};class aR extends ln{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new I("detach-operation-on-document-node",this)}_execute(){l_(L._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class _o extends Go{constructor(e){super(),this.markers=new Map,this._children=new Js,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(Te.fromJSON(n)):t.push(Oe.fromJSON(n));return new _o(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=lR(t);for(const i of n)i.parent!==null&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}}_o.prototype.is=function(o){return o==="documentFragment"||o==="model:documentFragment"};function lR(o){return typeof o=="string"?[new Oe(o)]:(Ft(o)||(o=[o]),Array.from(o).map(e=>typeof e=="string"?new Oe(e):e instanceof Mn?new Oe(e.data,e.getAttributes()):e))}class cR{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Oe(e,t)}createElement(e,t){return new Te(e,t)}createDocumentFragment(){return new _o}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Oe&&e.data=="")return;const i=$._createAt(t,n);if(e.parent)if(v_(e.root,i.root)){this.move(L._createOn(e),i);return}else{if(e.root.document)throw new I("model-writer-insert-forbidden-move",this);this.remove(e)}const s=i.root.document?i.root.document.version:null,l=new vt(i,e,s);if(e instanceof Oe&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),e instanceof _o)for(const[c,u]of e.markers){const p=$._createAt(u.root,0),w={range:new L(u.start._getCombined(p,i),u.end._getCombined(p,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(c)?this.updateMarker(c,w):this.addMarker(c,w)}}insertText(e,t,n,i){t instanceof _o||t instanceof Te||t instanceof $?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}insertElement(e,t,n,i){t instanceof _o||t instanceof Te||t instanceof $?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof _o||t instanceof Te?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof _o||t instanceof Te?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof L){const i=n.getMinimalFlatRanges();for(const s of i)w_(this,e,t,s)}else __(this,e,t,n)}setAttributes(e,t){for(const[n,i]of bo(e))this.setAttribute(n,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof L){const n=t.getMinimalFlatRanges();for(const i of n)w_(this,e,null,i)}else __(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const i of n.getAttributeKeys())this.removeAttribute(i,n)};if(!(e instanceof L))t(e);else for(const n of e.getItems())t(n)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof L))throw new I("writer-move-invalid-range",this);if(!e.isFlat)throw new I("writer-move-range-not-flat",this);const i=$._createAt(t,n);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!v_(e.root,i.root))throw new I("writer-move-different-document",this);const s=e.root.document?e.root.document.version:null,l=new ye(e.start,e.end.offset-e.start.offset,i,s);this.batch.addOperation(l),this.model.applyOperation(l)}remove(e){this._assertWriterUsedCorrectly();const n=(e instanceof L?e:L._createOn(e)).getMinimalFlatRanges().reverse();for(const i of n)this._addOperationForAffectedMarkers("move",i),dR(i.start,i.end.offset-i.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof Te))throw new I("writer-merge-no-element-before",this);if(!(n instanceof Te))throw new I("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(L._createIn(n),$._createAt(t,"end")),this.remove(n)}_merge(e){const t=$._createAt(e.nodeBefore,"end"),n=$._createAt(e.nodeAfter,0),i=e.root.document.graveyard,s=new $(i,[0]),l=e.root.document.version,c=new at(n,e.nodeAfter.maxOffset,t,s,l);this.batch.addOperation(c),this.model.applyOperation(c)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof Te))throw new I("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,i=new Qt($._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n=e.parent;if(!n.parent)throw new I("writer-split-element-no-parent",this);if(t||(t=n.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new I("writer-split-invalid-limit-element",this);let i,s;do{const l=n.root.document?n.root.document.version:null,c=n.maxOffset-e.offset,u=ze.getInsertionPosition(e),p=new ze(e,c,u,null,l);this.batch.addOperation(p),this.model.applyOperation(p),!i&&!s&&(i=n,s=e.parent.nextSibling),e=this.createPositionAfter(e.parent),n=e.parent}while(n!==t);return{position:e,range:new L($._createAt(i,"end"),$._createAt(s,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new I("writer-wrap-range-not-flat",this);const n=t instanceof Te?t:new Te(t);if(n.childCount>0)throw new I("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new I("writer-wrap-element-attached",this);this.insert(n,e.start);const i=new L(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,$._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new I("writer-unwrap-element-no-parent",this);this.move(L._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new I("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,i=t.range,s=t.affectsData===void 0?!1:t.affectsData;if(this.model.markers.has(e))throw new I("writer-addmarker-marker-exists",this);if(!i)throw new I("writer-addmarker-no-range",this);return n?(ra(this,e,null,i,s),this.model.markers.get(e)):this.model.markers._set(e,i,n,s)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,i=this.model.markers.get(n);if(!i)throw new I("writer-updatemarker-marker-not-exists",this);if(!t){Ee("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),this.model.markers._refresh(i);return}const s=typeof t.usingOperation=="boolean",l=typeof t.affectsData=="boolean",c=l?t.affectsData:i.affectsData;if(!s&&!t.range&&!l)throw new I("writer-updatemarker-wrong-options",this);const u=i.getRange(),p=t.range?t.range:u;if(s&&t.usingOperation!==i.managedUsingOperations){t.usingOperation?ra(this,n,null,p,c):(ra(this,n,u,null,c),this.model.markers._set(n,p,void 0,c));return}i.managedUsingOperations?ra(this,n,u,p,c):this.model.markers._set(n,p,void 0,c)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new I("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations){this.model.markers._remove(t);return}const i=n.getRange();ra(this,t,i,null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new I("writer-addroot-root-exists",this);const i=this.model.document,s=new no(e,t,!0,i,i.version);return this.batch.addOperation(s),this.model.applyOperation(s),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new I("writer-detachroot-no-root",this);for(const s of this.model.markers)s.getRange().root===t&&this.removeMarker(s);for(const s of t.getAttributeKeys())this.removeAttribute(s,t);this.remove(this.createRangeIn(t));const n=this.model.document,i=new no(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,i]of bo(e))this._setSelectionAttribute(n,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Fn._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Fn._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new I("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let s=!1;if(e==="move"){const l=t;s=l.containsPosition(i.start)||l.start.isEqual(i.start)||l.containsPosition(i.end)||l.end.isEqual(i.end)}else{const l=t,c=l.nodeBefore,u=l.nodeAfter,p=i.start.parent==c&&i.start.isAtEnd,m=i.end.parent==u&&i.end.offset==0,w=i.end.nodeAfter==u,x=i.start.nodeAfter==u;s=p||m||w||x}s&&this.updateMarker(n.name,{range:i})}}}function w_(o,e,t,n){const i=o.model,s=i.document;let l=n.start,c,u,p;for(const w of n.getWalker({shallow:!0}))p=w.item.getAttribute(e),c&&u!=p&&(u!=t&&m(),l=c),c=w.nextPosition,u=p;c instanceof $&&c!=l&&u!=t&&m();function m(){const w=new L(l,c),x=w.root.document?s.version:null,T=new ht(w,e,u,t,x);o.batch.addOperation(T),i.applyOperation(T)}}function __(o,e,t,n){const i=o.model,s=i.document,l=n.getAttribute(e);let c,u;if(l!=t){if(n.root===n){const m=n.document?s.version:null;u=new wo(n,e,l,t,m)}else{c=new L($._createBefore(n),o.createPositionAfter(n));const m=c.root.document?s.version:null;u=new ht(c,e,l,t,m)}o.batch.addOperation(u),i.applyOperation(u)}}function ra(o,e,t,n,i){const s=o.model,l=s.document,c=new Gt(e,t,n,s.markers,!!i,l.version);o.batch.addOperation(c),s.applyOperation(c)}function dR(o,e,t,n){let i;if(o.root.document){const s=n.document,l=new $(s.graveyard,[0]);i=new ye(o,e,l,s.version)}else i=new aR(o,e);t.addOperation(i),n.applyOperation(i)}function v_(o,e){return o===e||o instanceof gc&&e instanceof gc}function uR(o,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const i=o.schema;o.change(s=>{if(!t.doNotResetEntireContent&&_R(i,e)){wR(s,e);return}const l={};if(!t.doNotAutoparagraph){const p=e.getSelectedElement();p&&Object.assign(l,i.getAttributesWithProperty(p,"copyOnReplace",!0))}const[c,u]=hR(n);c.isTouching(u)||s.remove(s.createRange(c,u)),t.leaveUnmerged||(pR(s,c,u),i.removeDisallowedAttributes(c.parent.getChildren(),s)),x_(s,e,c),!t.doNotAutoparagraph&&kR(i,c)&&y_(s,c,e,l),c.detach(),u.detach()})}function hR(o){const e=o.root.document.model,t=o.start;let n=o.end;if(e.hasContent(o,{ignoreMarkers:!0})){const i=fR(n);if(i&&n.isTouching(e.createPositionAt(i,0))){const s=e.createSelection(o);e.modifySelection(s,{direction:"backward"});const l=s.getLastPosition(),c=e.createRange(l,n);e.hasContent(c,{ignoreMarkers:!0})||(n=l)}}return[Zt.fromPosition(t,"toPrevious"),Zt.fromPosition(n,"toNext")]}function fR(o){const e=o.parent,t=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const i of n){if(t.isLimit(i))return null;if(t.isBlock(i))return i}}function pR(o,e,t){const n=o.model;if(!_f(o.model.schema,e,t))return;const[i,s]=mR(e,t);!i||!s||(!n.hasContent(i,{ignoreMarkers:!0})&&n.hasContent(s,{ignoreMarkers:!0})?A_(o,e,t,i.parent):C_(o,e,t,i.parent))}function C_(o,e,t,n){const i=e.parent,s=t.parent;if(!(i==n||s==n)){for(e=o.createPositionAfter(i),t=o.createPositionBefore(s),t.isEqual(e)||o.insert(s,e),o.merge(e);t.parent.isEmpty;){const l=t.parent;t=o.createPositionBefore(l),o.remove(l)}_f(o.model.schema,e,t)&&C_(o,e,t,n)}}function A_(o,e,t,n){const i=e.parent,s=t.parent;if(!(i==n||s==n)){for(e=o.createPositionAfter(i),t=o.createPositionBefore(s),t.isEqual(e)||o.insert(i,t);e.parent.isEmpty;){const l=e.parent;e=o.createPositionBefore(l),o.remove(l)}t=o.createPositionBefore(s),gR(o,t),_f(o.model.schema,e,t)&&A_(o,e,t,n)}}function gR(o,e){const t=e.nodeBefore,n=e.nodeAfter;t.name!=n.name&&o.rename(t,n.name),o.clearAttributes(t),o.setAttributes(Object.fromEntries(n.getAttributes()),t),o.merge(e)}function _f(o,e,t){const n=e.parent,i=t.parent;return n==i||o.isLimit(n)||o.isLimit(i)?!1:bR(e,t,o)}function mR(o,e){const t=o.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]&&t[i]==n[i];)i++;return[t[i],n[i]]}function kR(o,e){const t=o.checkChild(e,"$text"),n=o.checkChild(e,"paragraph");return!t&&n}function bR(o,e,t){const n=new L(o,e);for(const i of n.getWalker())if(t.isLimit(i.item))return!1;return!0}function y_(o,e,t,n={}){const i=o.createElement("paragraph");o.model.schema.setAllowedAttributes(i,n,o),o.insert(i,e),x_(o,t,o.createPositionAt(i,0))}function wR(o,e){const t=o.model.schema.getLimitElement(e);o.remove(o.createRangeIn(t)),y_(o,o.createPositionAt(t,0),e)}function _R(o,e){const t=o.getLimitElement(e);if(!e.containsEntireContent(t))return!1;const n=e.getFirstRange();return n.start.parent==n.end.parent?!1:o.checkChild(t,"paragraph")}function x_(o,e,t){e instanceof Fn?o.setSelection(t):e.setTo(t)}function vR(o,e){return o.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const s=i.start.root,l=i.start.getCommonPath(i.end),c=s.getNodeByPath(l);let u;i.start.parent==i.end.parent?u=i:u=t.createRange(t.createPositionAt(c,i.start.path[l.length]),t.createPositionAt(c,i.end.path[l.length]+1));const p=u.end.offset-u.start.offset;for(const m of u.getItems({shallow:!0}))m.is("$textProxy")?t.appendText(m.data,m.getAttributes(),n):t.append(t.cloneElement(m,!0),n);if(u!=i){const m=i._getTransformedByMove(u.start,t.createPositionAt(n,0),p)[0],w=t.createRange(t.createPositionAt(n,0),m.start),x=t.createRange(m.end,t.createPositionAt(n,"end"));E_(x,t),E_(w,t)}return n})}function E_(o,e){const t=[];Array.from(o.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(o.start)||n.start.isEqual(o.start))&&(n.end.isBefore(o.end)||n.end.isEqual(o.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let i=n;for(;i.parent&&i.isEmpty;){const s=e.createRangeOn(i);i=i.parent,e.remove(s)}})}function CR(o,e,t){return o.change(n=>{const i=t||o.document.selection;i.isCollapsed||o.deleteContent(i,{doNotAutoparagraph:!0});const s=new AR(o,n,i.anchor),l=[];let c;if(e.is("documentFragment")){if(e.markers.size){const m=[];for(const[w,x]of e.markers){const{start:T,end:M}=x,F=T.isEqual(M);m.push({position:T,name:w,isCollapsed:F},{position:M,name:w,isCollapsed:F})}m.sort(({position:w},{position:x})=>w.isBefore(x)?1:-1);for(const{position:w,name:x,isCollapsed:T}of m){let M=null,F=null;const W=w.parent===e&&w.isAtStart,K=w.parent===e&&w.isAtEnd;!W&&!K?(M=n.createElement("$marker"),n.insert(M,w)):T&&(F=W?"start":"end"),l.push({name:x,element:M,collapsed:F})}}c=e.getChildren()}else c=[e];s.handleNodes(c);let u=s.getSelectionRange();if(e.is("documentFragment")&&l.length){const m=u?to.fromRange(u):null,w={};for(let x=l.length-1;x>=0;x--){const{name:T,element:M,collapsed:F}=l[x],W=!w[T];if(W&&(w[T]=[]),M){const K=n.createPositionAt(M,"before");w[T].push(K),n.remove(M)}else{const K=s.getAffectedRange();if(!K){F&&w[T].push(s.position);continue}F?w[T].push(K[F]):w[T].push(W?K.start:K.end)}}for(const[x,[T,M]]of Object.entries(w))T&&M&&T.root===M.root&&n.addMarker(x,{usingOperation:!0,affectsData:!0,range:new L(T,M)});m&&(u=m.toRange(),m.detach())}u&&(i instanceof Fn?n.setSelection(u):i.setTo(u));const p=s.getAffectedRange()||o.createRange(i.anchor);return s.destroy(),p})}class AR{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new I("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?L._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new L(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e)){this._handleObject(e);return}let t=this._checkAndAutoParagraphToAllowedPosition(e);if(!t&&(t=this._checkAndSplitToAllowedPosition(e),!t)){this._handleDisallowedNode(e);return}this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Zt.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new I("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Zt.fromPosition(e,"toPrevious")),(!this._affectedEnd||this._affectedEnd.isBefore(e))&&(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Zt.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Te)||!this._canMergeLeft(e))return;const t=Zt._createBefore(e);t.stickiness="toNext";const n=Zt.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=Zt._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Zt._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Te)||!this._canMergeRight(e))return;const t=Zt._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new I("insertcontent-invalid-insertion-position",this);this.position=$._createAt(t.nodeBefore,"end");const n=Zt.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=Zt._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Zt._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof Te&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof Te&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function S_(o,e,t="auto"){const n=o.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const i=_t(o.getSelectedBlocks());if(!i)return e.createRange(o.focus);if(i.isEmpty)return e.createRange(e.createPositionAt(i,0));const s=e.createPositionAfter(i);return o.focus.isTouching(s)?e.createRange(s):e.createRange(e.createPositionBefore(i))}function yR(o,e,t,n={}){if(!o.schema.isObject(e))throw new I("insertobject-element-not-an-object",o,{object:e});const i=t||o.document.selection;let s=i;n.findOptimalPosition&&o.schema.isBlock(e)&&(s=o.createSelection(S_(i,o,n.findOptimalPosition)));const l=_t(i.getSelectedBlocks()),c={};return l&&Object.assign(c,o.schema.getAttributesWithProperty(l,"copyOnReplace",!0)),o.change(u=>{s.isCollapsed||o.deleteContent(s,{doNotAutoparagraph:!0});let p=e;const m=s.anchor.parent;!o.schema.checkChild(m,e)&&o.schema.checkChild(m,"paragraph")&&o.schema.checkChild("paragraph",e)&&(p=u.createElement("paragraph"),u.insert(e,p)),o.schema.setAllowedAttributes(p,c,u);const w=o.insertContent(p,s);return w.isCollapsed||n.setSelection&&xR(u,e,n.setSelection,c),w})}function xR(o,e,t,n){const i=o.model;if(t=="on"){o.setSelection(e,"on");return}if(t!="after")throw new I("insertobject-invalid-place-parameter-value",i);let s=e.nextSibling;if(i.schema.isInline(e)){o.setSelection(e,"after");return}!(s&&i.schema.checkChild(s,"$text"))&&i.schema.checkChild(e.parent,"paragraph")&&(s=o.createElement("paragraph"),i.schema.setAllowedAttributes(s,n,o),i.insertContent(s,o.createPositionAfter(e))),s&&o.setSelection(s,0)}const ER=' ,.?!:;"-()';function SR(o,e,t={}){const n=o.schema,i=t.direction!="backward",s=t.unit?t.unit:"character",l=!!t.treatEmojiAsSingleUnit,c=e.focus,u=new eo({boundaries:IR(c,i),singleCharacters:!0,direction:i?"forward":"backward"}),p={walker:u,schema:n,isForward:i,unit:s,treatEmojiAsSingleUnit:l};let m;for(;m=u.next();){if(m.done)return;const w=DR(p,m.value);if(w){e instanceof Fn?o.change(x=>{x.setSelectionFocus(w)}):e.setFocus(w);return}}}function DR(o,e){const{isForward:t,walker:n,unit:i,schema:s,treatEmojiAsSingleUnit:l}=o,{type:c,item:u,nextPosition:p}=e;if(c=="text")return o.unit==="word"?PR(n,t):TR(n,i,l);if(c==(t?"elementStart":"elementEnd")){if(s.isSelectable(u))return $._createAt(u,t?"after":"before");if(s.checkChild(p,"$text"))return p}else{if(s.isLimit(u)){n.skip(()=>!0);return}if(s.checkChild(p,"$text"))return p}}function TR(o,e,t){const n=o.position.textNode;if(n){const i=n.data;let s=o.position.offset-n.startOffset;for(;xh(i,s)||e=="character"&&Eh(i,s)||t&&ab(i,s);)o.next(),s=o.position.offset-n.startOffset}return o.position}function PR(o,e){let t=o.position.textNode;for(t||(t=e?o.position.nodeAfter:o.position.nodeBefore);t&&t.is("$text");){const n=o.position.offset-t.startOffset;if(RR(t,n,e))t=e?o.position.nodeAfter:o.position.nodeBefore;else{if(BR(t.data,n,e))break;o.next()}}return o.position}function IR(o,e){const t=o.root,n=$._createAt(t,e?"end":0);return e?new L(o,n):new L(n,o)}function BR(o,e,t){const n=e+(t?0:-1);return ER.includes(o.charAt(n))}function RR(o,e,t){return e===(t?o.offsetSize:0)}class OR extends De(){constructor(){super(),this.markers=new sR,this.document=new rR(this),this.schema=new _B,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),uB(this),this.document.registerPostFixer(Qw),this.on("insertContent",(e,[t,n])=>{e.return=CR(this,t,n)}),this.on("insertObject",(e,[t,n,i])=>{e.return=yR(this,t,n,i)})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Ir,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){I.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Ir):e instanceof Ir||(e=new Ir(e)):e=new Ir,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){I.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...i){const s=D_(t,n);return this.fire("insertContent",[e,s,n,...i])}insertObject(e,t,n,i,...s){const l=D_(t,n);return this.fire("insertObject",[e,l,i,i,...s])}deleteContent(e,t){uR(this,e,t)}modifySelection(e,t){SR(this,e,t)}getSelectedContent(e){return vR(this,e)}hasContent(e,t={}){const n=e instanceof L?e:L._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:s=!1}=t;if(!s){for(const l of this.markers.getMarkersIntersectingRange(n))if(l.affectsData)return!0}for(const l of n.getItems())if(this.schema.isContent(l))if(l.is("$textProxy"))if(i){if(l.data.search(/\S/)!==-1)return!0}else return!0;else return!0;return!1}createPositionFromPath(e,t,n){return new $(e,t,n)}createPositionAt(e,t){return $._createAt(e,t)}createPositionAfter(e){return $._createAfter(e)}createPositionBefore(e){return $._createBefore(e)}createRange(e,t){return new L(e,t)}createRangeIn(e){return L._createIn(e)}createRangeOn(e){return L._createOn(e)}createSelection(...e){return new Nn(...e)}createBatch(e){return new Ir(e)}createOperationFromJSON(e){return KB.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new cR(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function D_(o,e){if(o)return o instanceof Nn||o instanceof Fn?o:o instanceof Li?new Nn(o,e):new Nn(o)}class zR extends Ko{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class vf extends Ko{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Rr{constructor(e){this.document=e}createDocumentFragment(e){return new Fi(this.document,e)}createElement(e,t,n){return new sn(this.document,e,t,n)}createText(e){return new Re(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new sn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){pt(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Z._createAt(e,t)}createPositionAfter(e){return Z._createAfter(e)}createPositionBefore(e){return Z._createBefore(e)}createRange(e,t){return new le(e,t)}createRangeOn(e){return le._createOn(e)}createRangeIn(e){return le._createIn(e)}createSelection(...e){return new Jn(...e)}}class MR{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new I("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class NR extends ko{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const i=t;t=(s,l)=>{this.editor.execute(i),l()}}super.set(e,t,n)}}class FR extends De(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new Rb({language:n}),this._context._addEditor(this,!e.context);const i=Array.from(t.builtinPlugins||[]);this.config=new Lk(e,t.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new Bb(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new MR,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new OR;const s=new h5;this.data=new HB(this.model,s),this.editing=new kB(this.model,s),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new WB([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new NR(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new I("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new I("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new I("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],s=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),n,s)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){I.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function LR(o){if(!In(o.updateSourceElement))throw new I("attachtoform-missing-elementapi-interface",o);const e=o.sourceElement;if(VR(e)&&e.form){let t;const n=e.form,i=()=>o.updateSourceElement();In(n.submit)&&(t=n.submit,n.submit=()=>{i(),t.apply(n)}),n.addEventListener("submit",i),o.on("destroy",()=>{n.removeEventListener("submit",i),t&&(n.submit=t)})}}function VR(o){return!!o&&o.tagName.toLowerCase()==="textarea"}function mc(o){class e extends o{setData(n){this.data.set(n)}getData(n){return this.data.get(n)}}return e}{const o=mc(Object);mc.setData=o.prototype.setData,mc.getData=o.prototype.getData}function Cf(o){class e extends o{updateSourceElement(n=this.data.get()){if(!this.sourceElement)throw new I("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!s){Gk(this.sourceElement,"");return}Gk(this.sourceElement,n)}}return e}Cf.updateSourceElement=Cf(Object).prototype.updateSourceElement;class T_ extends Ob{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new On({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new I("pendingactions-add-invalid-message",this);const t=new(De());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const kt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var P_=f(5571),Af={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Af.insert="head",Af.singleton=!0,de()(P_.Z,Af),P_.Z.locals;const{threeVerticalDots:I_}=kt,jR={alignLeft:kt.alignLeft,bold:kt.bold,importExport:kt.importExport,paragraph:kt.paragraph,plus:kt.plus,text:kt.text,threeVerticalDots:kt.threeVerticalDots};class yf extends be{constructor(e,t){super(e);const n=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new zn,this.keystrokes=new ko,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new HR(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const s=e.uiLanguageDirection==="rtl";this._focusCycler=new $s({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[s?"arrowright":"arrowleft","arrowup"],focusNext:[s?"arrowleft":"arrowright","arrowdown"]}});const l=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];this.options.shouldGroupWhenFull&&this.options.isFloating&&l.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:l,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:OD(this)}}),this._behavior=this.options.shouldGroupWhenFull?new WR(this):new UR(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const i=Db(e),s=n||i.removeItems;return this._cleanItemsConfiguration(i.items,t,s).map(c=>Ne(c)?this._createNestedToolbarDropdown(c,t,s):c==="|"?new Sb:c==="-"?new RD:t.create(c)).filter(c=>!!c)}_cleanItemsConfiguration(e,t,n){const i=e.filter((s,l,c)=>s==="|"?!0:n.indexOf(s)!==-1?!1:s==="-"?this.options.shouldGroupWhenFull?(Ee("toolbarview-line-break-ignored-when-grouping-items",c),!1):!0:!Ne(s)&&!t.has(s)?(Ee("toolbarview-item-unavailable",{item:s}),!1):!0);return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=l=>l!=="-"&&l!=="|",n=e.length,i=e.findIndex(t);if(i===-1)return[];const s=n-e.slice().reverse().findIndex(t);return e.slice(i,s).filter((l,c,u)=>t(l)?!0:!(c>0&&u[c-1]===l))}_createNestedToolbarDropdown(e,t,n){let{label:i,icon:s,items:l,tooltip:c=!0,withText:u=!1}=e;if(l=this._cleanItemsConfiguration(l,t,n),!l.length)return null;const p=this.locale,m=Wi(p);return i||Ee("toolbarview-nested-toolbar-dropdown-missing-label",e),m.class="ck-toolbar__nested-toolbar-dropdown",m.buttonView.set({label:i,tooltip:c,withText:!!u}),s!==!1?m.buttonView.icon=jR[s]||s||I_:m.buttonView.withText=!0,Df(m,()=>m.toolbarView._buildItemsFromConfig(l,t,n)),m}}class HR extends be{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class UR{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class WR{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const i=n.index,s=Array.from(n.added);for(const l of n.removed)i>=this.ungroupedItems.length?this.groupedItems.remove(l):this.ungroupedItems.remove(l);for(let l=i;l<i+s.length;l++){const c=s[l-i];l>this.ungroupedItems.length?this.groupedItems.add(c,l-this.ungroupedItems.length):this.ungroupedItems.add(c,l)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ii(this.viewElement)){this.shouldUpdateGroupingOnNextResize=!0;return}const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new st(e.lastChild),i=new st(e);if(!this.cachedPadding){const s=ke.window.getComputedStyle(e),l=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(s[l])}return t==="ltr"?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new qe(this.viewElement,t=>{(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize)&&(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Sb),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Wi(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Df(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:I_}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var B_=f(1162),xf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};xf.insert="head",xf.singleton=!0,de()(B_.Z,xf),B_.Z.locals;class $R extends be{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new zn,this.keystrokes=new ko,this._focusCycler=new $s({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class R_ extends be{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)]},children:this.children})}focus(){this.children.first.focus()}}class qR extends be{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var O_=f(5075),Ef={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ef.insert="head",Ef.singleton=!0,de()(O_.Z,Ef),O_.Z.locals;var z_=f(6875),Sf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sf.insert="head",Sf.singleton=!0,de()(z_.Z,Sf),z_.Z.locals;function Wi(o,e=BD){const t=new e(o),n=new ID(o),i=new Er(o,t,n);return t.bind("isEnabled").to(i),t instanceof Nh?t.arrowView.bind("isOn").to(i,"isOpen"):t.bind("isOn").to(i,"isOpen"),KR(i),i}function Df(o,e,t={}){o.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.isOpen?M_(o,e,t):o.once("change:isOpen",()=>M_(o,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&L_(o,()=>o.toolbarView.items.find(n=>n.isOn))}function M_(o,e,t){const n=o.locale,i=n.t,s=o.toolbarView=new yf(n),l=typeof e=="function"?e():e;s.ariaLabel=t.ariaLabel||i("Dropdown toolbar"),t.maxWidth&&(s.maxWidth=t.maxWidth),t.class&&(s.class=t.class),t.isCompact&&(s.isCompact=t.isCompact),t.isVertical&&(s.isVertical=!0),l instanceof Bi?s.items.bindTo(l).using(c=>c):s.items.addMany(l),o.panelView.children.add(s),s.items.delegate("execute").to(o)}function N_(o,e,t={}){o.isOpen?F_(o,e,t):o.once("change:isOpen",()=>F_(o,e,t),{priority:"highest"}),L_(o,()=>o.listView.items.find(n=>n instanceof R_?n.children.first.isOn:!1))}function F_(o,e,t){const n=o.locale,i=o.listView=new $R(n),s=typeof e=="function"?e():e;i.ariaLabel=t.ariaLabel,i.items.bindTo(s).using(l=>{if(l.type==="separator")return new qR(n);if(l.type==="button"||l.type==="switchbutton"){const c=new R_(n);let u;return l.type==="button"?u=new Ye(n):u=new Xl(n),u.bind(...Object.keys(l.model)).to(l.model),u.delegate("execute").to(c),c.children.add(u),c}return null}),o.panelView.children.add(i),i.items.delegate("execute").to(o)}function L_(o,e){o.on("change:isOpen",()=>{if(!o.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():Ee("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:se.low-10})}function KR(o){GR(o),QR(o),ZR(o),JR(o),YR(o),XR(o)}function GR(o){o.on("render",()=>{b({emitter:o,activator:()=>o.isOpen,callback:()=>{o.isOpen=!1},contextElements:[o.element]})})}function QR(o){o.on("execute",e=>{e.source instanceof Xl||(o.isOpen=!1)})}function ZR(o){o.focusTracker.on("change:isFocused",(e,t,n)=>{o.isOpen&&!n&&(o.isOpen=!1)})}function JR(o){o.keystrokes.set("arrowdown",(e,t)=>{o.isOpen&&(o.panelView.focus(),t())}),o.keystrokes.set("arrowup",(e,t)=>{o.isOpen&&(o.panelView.focusLast(),t())})}function YR(o){o.on("change:isOpen",(e,t,n)=>{if(n)return;const i=o.panelView.element;i&&i.contains(ke.document.activeElement)&&o.buttonView.focus()})}function XR(o){o.on("change:isOpen",(e,t,n)=>{n&&o.panelView.focus()},{priority:"low"})}var V_=f(8245),Tf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Tf.insert="head",Tf.singleton=!0,de()(V_.Z,Tf),V_.Z.locals;const j_=_h("px"),H_=ke.document.body;class Vt extends be{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",n=>`ck-balloon-panel_${n}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",j_),left:t.to("left",j_)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=Vt.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:H_,fitInViewport:!0},e),i=Vt._getOptimalPosition(n),s=parseInt(i.left),l=parseInt(i.top),c=i.name,u=i.config||{},{withArrow:p=!0}=u;this.top=l,this.left=s,this.position=c,this.withArrow=p}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Pf(e.target),n=e.limiter?Pf(e.limiter):H_;this.listenTo(ke.document,"scroll",(i,s)=>{const l=s.target,c=t&&l.contains(t),u=n&&l.contains(n);(c||u||!t||!n)&&this.attachTo(e)},{useCapture:!0}),this.listenTo(ke.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(ke.document,"scroll"),this.stopListening(ke.window,"resize")}}Vt.arrowSideOffset=25,Vt.arrowHeightOffset=10,Vt.stickyVerticalOffset=20,Vt._getOptimalPosition=Zk,Vt.defaultPositions=U_();function Pf(o){return vr(o)?o:Gl(o)?o.commonAncestorContainer:typeof o=="function"?Pf(o()):null}function U_(o={}){const{sideOffset:e=Vt.arrowSideOffset,heightOffset:t=Vt.arrowHeightOffset,stickyVerticalOffset:n=Vt.stickyVerticalOffset,config:i}=o;return{northWestArrowSouthWest:(c,u)=>({top:s(c,u),left:c.left-e,name:"arrow_sw",...i&&{config:i}}),northWestArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.left-u.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northWestArrowSouth:(c,u)=>({top:s(c,u),left:c.left-u.width/2,name:"arrow_s",...i&&{config:i}}),northWestArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.left-u.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northWestArrowSouthEast:(c,u)=>({top:s(c,u),left:c.left-u.width+e,name:"arrow_se",...i&&{config:i}}),northArrowSouthWest:(c,u)=>({top:s(c,u),left:c.left+c.width/2-e,name:"arrow_sw",...i&&{config:i}}),northArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northArrowSouth:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width/2,name:"arrow_s",...i&&{config:i}}),northArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northArrowSouthEast:(c,u)=>({top:s(c,u),left:c.left+c.width/2-u.width+e,name:"arrow_se",...i&&{config:i}}),northEastArrowSouthWest:(c,u)=>({top:s(c,u),left:c.right-e,name:"arrow_sw",...i&&{config:i}}),northEastArrowSouthMiddleWest:(c,u)=>({top:s(c,u),left:c.right-u.width*.25-e,name:"arrow_smw",...i&&{config:i}}),northEastArrowSouth:(c,u)=>({top:s(c,u),left:c.right-u.width/2,name:"arrow_s",...i&&{config:i}}),northEastArrowSouthMiddleEast:(c,u)=>({top:s(c,u),left:c.right-u.width*.75+e,name:"arrow_sme",...i&&{config:i}}),northEastArrowSouthEast:(c,u)=>({top:s(c,u),left:c.right-u.width+e,name:"arrow_se",...i&&{config:i}}),southWestArrowNorthWest:c=>({top:l(c),left:c.left-e,name:"arrow_nw",...i&&{config:i}}),southWestArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.left-u.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southWestArrowNorth:(c,u)=>({top:l(c),left:c.left-u.width/2,name:"arrow_n",...i&&{config:i}}),southWestArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.left-u.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southWestArrowNorthEast:(c,u)=>({top:l(c),left:c.left-u.width+e,name:"arrow_ne",...i&&{config:i}}),southArrowNorthWest:c=>({top:l(c),left:c.left+c.width/2-e,name:"arrow_nw",...i&&{config:i}}),southArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southArrowNorth:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width/2,name:"arrow_n",...i&&{config:i}}),southArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southArrowNorthEast:(c,u)=>({top:l(c),left:c.left+c.width/2-u.width+e,name:"arrow_ne",...i&&{config:i}}),southEastArrowNorthWest:c=>({top:l(c),left:c.right-e,name:"arrow_nw",...i&&{config:i}}),southEastArrowNorthMiddleWest:(c,u)=>({top:l(c),left:c.right-u.width*.25-e,name:"arrow_nmw",...i&&{config:i}}),southEastArrowNorth:(c,u)=>({top:l(c),left:c.right-u.width/2,name:"arrow_n",...i&&{config:i}}),southEastArrowNorthMiddleEast:(c,u)=>({top:l(c),left:c.right-u.width*.75+e,name:"arrow_nme",...i&&{config:i}}),southEastArrowNorthEast:(c,u)=>({top:l(c),left:c.right-u.width+e,name:"arrow_ne",...i&&{config:i}}),westArrowEast:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.left-u.width-t,name:"arrow_e",...i&&{config:i}}),eastArrowWest:(c,u)=>({top:c.top+c.height/2-u.height/2,left:c.right+t,name:"arrow_w",...i&&{config:i}}),viewportStickyNorth:(c,u,p)=>c.getIntersection(p)?{top:p.top+n,left:c.left+c.width/2-u.width/2,name:"arrowless",config:{withArrow:!1,...i}}:null};function s(c,u){return c.top-u.height-t}function l(c){return c.bottom+t}}var W_=f(9948),If={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};If.insert="head",If.singleton=!0,de()(W_.Z,If),W_.Z.locals;const $_="ck-tooltip";class Ct extends Pi(){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ct._editors.add(e),Ct._instance)return Ct._instance;Ct._instance=this,this.tooltipTextView=new be(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Vt(e.locale),this.balloonPanelView.class=$_,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Zs(this._pinTooltip,600),this.listenTo(ke.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ke.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ke.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Ct._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Ct._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ct._instance=null)}static getPositioningFunctions(e){const t=Ct.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:t}){const n=Bf(t);n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,eO(n)))}_onLeaveOrBlur(e,{target:t,relatedTarget:n}){if(e.name==="mouseleave"){if(!vr(t)||this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;const i=Bf(t),s=Bf(n);i&&i!==s&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&t!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:t}){this._currentElementWithTooltip&&(t.contains(this.balloonPanelView.element)&&t.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:t,position:n,cssClass:i}){const s=_t(Ct._editors.values()).ui.view.body;s.has(this.balloonPanelView)||s.add(this.balloonPanelView),this.tooltipTextView.text=t,this.balloonPanelView.pin({target:e,positions:Ct.getPositioningFunctions(n)}),this._resizeObserver=new qe(e,()=>{Ii(e)||this._unpinTooltip()}),this.balloonPanelView.class=[$_,i].filter(l=>l).join(" ");for(const l of Ct._editors)this.listenTo(l.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Ct._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){if(!Ii(this._currentElementWithTooltip)){this._unpinTooltip();return}this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ct.getPositioningFunctions(this._currentTooltipPosition)})}}Ct.defaultBalloonPositions=U_({heightOffset:5,sideOffset:13}),Ct._editors=new Set,Ct._instance=null;function Bf(o){return vr(o)?o.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function eO(o){return{text:o.dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}}class tO extends De(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=e,this.componentFactory=new PD(e),this.focusTracker=new zn,this.tooltipManager=new Ct(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,i;e.keystrokes.set("Alt+F10",(s,l)=>{const c=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(c)&&!Array.from(t.domRoots.values()).includes(c)&&(n=c);const u=this._getCurrentFocusedToolbarDefinition();(!u||!i)&&(i=this._getFocusableCandidateToolbarDefinitions());for(let p=0;p<i.length;p++){const m=i.shift();if(i.push(m),m!==u&&this._focusFocusableCandidateToolbar(m)){u&&u.options.afterBlur&&u.options.afterBlur();break}}l()}),e.keystrokes.set("Esc",(s,l)=>{const c=this._getCurrentFocusedToolbarDefinition();c&&(n?(n.focus(),n=null):e.editing.view.focus(),c.options.afterBlur&&c.options.afterBlur(),l())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=t;(Ii(n.element)||i.beforeFocus)&&e.push(t)}return e.sort((t,n)=>q_(t)-q_(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),Ii(t.element)?(t.focus(),!0):!1}}function q_(o){const{toolbarView:e,options:t}=o;let n=10;return Ii(e.element)&&n--,t.isContextual&&n--,n}var K_=f(4547),Rf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Rf.insert="head",Rf.singleton=!0,de()(K_.Z,Rf),K_.Z.locals;class nO extends be{constructor(e){super(e),this.body=new TD(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var G_=f(2751),Of={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Of.insert="head",Of.singleton=!0,de()(G_.Z,Of),G_.Z.locals;class Q_ extends be{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${ut()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class oO extends nO{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Q_;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class iO extends be{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;e.isRenderingInProgress?n(this):t(this);function t(i){e.change(s=>{const l=e.document.getRoot(i.name);s.addClass(i.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(i.isFocused?"ck-blurred":"ck-focused",l)})}function n(i){e.once("change:isRenderingInProgress",(s,l,c)=>{c?n(i):t(i)})}}}class rO extends iO{constructor(e,t,n,i={}){super(e,t,n);const s=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>s("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}var Z_=f(5523),zf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zf.insert="head",zf.singleton=!0,de()(Z_.Z,zf),Z_.Z.locals;var J_=f(6985),Mf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mf.insert="head",Mf.singleton=!0,de()(J_.Z,Mf),J_.Z.locals;class sO extends be{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new zn,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=aO(this.element)}_setDomElementValue(e){this.element.value=!e&&e!==0?"":e}}function aO(o){return!o.value}class lO extends sO{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var Y_=f(8111),Nf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Nf.insert="head",Nf.singleton=!0,de()(Y_.Z,Nf),Y_.Z.locals;class X_ extends be{constructor(e,t){super(e);const n=`ck-labeled-field-view-${ut()}`,i=`ck-labeled-field-view-status-${ut()}`;this.fieldView=t(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(l,c)=>l||c);const s=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l),s.if("isEmpty","ck-labeled-field-view_empty"),s.if("isFocused","ck-labeled-field-view_focused"),s.if("placeholder","ck-labeled-field-view_placeholder"),s.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Q_(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new be(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",i=>!i)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}function ev(o,e,t){const n=new lO(o.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(o,"isEnabled",i=>!i),n.bind("hasError").to(o,"errorText",i=>!!i),n.on("input",()=>{o.errorText=null}),o.bind("isEmpty","isFocused","placeholder").to(n),n}class tv extends Ob{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class nv extends De(){constructor(e,t){super(),t&&kw(this,t),e&&this.set(e)}}const cO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',dO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var ov=f(1757),Ff={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ff.insert="head",Ff.singleton=!0,de()(ov.Z,Ff),ov.Z.locals;var iv=f(3553),Lf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Lf.insert="head",Lf.singleton=!0,de()(iv.Z,Lf),iv.Z.locals;const kc=_h("px");class bc extends Y{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,i=t.document.selection.editableElement;return i?t.domConverter.mapViewToDom(i.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new I("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,(!this._visibleStack||e.singleViewMode)&&this.showStack(t);return}const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new I("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new I("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Vt(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(n=>n[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new uO(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,i)=>!i&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,i)=>{if(i<2)return"";const s=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[s,i])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new hO(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class uO extends be{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new zn,this.buttonPrevView=this._createButtonView(t("Previous"),cO),this.buttonNextView=this._createButtonView(t("Next"),dO),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",i=>i?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new Ye(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class hO extends be{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",i=>i?"":"ck-hidden")],style:{top:n.to("top",kc),left:n.to("left",kc),width:n.to("width",kc),height:n.to("height",kc)}},children:this.content}),this.on("change:numberOfPanels",(i,s,l,c)=>{l>c?this._addPanels(l-c):this._removePanels(c-l),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new be;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:i}=new st(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}var rv=f(3609),Vf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vf.insert="head",Vf.singleton=!0,de()(rv.Z,Vf),rv.Z.locals;const sa=_h("px");class fO extends be{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Gn({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",n=>n?"block":"none"),height:t.to("isSticky",n=>n?sa(this._panelRect.height):null)}}}).render(),this._contentPanel=new Gn({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",n=>n?sa(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",n=>n?sa(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",n=>n?sa(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(ke.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:sa(-ke.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var sv=f(6706),jf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};jf.insert="head",jf.singleton=!0,de()(sv.Z,jf),sv.Z.locals;class pO extends tO{constructor(e,t){super(e),this.view=t,this._toolbarConfig=Db(e.config.get("toolbar")),this._elementReplacer=new nu}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,i=t.editing.view,s=n.editable,l=i.document.getRoot();s.name=l.rootName,n.render();const c=s.element;this.setEditableElement(s.name,c),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(c),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:t})=>t||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement;let s;const l=e.config.get("placeholder");l&&(s=typeof l=="string"?l:l[this.view.editable.name]),!s&&i&&i.tagName.toLowerCase()==="textarea"&&(s=i.getAttribute("placeholder")),s&&Mb({view:t,element:n,text:s,isDirectHost:!1,keepOnFocus:!0})}}var av=f(3638),Hf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Hf.insert="head",Hf.singleton=!0,de()(av.Z,Hf),av.Z.locals;class gO extends oO{constructor(e,t,n={}){super(e),this.stickyPanel=new fO(e),this.toolbar=new yf(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new rO(e,t)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class lv{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const i of n)i.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const e=this.crashes[this.crashes.length-1].date,t=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(e-t)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Uf(o,e=new Set){const t=[o],n=new Set;let i=0;for(;t.length>i;){const s=t[i++];if(!(n.has(s)||!mO(s)||e.has(s)))if(n.add(s),Symbol.iterator in s)try{for(const l of s)t.push(l)}catch{}else for(const l in s)l!=="defaultValue"&&t.push(s[l])}return n}function mO(o){const e=Object.prototype.toString.call(o),t=typeof o;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||o===void 0||o===null||o._watchdogExcluded||o instanceof EventTarget||o instanceof Event)}function cv(o,e,t=new Set){if(o===e&&kO(o))return!0;const n=Uf(o,t),i=Uf(e,t);for(const s of n)if(i.has(s))return!0;return!1}function kO(o){return typeof o=="object"&&o!==null}var bO="Expected a function";function wO(o,e,t){var n=!0,i=!0;if(typeof o!="function")throw new TypeError(bO);return Ne(t)&&(n="leading"in t?!!t.leading:n,i="trailing"in t?!!t.trailing:i),Zs(o,e,{leading:n,maxWait:e,trailing:i})}const dv=wO;class uv extends lv{constructor(e,t={}){super(t),this._editor=null,this._throttledSave=dv(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,i)=>e.create(n,i)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames())e[t]=this._editor.data.get({rootName:t});return e}_isErrorComingFromThisItem(e){return cv(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return bh(e,(t,n)=>{if(vr(t)||n==="context")return t})}}const aa=Symbol("MainQueueId");class _O extends lv{constructor(e,t={}){super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new vO,this._watchdogConfig=t,this._creator=n=>e.create(n),this._destructor=n=>n.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(e={}){return this._actionQueues.enqueue(aa,()=>(this._contextConfig=e,this._create()))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=hv(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(n.id))throw new Error(`Item with the given id is already added: '${n.id}'.`);if(n.type==="editor")return i=new uv(null,this._watchdogConfig),i.setCreator(n.creator),i._setExcludedProperties(this._contextProps),n.destructor&&i.setDestructor(n.destructor),this._watchdogs.set(n.id,i),i.on("error",(s,{error:l,causesRestart:c})=>{this._fire("itemError",{itemId:n.id,error:l}),c&&this._actionQueues.enqueue(n.id,()=>new Promise(u=>{const p=()=>{i.off("restart",p),this._fire("itemRestart",{itemId:n.id}),u()};i.on("restart",p)}))}),i.create(n.sourceElementOrData,n.config,this._context);throw new Error(`Not supported item type: '${n.type}'.`)})))}remove(e){const t=hv(e);return Promise.all(t.map(n=>this._actionQueues.enqueue(n,()=>{const i=this._getWatchdog(n);return this._watchdogs.delete(n),i.destroy()})))}destroy(){return this._actionQueues.enqueue(aa,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(aa,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(e=>{console.error("An error happened during destroying the context or items.",e)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(e=>(this._context=e,this._contextProps=Uf(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(e))})}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return cv(this._context,e.context)}}class vO{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===aa;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const s=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(aa),this._queues.get(e)])).then(t),l=s.catch(()=>{});return this._queues.set(e,l),s.finally(()=>{this._activeActions--,this._queues.get(e)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(c=>c())})}}function hv(o){return Array.isArray(o)?o:[o]}class wc extends mc(Cf(FR)){constructor(e,t={}){if(!_c(e)&&t.initialData!==void 0)throw new I("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",CO(e)),_c(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new gO(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new pO(this,i),LR(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,t={}){return new Promise(n=>{const i=new this(e,t);n(i.initPlugins().then(()=>i.ui.init(_c(e)?e:null)).then(()=>i.data.init(i.config.get("initialData"))).then(()=>i.fire("ready")).then(()=>i))})}}wc.Context=Rb,wc.EditorWatchdog=uv,wc.ContextWatchdog=_O;function CO(o){return _c(o)?j2(o):o}function _c(o){return vr(o)}class fv{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,i)=>{i.isLocal&&i.isUndoable&&i!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){(!this.isLocked||e)&&(this._batch=null,this._size=0)}}class AO extends we{constructor(e,t){super(e),this._buffer=new fv(e.model,t)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,i=e.text||"",s=i.length;let l=n.selection;e.selection?l=e.selection:e.range&&(l=t.createSelection(e.range));const c=e.resultRange;t.enqueueChange(this._buffer.batch,u=>{this._buffer.lock(),t.deleteContent(l),i&&t.insertContent(u.createText(i,n.selection.getAttributes()),l),c?u.setSelection(c):l.is("documentSelection")||u.setSelection(l),this._buffer.unlock(),this._buffer.input(s)})}}const pv=["insertText","insertReplacementText"];class yO extends Xn{constructor(e){super(e),y.isAndroid&&pv.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,i)=>{if(!this.isEnabled)return;const{data:s,targetRanges:l,inputType:c,domEvent:u}=i;if(!pv.includes(c))return;const p=new dt(t,"insertText");t.fire(p,new Tr(e,u,{text:s,selection:e.createSelection(l)})),p.stop.called&&n.stop()}),t.on("compositionend",(n,{data:i,domEvent:s})=>{!this.isEnabled||y.isAndroid||i&&t.fire("insertText",new Tr(e,s,{text:i,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class gv extends Y{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=t.document.selection;n.addObserver(yO);const s=new AO(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",s),e.commands.add("input",s),this.listenTo(n.document,"insertText",(l,c)=>{n.document.isComposing||c.preventDefault();const{text:u,selection:p,resultRange:m}=c,w=Array.from(p.getRanges()).map(M=>e.editing.mapper.toModelRange(M));let x=u;if(y.isAndroid){const M=Array.from(w[0].getItems()).reduce((F,W)=>F+(W.is("$textProxy")?W.data:""),"");M&&(M.length<=x.length?x.startsWith(M)&&(x=x.substring(M.length),w[0].start=w[0].start.getShiftedBy(M.length)):M.startsWith(x)&&(w[0].start=w[0].start.getShiftedBy(x.length),x=""))}const T={text:x,selection:t.createSelection(w)};m&&(T.resultRange=e.editing.mapper.toModelRange(m)),e.execute("insertText",T)}),y.isAndroid?this.listenTo(n.document,"keydown",(l,c)=>{i.isCollapsed||c.keyCode!=229||!n.document.isComposing||mv(t,s)}):this.listenTo(n.document,"compositionstart",()=>{i.isCollapsed||mv(t,s)})}}function mv(o,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),o.enqueueChange(t.batch,()=>{o.deleteContent(o.document.selection)}),t.unlock()}class kv extends we{constructor(e,t){super(e),this.direction=t,this._buffer=new fv(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const s=i.createSelection(e.selection||n.selection),l=e.sequence||1,c=s.isCollapsed;if(s.isCollapsed&&t.modifySelection(s,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(l)){this._replaceEntireContentWithParagraph(i);return}if(this._shouldReplaceFirstBlockWithParagraph(s,l)){this.editor.execute("paragraph",{selection:s});return}if(s.isCollapsed)return;let u=0;s.getFirstRange().getMinimalFlatRanges().forEach(p=>{u+=Cs(p.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(s,{doNotResetEntireContent:c,direction:this.direction}),this._buffer.input(u),i.setSelection(s),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i);if(!(i.isCollapsed&&i.containsEntireContent(s))||!t.schema.checkChild(s,"paragraph"))return!1;const c=s.getChild(0);return!(c&&c.is("element","paragraph"))}_replaceEntireContentWithParagraph(e){const t=this.editor.model,i=t.document.selection,s=t.schema.getLimitElement(i),l=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(l,s),e.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const i=e.getFirstPosition(),s=n.schema.getLimitElement(i),l=s.getChild(0);return!(i.parent!=l||!e.containsEntireContent(l)||!n.schema.checkChild(s,"paragraph")||l.name=="paragraph")}}const xO="character",bv="word",EO="codePoint",Qo="selection",Or="backward",la="forward",wv={deleteContent:{unit:Qo,direction:Or},deleteContentBackward:{unit:EO,direction:Or},deleteWordBackward:{unit:bv,direction:Or},deleteHardLineBackward:{unit:Qo,direction:Or},deleteSoftLineBackward:{unit:Qo,direction:Or},deleteContentForward:{unit:xO,direction:la},deleteWordForward:{unit:bv,direction:la},deleteHardLineForward:{unit:Qo,direction:la},deleteSoftLineForward:{unit:Qo,direction:la}};class SO extends Xn{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;const{targetRanges:l,domEvent:c,inputType:u}=s,p=wv[u];if(!p)return;const m={direction:p.direction,unit:p.unit,sequence:n};m.unit==Qo&&(m.selectionToRemove=e.createSelection(l[0])),u==="deleteContentBackward"&&(y.isAndroid&&(m.sequence=1),TO(l)&&(m.unit=Qo,m.selectionToRemove=e.createSelection(l)));const w=new Sr(t,"delete",l[0]);t.fire(w,new Tr(e,c,m)),w.stop.called&&i.stop()}),y.isBlink&&DO(this)}observe(){}stopObserving(){}}function DO(o){const e=o.view,t=e.document;let n=null,i=!1;t.on("keydown",(c,{keyCode:u})=>{n=u,i=!1}),t.on("keyup",(c,{keyCode:u,domEvent:p})=>{const m=t.selection,w=o.isEnabled&&u==n&&s(u)&&!m.isCollapsed&&!i;if(n=null,w){const x=m.getFirstRange(),T=new Sr(t,"delete",x),M={unit:Qo,direction:l(u),selectionToRemove:m};t.fire(T,new Tr(e,p,M))}}),t.on("beforeinput",(c,{inputType:u})=>{const p=wv[u];s(n)&&p&&p.direction==l(n)&&(i=!0)},{priority:"high"}),t.on("beforeinput",(c,{inputType:u,data:p})=>{n==_e.delete&&u=="insertText"&&p==""&&c.stop()},{priority:"high"});function s(c){return c==_e.backspace||c==_e.delete}function l(c){return c==_e.backspace?Or:la}}function TO(o){if(o.length!=1||o[0].isCollapsed)return!1;const e=o[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let t=0;for(const{nextPosition:n}of e){if(!n.parent.is("$text"))t++;else{const i=n.parent.data,s=n.offset;if(xh(i,s)||Eh(i,s)||ab(i,s))continue;t++}if(t>1)return!0}return!1}class $i extends Y{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.model.document;t.addObserver(SO),this._undoOnBackspace=!1;const s=new kv(e,"forward");e.commands.add("deleteForward",s),e.commands.add("forwardDelete",s),e.commands.add("delete",new kv(e,"backward")),this.listenTo(n,"delete",(l,c)=>{n.isComposing||c.preventDefault();const{direction:u,sequence:p,selectionToRemove:m,unit:w}=c,x=u==="forward"?"deleteForward":"delete",T={sequence:p};if(w=="selection"){const M=Array.from(m.getRanges()).map(F=>e.editing.mapper.toModelRange(F));T.selection=e.model.createSelection(M)}else T.unit=w;e.execute(x,T),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(l,c)=>{this._undoOnBackspace&&c.direction=="backward"&&c.sequence==1&&c.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),c.preventDefault(),l.stop())},{context:"$capture"}),this.listenTo(i,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class PO extends Y{static get requires(){return[gv,$i]}static get pluginName(){return"Typing"}}function _v(o,e){let t=o.start;return{text:Array.from(o.getItems()).reduce((i,s)=>s.is("$text")||s.is("$textProxy")?i+s.data:(t=e.createPositionAfter(s),""),""),range:e.createRange(t,o.end)}}class vv extends De(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(n,{directChange:i})=>{if(i){if(!t.selection.isCollapsed){this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1);return}this._evaluateTextBeforeSelection("selection")}}),this.listenTo(t,"change:data",(n,i)=>{i.isUndo||!i.isLocal||this._evaluateTextBeforeSelection("data",{batch:i})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,s=n.document.selection,l=n.createRange(n.createPositionAt(s.focus.parent,0),s.focus),{text:c,range:u}=_v(l,n),p=this.testCallback(c);if(!p&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!p,p){const m=Object.assign(t,{text:c,range:u});typeof p=="object"&&Object.assign(m,p),this.fire(`matched:${e}`,m)}}}class Cv extends Y{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,t=e.model,n=e.editing.view,i=e.locale,s=t.document.selection;this.listenTo(n.document,"arrowKey",(l,c)=>{if(!s.isCollapsed||c.shiftKey||c.altKey||c.ctrlKey)return;const u=c.keyCode==_e.arrowright,p=c.keyCode==_e.arrowleft;if(!u&&!p)return;const m=i.contentLanguageDirection;let w=!1;m==="ltr"&&u||m==="rtl"&&p?w=this._handleForwardMovement(c):w=this._handleBackwardMovement(c),w===!0&&l.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(s,"change:range",(l,c)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=!1;return}this._isGravityOverridden&&(!c.directChange&&Cc(s.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,i=this.editor.model.document.selection,s=i.getFirstPosition();return this._isGravityOverridden||s.isAtStart&&Wf(i,t)?!1:Cc(s,t)?(vc(e),this._overrideGravity(),!0):!1}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,s=i.getFirstPosition();return this._isGravityOverridden?(vc(e),this._restoreGravity(),$f(n,t,s),!0):s.isAtStart?Wf(i,t)?(vc(e),$f(n,t,s),!0):!1:IO(s,t)?s.isAtEnd&&!Wf(i,t)&&Cc(s,t)?(vc(e),$f(n,t,s),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):!1}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Wf(o,e){for(const t of e)if(o.hasAttribute(t))return!0;return!1}function $f(o,e,t){const n=t.nodeBefore;o.change(i=>{n?i.setSelectionAttribute(n.getAttributes()):i.removeSelectionAttribute(e)})}function vc(o){o.preventDefault()}function IO(o,e){const t=o.getShiftedBy(-1);return Cc(t,e)}function Cc(o,e){const{nodeBefore:t,nodeAfter:n}=o;for(const i of e){const s=t?t.getAttribute(i):void 0;if((n?n.getAttribute(i):void 0)!==s)return!0}return!1}var Av=/[\\^$.*+?()[\]{}|]/g,BO=RegExp(Av.source);function RO(o){return o=Uh(o),o&&BO.test(o)?o.replace(Av,"\\$&"):o}const OO=RO,yv={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:zr('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:zr("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:zr("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:zr('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:zr('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:zr("'"),to:[null,"‚",null,"’"]}},xv={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},zO=["symbols","mathematical","typography","quotes"];class MO extends Y{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:zO}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),i=VO(e.config.get("typing.transformations")),s=c=>{for(const u of i)if(u.from.test(c))return{normalizedTransformation:u}},l=new vv(e.model,s);l.on("matched:data",(c,u)=>{if(!u.batch.isTyping)return;const{from:p,to:m}=u.normalizedTransformation,w=p.exec(u.text),x=m(w.slice(1)),T=u.range;let M=w.index;t.enqueueChange(F=>{for(let W=1;W<w.length;W++){const K=w[W],ne=x[W-1];if(ne==null){M+=K.length;continue}const Ce=T.start.getShiftedBy(M),Ve=t.createRange(Ce,Ce.getShiftedBy(K.length)),et=LO(Ce);t.insertContent(F.createText(ne,et),Ve),M+=ne.length}t.enqueueChange(()=>{n.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}function NO(o){return typeof o=="string"?new RegExp(`(${OO(o)})$`):o}function FO(o){return typeof o=="string"?()=>[o]:o instanceof Array?()=>o:o}function LO(o){return(o.textNode?o.textNode:o.nodeAfter).getAttributes()}function zr(o){return new RegExp(`(^|\\s)(${o})([^${o}]*)(${o})$`)}function VO(o){const e=o.extra||[],t=o.remove||[],n=s=>!t.includes(s),i=o.include.concat(e).filter(n);return jO(i).filter(n).map(s=>typeof s=="string"&&yv[s]?yv[s]:s).filter(s=>typeof s=="object").map(s=>({from:NO(s.from),to:FO(s.to)}))}function jO(o){const e=new Set;for(const t of o)if(typeof t=="string"&&xv[t])for(const n of xv[t])e.add(n);else e.add(t);return Array.from(e)}function Mr(o,e,t,n){return n.createRange(Ev(o,e,t,!0,n),Ev(o,e,t,!1,n))}function Ev(o,e,t,n,i){let s=o.textNode||(n?o.nodeBefore:o.nodeAfter),l=null;for(;s&&s.getAttribute(e)==t;)l=s,s=n?s.previousSibling:s.nextSibling;return l?i.createPositionAt(l,n?"before":"after"):o}function HO(o,e,t,n){const i=o.editing.view,s=new Set;i.document.registerPostFixer(l=>{const c=o.model.document.selection;let u=!1;if(c.hasAttribute(e)){const p=Mr(c.getFirstPosition(),e,c.getAttribute(e),o.model),m=o.editing.mapper.toViewRange(p);for(const w of m.getItems())w.is("element",t)&&!w.hasClass(n)&&(l.addClass(n,w),s.add(w),u=!0)}return u}),o.conversion.for("editingDowncast").add(l=>{l.on("insert",c,{priority:"highest"}),l.on("remove",c,{priority:"highest"}),l.on("attribute",c,{priority:"highest"}),l.on("selection",c,{priority:"highest"});function c(){i.change(u=>{for(const p of s.values())u.removeClass(n,p),s.delete(p)})}})}function Zo(o,e,t,n){let i,s=null;typeof n=="function"?i=n:(s=o.commands.get(n),i=()=>{o.execute(n)}),o.model.document.on("change:data",(l,c)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const u=_t(o.model.document.selection.getRanges());if(!u.isCollapsed||c.isUndo||!c.isLocal)return;const p=Array.from(o.model.document.differ.getChanges()),m=p[0];if(p.length!=1||m.type!=="insert"||m.name!="$text"||m.length!=1)return;const w=m.position.parent;if(w.is("element","codeBlock")||w.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||s&&s.value===!0)return;const x=w.getChild(0),T=o.model.createRangeOn(x);if(!T.containsRange(u)&&!u.end.isEqual(T.end))return;const M=t.exec(x.data.substr(0,u.end.offset));M&&o.model.enqueueChange(F=>{const W=F.createPositionAt(w,0),K=F.createPositionAt(w,M[0].length),ne=new to(W,K);if(i({match:M})!==!1){F.remove(ne);const Ve=o.model.document.selection.getFirstRange(),et=F.createRangeIn(w);w.isEmpty&&!et.isEqual(Ve)&&!et.containsRange(Ve,!0)&&F.remove(w)}ne.detach(),o.model.enqueueChange(()=>{o.plugins.get("Delete").requestUndoOnBackspace()})})})}function Nr(o,e,t,n){let i,s;t instanceof RegExp?i=t:s=t,s=s||(l=>{let c;const u=[],p=[];for(;(c=i.exec(l))!==null&&!(c&&c.length<4);){let{index:m,1:w,2:x,3:T}=c;const M=w+x+T;m+=c[0].length-M.length;const F=[m,m+w.length],W=[m+w.length+x.length,m+w.length+x.length+T.length];u.push(F),u.push(W),p.push([m+w.length,m+w.length+x.length])}return{remove:u,format:p}}),o.model.document.on("change:data",(l,c)=>{if(c.isUndo||!c.isLocal||!e.isEnabled)return;const u=o.model,p=u.document.selection;if(!p.isCollapsed)return;const m=Array.from(u.document.differ.getChanges()),w=m[0];if(m.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const x=p.focus,T=x.parent,{text:M,range:F}=UO(u.createRange(u.createPositionAt(T,0),x),u),W=s(M),K=Sv(F.start,W.format,u),ne=Sv(F.start,W.remove,u);K.length&&ne.length&&u.enqueueChange(Ce=>{if(n(Ce,K)!==!1){for(const et of ne.reverse())Ce.remove(et);u.enqueueChange(()=>{o.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Sv(o,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(o.getShiftedBy(n[0]),o.getShiftedBy(n[1])))}function UO(o,e){let t=o.start;return{text:Array.from(o.getItems()).reduce((i,s)=>!(s.is("$text")||s.is("$textProxy"))||s.getAttribute("code")?(t=e.createPositionAfter(s),""):i+s.data,""),range:e.createRange(t,o.end)}}class WO extends Y{static get requires(){return[$i]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&Zo(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&Zo(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&Zo(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&Zo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const t=Ac(this.editor,"bold");Nr(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),Nr(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(e.get("italic")){const t=Ac(this.editor,"italic");Nr(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),Nr(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(e.get("code")){const t=Ac(this.editor,"code");Nr(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(e.get("strikethrough")){const t=Ac(this.editor,"strikethrough");Nr(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const n=t[7],i=new RegExp(`^(#{${n}})\\s$`);Zo(this.editor,this,i,()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Zo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&Zo(e,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Zo(this.editor,this,/^---$/,"horizontalLine")}}function Ac(o,e){return(t,n)=>{if(!o.commands.get(e).isEnabled)return!1;const s=o.model.schema.getValidRanges(n,e);for(const l of s)t.setAttribute(e,!0,l);t.removeSelectionAttribute(e)}}class $O extends De(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,i)=>{t.onload=()=>{const s=t.result;this._data=s,n(s)},t.onerror=()=>{i("error")},t.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class qi extends Y{constructor(){super(...arguments),this.loaders=new On,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[T_]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return Ee("filerepository-no-upload-adapter"),null;const t=new Dv(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const i of this.loaders)n+=i.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const i of this.loaders)i.uploadTotal&&(n+=i.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof Dv?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,i)=>{n===t&&this._loadersMap.delete(i)})}_updatePendingAction(){const e=this.editor.plugins.get(T_);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=i=>`${t("Upload in progress")} ${parseInt(i)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class Dv extends De(){constructor(e,t){super(),this.id=ut(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new $O,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,i)=>i?n/i*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new I("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new I("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,i)=>{t.rejecter=i,t.isFulfilled=!1,e.then(s=>{t.isFulfilled=!0,n(s)}).catch(s=>{t.isFulfilled=!0,i(s)})}),t}}class qO extends Y{static get requires(){return[qi]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(qi).createUploadAdapter=e=>new KO(e)}}class KO{constructor(e){this.loader=e}upload(){return new Promise((e,t)=>{const n=this.reader=new window.FileReader;n.addEventListener("load",()=>{e({default:n.result})}),n.addEventListener("error",i=>{t(i)}),n.addEventListener("abort",()=>{t()}),this.loader.file.then(i=>{n.readAsDataURL(i)})})}abort(){this.reader.abort()}}function*Tv(o,e){for(const t of e)t&&o.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class GO extends we{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,i=t.schema,s=n.isCollapsed,l=n.getFirstRange(),c=l.start.parent,u=l.end.parent;if(i.isLimit(c)||i.isLimit(u))return!s&&c==u&&t.deleteContent(n),!1;if(s){const p=Tv(e.model.schema,n.getAttributes());return Pv(e,l.start),e.setSelectionAttribute(p),!0}else{const p=!(l.start.isAtStart&&l.end.isAtEnd),m=c==u;if(t.deleteContent(n,{leaveUnmerged:p}),p){if(m)return Pv(e,n.focus),!0;e.setSelection(u,0)}}return!1}}function Pv(o,e){o.split(e),o.setSelection(e.parent.nextSibling,0)}const QO={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Iv extends Xn{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(i,s)=>{n=s.shiftKey}),t.on("beforeinput",(i,s)=>{if(!this.isEnabled)return;let l=s.inputType;y.isSafari&&n&&l=="insertParagraph"&&(l="insertLineBreak");const c=s.domEvent,u=QO[l];if(!u)return;const p=new Sr(t,"enter",s.targetRanges[0]);t.fire(p,new Tr(e,c,{isSoft:u.isSoft})),p.stop.called&&i.stop()})}observe(){}stopObserving(){}}class yc extends Y{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Iv),e.commands.add("enter",new GO(e)),this.listenTo(n,"enter",(i,s)=>{n.isComposing||s.preventDefault(),!s.isSoft&&(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class ZO extends we{execute(){const e=this.editor.model,t=e.document;e.change(n=>{YO(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=JO(e.schema,t.selection)}}function JO(o,e){if(e.rangeCount>1)return!1;const t=e.anchor;if(!t||!o.checkChild(t,"softBreak"))return!1;const n=e.getFirstRange(),i=n.start.parent,s=n.end.parent;return!((qf(i,o)||qf(s,o))&&i!==s)}function YO(o,e,t){const n=t.isCollapsed,i=t.getFirstRange(),s=i.start.parent,l=i.end.parent,c=s==l;if(n){const u=Tv(o.schema,t.getAttributes());Bv(o,e,i.end),e.removeSelectionAttribute(t.getAttributeKeys()),e.setSelectionAttribute(u)}else{const u=!(i.start.isAtStart&&i.end.isAtEnd);o.deleteContent(t,{leaveUnmerged:u}),c?Bv(o,e,t.focus):u&&e.setSelection(l,0)}}function Bv(o,e,t){const n=e.createElement("softBreak");o.insertContent(n,t),e.setSelection(n,"after")}function qf(o,e){return o.is("rootElement")?!1:e.isLimit(o)||qf(o.parent,e)}class XO extends Y{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,s=i.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(l,{writer:c})=>c.createEmptyElement("br")}),i.addObserver(Iv),e.commands.add("shiftEnter",new ZO(e)),this.listenTo(s,"enter",(l,c)=>{s.isComposing||c.preventDefault(),c.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"})}}class e3 extends we{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,i=t.document.selection,s=Array.from(i.getSelectedBlocks()),l=e.forceValue===void 0?!this.value:e.forceValue;t.change(c=>{if(!l)this._removeQuote(c,s.filter(xc));else{const u=s.filter(p=>xc(p)||Ov(n,p));this._applyQuote(c,u)}})}_getValue(){const e=this.editor.model.document.selection,t=_t(e.getSelectedBlocks());return!!(t&&xc(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=_t(e.getSelectedBlocks());return n?Ov(t,n):!1}_removeQuote(e,t){Rv(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd){e.unwrap(n.start.parent);return}if(n.start.isAtStart){const s=e.createPositionBefore(n.start.parent);e.move(n,s);return}n.end.isAtEnd||e.split(n.end);const i=e.createPositionAfter(n.end.parent);e.move(n,i)})}_applyQuote(e,t){const n=[];Rv(e,t).reverse().forEach(i=>{let s=xc(i.start);s||(s=e.createElement("blockQuote"),e.wrap(i,s)),n.push(s)}),n.reverse().reduce((i,s)=>i.nextSibling==s?(e.merge(e.createPositionAfter(i)),i):s)}}function xc(o){return o.parent.name=="blockQuote"?o.parent:null}function Rv(o,e){let t,n=0;const i=[];for(;n<e.length;){const s=e[n],l=e[n+1];t||(t=o.createPositionBefore(s)),(!l||s.nextSibling!=l)&&(i.push(o.createRange(t,o.createPositionAfter(s))),t=null),n++}return i}function Ov(o,e){const t=o.checkChild(e.parent,"blockQuote"),n=o.checkChild(["$root","blockQuote"],e);return t&&n}class t3 extends Y{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[yc,$i]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new e3(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(l=>{const c=e.model.document.differ.getChanges();for(const u of c)if(u.type=="insert"){const p=u.position.nodeAfter;if(!p)continue;if(p.is("element","blockQuote")&&p.isEmpty)return l.remove(p),!0;if(p.is("element","blockQuote")&&!t.checkChild(u.position,p))return l.unwrap(p),!0;if(p.is("element")){const m=l.createRangeIn(p);for(const w of m.getItems())if(w.is("element","blockQuote")&&!t.checkChild(l.createPositionBefore(w),w))return l.unwrap(w),!0}}else if(u.type=="remove"){const p=u.position.parent;if(p.is("element","blockQuote")&&p.isEmpty)return l.remove(p),!0}return!1});const n=this.editor.editing.view.document,i=e.model.document.selection,s=e.commands.get("blockQuote");this.listenTo(n,"enter",(l,c)=>{if(!i.isCollapsed||!s.value)return;i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),l.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(l,c)=>{if(c.direction!="backward"||!i.isCollapsed||!s.value)return;const u=i.getLastPosition().parent;u.isEmpty&&!u.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),c.preventDefault(),l.stop())},{context:"blockquote"})}}var zv=f(636),Kf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Kf.insert="head",Kf.singleton=!0,de()(zv.Z,Kf),zv.Z.locals;class n3 extends Y{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const i=e.commands.get("blockQuote"),s=new Ye(n);return s.set({label:t("Block quote"),icon:kt.quote,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),s})}}class o3 extends Y{static get requires(){return[t3,n3]}static get pluginName(){return"BlockQuote"}}class Mv extends we{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,i=t.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;t.change(l=>{if(i.isCollapsed)s?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const c=t.schema.getValidRanges(i.getRanges(),this.attributeKey);for(const u of c)s?l.setAttribute(this.attributeKey,s,u):l.removeAttribute(this.attributeKey,u)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const s of i.getItems())if(t.checkAttribute(s,this.attributeKey))return s.hasAttribute(this.attributeKey);return!1}}const Fr="bold";class i3 extends Y{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Fr}),e.model.schema.setAttributeProperties(Fr,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Fr,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Fr,new Mv(e,Fr)),e.keystrokes.set("CTRL+B",Fr)}}const Gf="bold";class r3 extends Y{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(Gf,n=>{const i=e.commands.get(Gf),s=new Ye(n);return s.set({label:t("Bold"),icon:kt.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(Gf),e.editing.view.focus()}),s})}}class s3 extends Y{static get requires(){return[i3,r3]}static get pluginName(){return"Bold"}}class Qf extends Ko{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"});function n(i){return(s,l)=>{l.preventDefault();const c=l.dropRange?[l.dropRange]:null,u=new dt(t,i);t.fire(u,{dataTransfer:l.dataTransfer,method:s.name,targetRanges:c,target:l.target}),u.stop.called&&l.stopPropagation()}}}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",i={dataTransfer:new Dw(t,{cacheFiles:n})};(e.type=="drop"||e.type=="dragover")&&(i.dropRange=a3(this.view,e)),this.fire(e.type,e,i)}}function a3(o,e){const t=e.target.ownerDocument,n=e.clientX,i=e.clientY;let s;return t.caretRangeFromPoint&&t.caretRangeFromPoint(n,i)?s=t.caretRangeFromPoint(n,i):e.rangeParent&&(s=t.createRange(),s.setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s?o.domConverter.domRangeToView(s):null}function l3(o){return o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"),(o.includes("</p><p>")||o.includes("<br>"))&&(o=`<p>${o}</p>`),o}function c3(o){return o.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length==1?" ":t).replace(/<!--[\s\S]*?-->/g,"")}const Nv=["figcaption","li"];function Fv(o){let e="";if(o.is("$text")||o.is("$textProxy"))e=o.data;else if(o.is("element","img")&&o.hasAttribute("alt"))e=o.getAttribute("alt");else if(o.is("element","br"))e=`
`;else{let t=null;for(const n of o.getChildren()){const i=Fv(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(Nv.includes(t.name)||Nv.includes(n.name)?e+=`
`:e+=`

`),e+=i,t=n}}return e}class oo extends Y{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Qf),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document;this.listenTo(i,"clipboardInput",s=>{e.isReadOnly&&s.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(s,l)=>{const c=l.dataTransfer;let u;if(l.content)u=l.content;else{let m="";c.getData("text/html")?m=c3(c.getData("text/html")):c.getData("text/plain")&&(m=l3(c.getData("text/plain"))),u=this.editor.data.htmlProcessor.toView(m)}const p=new dt(this,"inputTransformation");this.fire(p,{content:u,dataTransfer:c,targetRanges:l.targetRanges,method:l.method}),p.stop.called&&s.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(s,l)=>{if(l.content.isEmpty)return;const u=this.editor.data.toModel(l.content,"$clipboardHolder");u.childCount!=0&&(s.stop(),t.change(()=>{this.fire("contentInsertion",{content:u,method:l.method,dataTransfer:l.dataTransfer,targetRanges:l.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(s,l)=>{l.resultRange=t.insertContent(l.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,i=e.editing.view.document,s=(l,c)=>{const u=c.dataTransfer;c.preventDefault();const p=e.data.toView(e.model.getSelectedContent(t.selection));i.fire("clipboardOutput",{dataTransfer:u,content:p,method:l.name})};this.listenTo(i,"copy",s,{priority:"low"}),this.listenTo(i,"cut",(l,c)=>{e.isReadOnly?c.preventDefault():s(l,c)},{priority:"low"}),this.listenTo(i,"clipboardOutput",(l,c)=>{c.content.isEmpty||(c.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(c.content)),c.dataTransfer.setData("text/plain",Fv(c.content))),c.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class d3 extends Se(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,i=n[0];this._insertDescriptor(e);const s=n[0];i!==s&&!Zf(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}remove(e,t){const n=this._stack,i=n[0];this._removeDescriptor(e);const s=n[0];i!==s&&!Zf(i,s)&&this.fire("change:top",{oldDescriptor:i,newDescriptor:s,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(s=>s.id===e.id);if(Zf(e,t[n]))return;n>-1&&t.splice(n,1);let i=0;for(;t[i]&&u3(t[i],e);)i++;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(i=>i.id===e);n>-1&&t.splice(n,1)}}function Zf(o,e){return o&&e&&o.priority==e.priority&&Ec(o.classes)==Ec(e.classes)}function u3(o,e){return o.priority>e.priority?!0:o.priority<e.priority?!1:Ec(o.classes)>Ec(e.classes)}function Ec(o){return Array.isArray(o)?o.sort().join(","):o}const h3='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',f3="ck-widget",Lv="ck-widget_selected";function Xe(o){return o.is("element")?!!o.getCustomProperty("widget"):!1}function Vv(o,e,t={}){if(!o.is("containerElement"))throw new I("widget-to-widget-wrong-element-type",null,{element:o});return e.setAttribute("contenteditable","false",o),e.addClass(f3,o),e.setCustomProperty("widget",!0,o),o.getFillerOffset=w3,e.setCustomProperty("widgetLabel",[],o),t.label&&m3(o,t.label),t.hasSelectionHandle&&_3(o,e),jv(o,e),o}function p3(o,e,t){if(e.classes&&t.addClass(Dt(e.classes),o),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],o)}function g3(o,e,t){if(e.classes&&t.removeClass(Dt(e.classes),o),e.attributes)for(const n in e.attributes)t.removeAttribute(n,o)}function jv(o,e,t=p3,n=g3){const i=new d3;i.on("change:top",(c,u)=>{u.oldDescriptor&&n(o,u.oldDescriptor,u.writer),u.newDescriptor&&t(o,u.newDescriptor,u.writer)});const s=(c,u,p)=>i.add(u,p),l=(c,u,p)=>i.remove(u,p);e.setCustomProperty("addHighlight",s,o),e.setCustomProperty("removeHighlight",l,o)}function m3(o,e){o.getCustomProperty("widgetLabel").push(e)}function k3(o){return o.getCustomProperty("widgetLabel").reduce((t,n)=>typeof n=="function"?t?t+". "+n():n():t?t+". "+n:n,"")}function Hv(o,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],o),e.setAttribute("role","textbox",o),t.label&&e.setAttribute("aria-label",t.label,o),e.setAttribute("contenteditable",o.isReadOnly?"false":"true",o),o.on("change:isReadOnly",(n,i,s)=>{e.setAttribute("contenteditable",s?"false":"true",o)}),o.on("change:isFocused",(n,i,s)=>{s?e.addClass("ck-editor__nested-editable_focused",o):e.removeClass("ck-editor__nested-editable_focused",o)}),jv(o,e),o}function b3(o,e){const t=o.getSelectedElement();if(t){const n=Jo(o);if(n)return e.createRange(e.createPositionAt(t,n))}return S_(o,e)}function w3(){return null}function _3(o,e){const t=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(n){const i=this.toDomElement(n),s=new xr;return s.set("content",h3),s.render(),i.appendChild(s.element),i});e.insert(e.createPositionAt(o,0),t),e.addClass(["ck-widget_with-selection-handle"],o)}const vo="widget-type-around";function Ki(o,e,t){return!!o&&Xe(o)&&!t.isInline(e)}function v3(o){return o.closest(".ck-widget__type-around__button")}function C3(o){return o.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function A3(o,e){const t=o.closest(".ck-widget");return e.mapDomToView(t)}function Jo(o){return o.getAttribute(vo)}const y3='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>';var Uv=f(5137),Jf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Jf.insert="head",Jf.singleton=!0,de()(Uv.Z,Jf),Uv.Z.locals;const Wv=["before","after"],x3=new DOMParser().parseFromString(y3,"image/svg+xml").firstChild,$v="ck-widget__type-around_disabled";class E3 extends Y{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[yc,$i]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,i,s)=>{t.change(l=>{for(const c of t.document.roots)s?l.removeClass($v,c):l.addClass($v,c)}),s||e.model.change(l=>{l.removeSelectionAttribute(vo)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,i=n.editing.view,s=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:s}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){this.listenTo(e,t,(...s)=>{this.isEnabled&&n(...s)},i)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,i=Jo(n);if(!i)return!1;const s=n.getSelectedElement();return this._insertParagraph(s,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(s,l,c)=>{const u=c.mapper.toViewElement(l.item);u&&Ki(u,l.item,t)&&(S3(c.writer,i,u),u.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,i=t.schema,s=e.editing.view;this._listenToIfEnabled(s.document,"arrowKey",(c,u)=>{this._handleArrowKeyPress(c,u)},{context:[Xe,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(c,u)=>{u.directChange&&e.model.change(p=>{p.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const c=n.getSelectedElement();if(c){const u=e.editing.mapper.toViewElement(c);if(Ki(u,c,i))return}e.model.change(u=>{u.removeSelectionAttribute(vo)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(c,u,p)=>{const m=p.writer;if(this._currentFakeCaretModelElement){const M=p.mapper.toViewElement(this._currentFakeCaretModelElement);M&&(m.removeClass(Wv.map(l),M),this._currentFakeCaretModelElement=null)}const w=u.selection.getSelectedElement();if(!w)return;const x=p.mapper.toViewElement(w);if(!Ki(x,w,i))return;const T=Jo(u.selection);T&&(m.addClass(l(T),x),this._currentFakeCaretModelElement=w)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(c,u,p)=>{p||e.model.change(m=>{m.removeSelectionAttribute(vo)})});function l(c){return`ck-widget_type-around_show-fake-caret_${c}`}}_handleArrowKeyPress(e,t){const n=this.editor,i=n.model,s=i.document.selection,l=i.schema,c=n.editing.view,u=t.keyCode,p=eD(u,n.locale.contentLanguageDirection),m=c.document.selection.getSelectedElement(),w=n.editing.mapper.toModelElement(m);let x;Ki(m,w,l)?x=this._handleArrowKeyPressOnSelectedWidget(p):s.isCollapsed?x=this._handleArrowKeyPressWhenSelectionNextToAWidget(p):t.shiftKey||(x=this._handleArrowKeyPressWhenNonCollapsedSelection(p)),x&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const n=this.editor.model,i=n.document.selection,s=Jo(i);return n.change(l=>{if(s){if(!(s===(e?"after":"before")))return l.removeSelectionAttribute(vo),!0}else return l.setSelectionAttribute(vo,e?"after":"before"),!0;return!1})}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,i=n.schema,s=t.plugins.get("Widget"),l=s._getObjectElementNextToSelection(e),c=t.editing.mapper.toViewElement(l);return Ki(c,l,i)?(n.change(u=>{s._setSelectionOverElement(l),u.setSelectionAttribute(vo,e?"before":"after")}),!0):!1}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,i=n.schema,s=t.editing.mapper,l=n.document.selection,c=e?l.getLastPosition().nodeBefore:l.getFirstPosition().nodeAfter,u=s.toViewElement(c);return Ki(u,c,i)?(n.change(p=>{p.setSelection(c,"on"),p.setSelectionAttribute(vo,e?"after":"before")}),!0):!1}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,i)=>{const s=v3(i.domTarget);if(!s)return;const l=C3(s),c=A3(s,t.domConverter),u=e.editing.mapper.toModelElement(c);this._insertParagraph(u,l),i.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(i,s)=>{if(i.eventPhase!="atTarget")return;const l=t.getSelectedElement(),c=e.editing.mapper.toViewElement(l),u=e.model.schema;let p;this._insertParagraphAccordingToFakeCaretPosition()?p=!0:Ki(c,l,u)&&(this._insertParagraph(l,s.isSoft?"before":"after"),p=!0),p&&(s.preventDefault(),i.stop())},{context:Xe})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(n,i)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(i.selection=t.selection)},{priority:"high"}),y.isAndroid?this._listenToIfEnabled(t,"keydown",(n,i)=>{i.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this._listenToIfEnabled(t.document,"delete",(s,l)=>{if(s.eventPhase!="atTarget")return;const c=Jo(n.document.selection);if(!c)return;const u=l.direction,p=n.document.selection.getSelectedElement(),m=c==="before",w=u=="forward";if(m===w)e.execute("delete",{selection:n.createSelection(p,"on")});else{const T=i.getNearestSelectionRange(n.createPositionAt(p,c),u);if(T)if(!T.isCollapsed)n.change(M=>{M.setSelection(T),e.execute(w?"deleteForward":"delete")});else{const M=n.createSelection(T.start);if(n.modifySelection(M,{direction:u}),!M.focus.isEqual(T.start))n.change(F=>{F.setSelection(T),e.execute(w?"deleteForward":"delete")});else{const F=P3(i,T.start.parent);n.deleteContent(n.createSelection(F,"on"),{doNotAutoparagraph:!0})}}}l.preventDefault(),s.stop()},{context:Xe})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(i,[s,l])=>{if(l&&!l.is("documentSelection"))return;const c=Jo(n);if(c)return i.stop(),t.change(u=>{const p=n.getSelectedElement(),m=t.createPositionAt(p,c),w=u.createSelection(m),x=t.insertContent(s,w);return u.setSelection(w),x})},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(i,s)=>{const[,l,c={}]=s;if(l&&!l.is("documentSelection"))return;const u=Jo(n);u&&(c.findOptimalPosition=u,s[3]=c)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,n=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(i,[s])=>{if(s&&!s.is("documentSelection"))return;Jo(n)&&i.stop()},{priority:"high"})}}function S3(o,e,t){const n=o.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(i){const s=this.toDomElement(i);return D3(s,e),T3(s),s});o.insert(o.createPositionAt(t,"end"),n)}function D3(o,e){for(const t of Wv){const n=new Gn({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${t}`],title:e[t],"aria-hidden":"true"},children:[o.ownerDocument.importNode(x3,!0)]});o.appendChild(n.render())}}function T3(o){const e=new Gn({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});o.appendChild(e.render())}function P3(o,e){let t=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||o.isLimit(n))break;t=n}return t}function I3(o){const e=o.model;return(t,n)=>{const i=n.keyCode==_e.arrowup,s=n.keyCode==_e.arrowdown,l=n.shiftKey,c=e.document.selection;if(!i&&!s)return;const u=s;if(l&&O3(c,u))return;const p=B3(o,c,u);if(p){if(p.isCollapsed){if(c.isCollapsed)return;if(l)return}(p.isCollapsed||R3(o,p,u))&&(e.change(m=>{const w=u?p.end:p.start;if(l){const x=e.createSelection(c.anchor);x.setFocus(w),m.setSelection(x)}else m.setSelection(w)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function B3(o,e,t){const n=o.model;if(t){const i=e.isCollapsed?e.focus:e.getLastPosition(),s=qv(n,i,"forward");if(!s)return null;const l=n.createRange(i,s),c=Kv(n.schema,l,"backward");return c?n.createRange(i,c):null}else{const i=e.isCollapsed?e.focus:e.getFirstPosition(),s=qv(n,i,"backward");if(!s)return null;const l=n.createRange(s,i),c=Kv(n.schema,l,"forward");return c?n.createRange(c,i):null}}function qv(o,e,t){const n=o.schema,i=o.createRangeIn(e.root),s=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:l,item:c,type:u}of i.getWalker({startPosition:e,direction:t})){if(n.isLimit(c)&&!n.isInline(c))return l;if(u==s&&n.isBlock(c))return null}return null}function Kv(o,e,t){const n=t=="backward"?e.end:e.start;if(o.checkChild(n,"$text"))return n;for(const{nextPosition:i}of e.getWalker({direction:t}))if(o.checkChild(i,"$text"))return i;return null}function R3(o,e,t){const n=o.model,i=o.view.domConverter;if(t){const p=n.createSelection(e.start);n.modifySelection(p),!p.focus.isAtEnd&&!e.start.isEqual(p.focus)&&(e=n.createRange(p.focus,e.end))}const s=o.mapper.toViewRange(e),l=i.viewRangeToDom(s),c=st.getDomRangeRects(l);let u;for(const p of c){if(u===void 0){u=Math.round(p.bottom);continue}if(Math.round(p.top)>=u)return!1;u=Math.max(u,Math.round(p.bottom))}return!0}function O3(o,e){return!o.isCollapsed&&o.isBackward==e}var Gv=f(6507),Yf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Yf.insert="head",Yf.singleton=!0,de()(Gv.Z,Yf),Gv.Z.locals;class Sc extends Y{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[E3,$i]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(i,s,l)=>{const c=l.writer,u=s.selection;if(u.isCollapsed)return;const p=u.getSelectedElement();if(!p)return;const m=e.editing.mapper.toViewElement(p);Xe(m)&&l.consumable.consume(u,"selection")&&c.setSelection(c.createRangeOn(m),{fake:!0,label:k3(m)})}),this.editor.editing.downcastDispatcher.on("selection",(i,s,l)=>{this._clearPreviouslySelectedWidgets(l.writer);const c=l.writer,u=c.document.selection;let p=null;for(const m of u.getRanges())for(const w of m){const x=w.item;Xe(x)&&!M3(x,p)&&(c.addClass(Lv,x),this._previouslySelected.add(x),p=x)}},{priority:"low"}),t.addObserver(vf),this.listenTo(n,"mousedown",(...i)=>this._onMousedown(...i)),this.listenTo(n,"arrowKey",(...i)=>{this._handleSelectionChangeOnArrowKeyPress(...i)},{context:[Xe,"$text"]}),this.listenTo(n,"arrowKey",(...i)=>{this._preventDefaultOnArrowKeyPress(...i)},{context:"$root"}),this.listenTo(n,"arrowKey",I3(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(i,s)=>{this._handleDelete(s.direction=="forward")&&(s.preventDefault(),i.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,i=n.editing.view,s=i.document;let l=t.target;if(z3(l)){if((y.isSafari||y.isGecko)&&t.domEvent.detail>=3){const u=n.editing.mapper,p=l.is("attributeElement")?l.findAncestor(w=>!w.is("attributeElement")):l,m=u.toModelElement(p);t.preventDefault(),this.editor.model.change(w=>{w.setSelection(m,"in")})}return}if(!Xe(l)&&(l=l.findAncestor(Xe),!l))return;y.isAndroid&&t.preventDefault(),s.isFocused||i.focus();const c=n.editing.mapper.toModelElement(l);this._setSelectionOverElement(c)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,i=this.editor.model,s=i.schema,l=i.document.selection,c=l.getSelectedElement(),u=yh(n,this.editor.locale.contentLanguageDirection),p=u=="down"||u=="right",m=u=="up"||u=="down";if(c&&s.isObject(c)){const x=p?l.getLastPosition():l.getFirstPosition(),T=s.getNearestSelectionRange(x,p?"forward":"backward");T&&(i.change(M=>{M.setSelection(T)}),t.preventDefault(),e.stop());return}if(!l.isCollapsed&&!t.shiftKey){const x=l.getFirstPosition(),T=l.getLastPosition(),M=x.nodeAfter,F=T.nodeBefore;(M&&s.isObject(M)||F&&s.isObject(F))&&(i.change(W=>{W.setSelection(p?T:x)}),t.preventDefault(),e.stop());return}if(!l.isCollapsed)return;const w=this._getObjectElementNextToSelection(p);if(w&&s.isObject(w)){if(s.isInline(w)&&m)return;this._setSelectionOverElement(w),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,i=n.schema,s=n.document.selection.getSelectedElement();s&&i.isObject(s)&&(t.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=this._getObjectElementNextToSelection(e);if(i)return this.editor.model.change(s=>{let l=n.anchor.parent;for(;l.isEmpty;){const c=l;l=c.parent,s.remove(c)}this._setSelectionOverElement(i)}),!0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,i=t.document.selection,s=t.createSelection(i);if(t.modifySelection(s,{direction:e?"forward":"backward"}),s.isEqual(i))return null;const l=e?s.focus.nodeBefore:s.focus.nodeAfter;return l&&n.isObject(l)?l:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Lv,t);this._previouslySelected.clear()}}function z3(o){let e=o;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Xe(e))return!1;e=e.parent}return!1}function M3(o,e){return e?Array.from(o.getAncestors()).includes(e):!1}class Dc extends Y{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[bc]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{N3(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:i,balloonClassName:s="ck-toolbar-container"}){if(!n.length){Ee("widget-toolbar-no-items",{toolbarId:e});return}const l=this.editor,c=l.t,u=new yf(l.locale);if(u.ariaLabel=t||c("Widget toolbar"),this._toolbarDefinitions.has(e))throw new I("widget-toolbar-duplicated",this,{toolbarId:e});const p={view:u,getRelatedElement:i,balloonClassName:s,itemsConfig:n,initialized:!1};l.ui.addToolbar(u,{isContextual:!0,beforeFocus:()=>{const m=i(l.editing.view.document.selection);m&&this._showToolbar(p,m)},afterBlur:()=>{this._hideToolbar(p)}}),this._toolbarDefinitions.set(e,p)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const i of this._toolbarDefinitions.values()){const s=i.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!s)this._isToolbarInBalloon(i)&&this._hideToolbar(i);else if(!this.editor.ui.focusTracker.isFocused)this._isToolbarVisible(i)&&this._hideToolbar(i);else{const l=s.getAncestors().length;l>e&&(e=l,t=s,n=i)}}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Qv(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:Zv(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const i=n.getRelatedElement(this.editor.editing.view.document.selection);Qv(this.editor,i)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Qv(o,e){const t=o.plugins.get("ContextualBalloon"),n=Zv(o,e);t.updatePosition(n)}function Zv(o,e){const t=o.editing.view,n=Vt.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}function N3(o){const e=o.getSelectedElement();return!!(e&&Xe(e))}var Jv=f(2263),Xf={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Xf.insert="head",Xf.singleton=!0,de()(Jv.Z,Xf),Jv.Z.locals;var Yv=f(390),ep={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ep.insert="head",ep.singleton=!0,de()(Yv.Z,ep),Yv.Z.locals;class F3 extends Y{static get pluginName(){return"DragDrop"}static get requires(){return[oo,Sc]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=dv(n=>this._updateDropMarker(n),40),this._removeDropMarkerDelayed=tC(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=tC(()=>this._clearDraggableAttributes(),40),t.addObserver(Qf),t.addObserver(vf),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,i,s)=>{s?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,i,s)=>{s||this._finalizeDragging(!1)}),y.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=t.document,i=e.editing.view,s=i.document;this.listenTo(s,"dragstart",(l,c)=>{const u=n.selection;if(c.target&&c.target.is("editableElement")){c.preventDefault();return}const p=c.target?nC(c.target):null;if(p){const x=e.editing.mapper.toModelElement(p);this._draggedRange=to.fromRange(t.createRangeOn(x)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!s.selection.isCollapsed){const x=s.selection.getSelectedElement();(!x||!Xe(x))&&(this._draggedRange=to.fromRange(u.getFirstRange()))}if(!this._draggedRange){c.preventDefault();return}this._draggingUid=ut(),c.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",c.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const m=t.createSelection(this._draggedRange.toRange()),w=e.data.toView(t.getSelectedContent(m));s.fire("clipboardOutput",{dataTransfer:c.dataTransfer,content:w,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(s,"dragend",(l,c)=>{this._finalizeDragging(!c.dataTransfer.isCanceled&&c.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(s,"dragenter",()=>{this.isEnabled&&i.focus()}),this.listenTo(s,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(s,"dragging",(l,c)=>{if(!this.isEnabled){c.dataTransfer.dropEffect="none";return}this._removeDropMarkerDelayed.cancel();const u=Xv(e,c.targetRanges,c.target);this._draggedRange||(c.dataTransfer.dropEffect="copy"),y.isGecko||(c.dataTransfer.effectAllowed=="copy"?c.dataTransfer.dropEffect="copy":["all","copyMove"].includes(c.dataTransfer.effectAllowed)&&(c.dataTransfer.dropEffect="move")),u&&this._updateDropMarkerThrottled(u)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"clipboardInput",(i,s)=>{if(s.method!="drop")return;const l=Xv(e,s.targetRanges,s.target);if(this._removeDropMarker(),!l){this._finalizeDragging(!1),i.stop();return}if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),eC(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(l,!0)){this._finalizeDragging(!1),i.stop();return}s.targetRanges=[e.editing.mapper.toViewRange(l)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(oo);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=n.targetRanges.map(s=>this.editor.editing.mapper.toModelRange(s));this.editor.model.change(s=>s.setSelection(i))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const i=eC(n.dataTransfer)=="move",s=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(s&&i)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(i,s)=>{if(y.isAndroid||!s)return;this._clearDraggableAttributesDelayed.cancel();let l=nC(s.target);if(y.isBlink&&!e.isReadOnly&&!l&&!n.selection.isCollapsed){const c=n.selection.getSelectedElement();(!c||!Xe(c))&&(l=n.selection.editableElement)}l&&(t.change(c=>{c.setAttribute("draggable","true",l)}),this._draggableElement=e.editing.mapper.toModelElement(l))}),this.listenTo(n,"mouseup",()=>{y.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const l=this.toDomElement(s);return l.append("⁠",s.createElement("span"),"⁠"),l})}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(i=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||i.updateMarker("drop-target",{range:e}):i.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,n=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Xv(o,e,t){const n=o.model,i=o.editing.mapper;let s=null;const l=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),s=L3(o,t),s)return s;const c=U3(o,t),u=l?i.toModelPosition(l):null;return u?(s=j3(o,u,c),s||(s=n.schema.getNearestSelectionRange(u,y.isGecko?"forward":"backward"),s)?s:H3(o,u.parent)):V3(o,c)}function L3(o,e){const t=o.model,n=o.editing.mapper;if(Xe(e))return t.createRangeOn(n.toModelElement(e));if(!e.is("editableElement")){const i=e.findAncestor(s=>Xe(s)||s.is("editableElement"));if(Xe(i))return t.createRangeOn(n.toModelElement(i))}return null}function V3(o,e){const t=o.model,n=t.schema,i=t.createPositionAt(e,0);return n.getNearestSelectionRange(i,"forward")}function j3(o,e,t){const n=o.model;if(!n.schema.checkChild(t,"$block"))return null;const i=n.createPositionAt(t,0),s=e.path.slice(0,i.path.length),c=n.createPositionFromPath(e.root,s).nodeAfter;return c&&n.schema.isObject(c)?n.createRangeOn(c):null}function H3(o,e){const t=o.model;let n=e;for(;n;){if(t.schema.isObject(n))return t.createRangeOn(n);n=n.parent}return null}function U3(o,e){const t=o.editing.mapper,n=o.editing.view,i=t.toModelElement(e);if(i)return i;const s=n.createPositionBefore(e),l=t.findMappedViewAncestor(s);return t.toModelElement(l)}function eC(o){return y.isGecko?o.dropEffect:["all","copyMove"].includes(o.effectAllowed)?"move":"copy"}function tC(o,e){let t;function n(...i){n.cancel(),t=setTimeout(()=>o(...i),e)}return n.cancel=()=>{clearTimeout(t)},n}function nC(o){if(o.is("editableElement"))return null;if(o.hasClass("ck-widget__selection-handle"))return o.findAncestor(Xe);if(Xe(o))return o;const e=o.findAncestor(t=>Xe(t)||t.is("editableElement"));return Xe(e)?e:null}class W3 extends Y{static get pluginName(){return"PastePlainText"}static get requires(){return[oo]}init(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,s=t.document.selection;let l=!1;n.addObserver(Qf),this.listenTo(i,"keydown",(c,u)=>{l=u.shiftKey}),e.plugins.get(oo).on("contentInsertion",(c,u)=>{!l&&!$3(u.content,t.schema)||t.change(p=>{const m=Array.from(s.getAttributes()).filter(([x])=>t.schema.getAttributeProperties(x).isFormatting);s.isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0}),m.push(...s.getAttributes());const w=p.createRangeIn(u.content);for(const x of w.getItems())x.is("$textProxy")&&p.setAttributes(m,x)})})}}function $3(o,e){if(o.childCount>1)return!1;const t=o.getChild(0);return e.isObject(t)?!1:Array.from(t.getAttributeKeys()).length==0}class q3 extends Y{static get pluginName(){return"Clipboard"}static get requires(){return[oo,F3,W3]}}class K3 extends we{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!oC(e.schema,n))do if(n=n.parent,!n)return;while(!oC(e.schema,n));e.change(i=>{i.setSelection(n,"in")})}}function oC(o,e){return o.isLimit(e)&&(o.checkChild(e,"$text")||o.checkChild(e,"paragraph"))}const G3=Ah("Ctrl+A");class Q3 extends Y{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,n=e.editing.view.document;e.commands.add("selectAll",new K3(e)),this.listenTo(n,"keydown",(i,s)=>{Ar(s)===G3&&(e.execute("selectAll"),s.preventDefault())})}}const Z3='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class J3 extends Y{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),i=new Ye(t),s=t.t;return i.set({label:s("Select all"),icon:Z3,keystroke:"Ctrl+A",tooltip:!0}),i.bind("isEnabled").to(n,"isEnabled"),this.listenTo(i,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),i})}}class Y3 extends Y{static get requires(){return[Q3,J3]}static get pluginName(){return"SelectAll"}}class iC extends we{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(t,n)=>{n[1]={...n[1]};const i=n[1];i.batchType||(i.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model,s=i.document,l=[],c=e.map(p=>p.getTransformedByOperations(n)),u=c.flat();for(const p of c){const m=p.filter(w=>w.root!=s.graveyard).filter(w=>!ez(w,u));m.length&&(X3(m),l.push(m[0]))}l.length&&i.change(p=>{p.setSelection(l,{backward:t})})}_undo(e,t){const n=this.editor.model,i=n.document;this._createdBatches.add(t);const s=e.operations.slice().filter(l=>l.isDocumentOperation);s.reverse();for(const l of s){const c=l.baseVersion+1,u=Array.from(i.history.getOperations(c)),m=ZB([l.getReversed()],u,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const w of m)t.addOperation(w),n.applyOperation(w),i.history.setOperationAsUndone(l,w)}}}function X3(o){o.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<o.length;e++){const n=o[e-1].getJoined(o[e],!0);n&&(e--,o.splice(e,2,n))}}function ez(o,e){return e.some(t=>t!==o&&t.containsRange(o,!0))}class tz extends iC{execute(e=null){const t=e?this._stack.findIndex(s=>s.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const s=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,s),this.fire("revert",n.batch,i)}),this.refresh()}}class nz extends iC{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const i=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(i);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,t)}),this.refresh()}}class oz extends Y{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new tz(e),this._redoCommand=new nz(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const i=n[0];if(!i.isDocumentOperation)return;const s=i.batch,l=this._redoCommand.createdBatches.has(s),c=this._undoCommand.createdBatches.has(s);this._batchRegistry.has(s)||(this._batchRegistry.add(s),s.isUndoable&&(l?this._undoCommand.addBatch(s):c||(this._undoCommand.addBatch(s),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,i)=>{this._redoCommand.addBatch(i)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const rC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',sC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class iz extends Y{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,i=t.uiLanguageDirection=="ltr"?rC:sC,s=t.uiLanguageDirection=="ltr"?sC:rC;this._addButton("undo",n("Undo"),"CTRL+Z",i),this._addButton("redo",n("Redo"),"CTRL+Y",s)}_addButton(e,t,n,i){const s=this.editor;s.ui.componentFactory.add(e,l=>{const c=s.commands.get(e),u=new Ye(l);return u.set({label:t,icon:i,keystroke:n,tooltip:!0}),u.bind("isEnabled").to(c,"isEnabled"),this.listenTo(u,"execute",()=>{s.execute(e),s.editing.view.focus()}),u})}}class rz extends Y{static get requires(){return[oz,iz]}static get pluginName(){return"Undo"}}class sz extends Y{static get requires(){return[q3,yc,Y3,XO,PO,rz]}static get pluginName(){return"Essentials"}}class az extends we{refresh(){const e=this.editor.model,t=e.document,n=_t(t.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&aC(n,e.schema)}execute(e={}){const t=this.editor.model,n=t.document;t.change(i=>{const s=(e.selection||n.selection).getSelectedBlocks();for(const l of s)!l.is("element","paragraph")&&aC(l,t.schema)&&i.rename(l,"paragraph")})}}function aC(o,e){return e.checkChild(o.parent,"paragraph")&&!e.isObject(o)}class lz extends we{execute(e){const t=this.editor.model,n=e.attributes;let i=e.position;t.change(s=>{const l=s.createElement("paragraph");if(n&&t.schema.setAllowedAttributes(l,n,s),!t.schema.checkChild(i.parent,l)){const c=t.schema.findAllowedParent(i,l);if(!c)return;i=s.split(i,c).position}t.insertContent(l,i),s.setSelection(l,"in")})}}class ca extends Y{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new az(e)),e.commands.add("insertParagraph",new lz(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(n,{writer:i})=>!ca.paragraphLikeElements.has(n.name)||n.isEmpty?null:i.createElement("paragraph"),view:/.+/,converterPriority:"low"})}}ca.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class cz extends we{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=_t(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>lC(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,i=e.value;t.change(s=>{const l=Array.from(n.selection.getSelectedBlocks()).filter(c=>lC(c,i,t.schema));for(const c of l)c.is("element",i)||s.rename(c,i)})}}function lC(o,e,t){return t.checkChild(o.parent,e)&&!t.isObject(o)}const cC="paragraph";class dz extends Y{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[ca]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const i of t)i.model!=="paragraph"&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new cz(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(i,s)=>{const l=e.model.document.selection.getFirstPosition().parent;n.some(u=>l.is("element",u.model))&&!l.is("element",cC)&&l.childCount===0&&s.writer.rename(l,cC)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:se.get("low")+1})}}function uz(o){const e=o.t,t={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return o.config.get("heading.options").map(n=>{const i=t[n.title];return i&&i!=n.title&&(n.title=i),n})}var dC=f(3230),tp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};tp.insert="head",tp.singleton=!0,de()(dC.Z,tp),dC.Z.locals;class hz extends Y{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=uz(e),i=t("Choose heading"),s=t("Heading");e.ui.componentFactory.add("heading",l=>{const c={},u=new On,p=e.commands.get("heading"),m=e.commands.get("paragraph"),w=[p];for(const T of n){const M={type:"button",model:new nv({label:T.title,class:T.class,withText:!0})};T.model==="paragraph"?(M.model.bind("isOn").to(m,"value"),M.model.set("commandName","paragraph"),w.push(m)):(M.model.bind("isOn").to(p,"value",F=>F===T.model),M.model.set({commandName:"heading",commandValue:T.model})),u.add(M),c[T.model]=T.title}const x=Wi(l);return N_(x,u),x.buttonView.set({isOn:!1,withText:!0,tooltip:s}),x.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),x.bind("isEnabled").toMany(w,"isEnabled",(...T)=>T.some(M=>M)),x.buttonView.bind("label").to(p,"value",m,"value",(T,M)=>{const F=T||M&&"paragraph";return typeof F=="boolean"||!c[F]?i:c[F]}),this.listenTo(x,"execute",T=>{const{commandName:M,commandValue:F}=T.source;e.execute(M,F?{value:F}:void 0),e.editing.view.focus()}),x})}}class fz extends Y{static get requires(){return[dz,hz]}static get pluginName(){return"Heading"}}class pz extends we{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),i=t.model,s=n.getClosestSelectedImageElement(i.document.selection);i.change(l=>{l.setAttribute("alt",e.newValue,s)})}}function gz(o){return o.createContainerElement("span",{class:"image-inline"},o.createEmptyElement("img"))}function uC(o){return o.createContainerElement("figure",{class:"image"},[o.createEmptyElement("img"),o.createSlot("children")])}function hC(o,e){const t=o.plugins.get("ImageUtils"),n=o.plugins.has("ImageInlineEditing")&&o.plugins.has("ImageBlockEditing");return s=>t.isInlineImageView(s)?n&&(s.getStyle("display")=="block"||s.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:i(s):null;function i(s){const l={name:!0};return s.hasAttribute("src")&&(l.attributes=["src"]),l}}function np(o,e){const t=_t(e.getSelectedBlocks());return!t||o.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}class io extends Y{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null){const i=this.editor,s=i.model,l=s.document.selection;n=fC(i,t||l,n),e={...Object.fromEntries(l.getAttributes()),...e};for(const c in e)s.schema.checkAttribute(n,c)||delete e[c];return s.change(c=>{const u=c.createElement(n,e);return s.insertObject(u,t,null,{setSelection:"on",findOptimalPosition:!t&&n!="imageInline"?"auto":void 0}),u.parent?u:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let i=t.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return mz(this.editor,t)&&kz(t)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),Vv(e,t,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Xe(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}}function mz(o,e){if(fC(o,e,null)=="imageBlock"){const n=bz(e,o.model);if(o.model.schema.checkChild(n,"imageBlock"))return!0}else if(o.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}function kz(o){return[...o.focus.getAncestors()].every(e=>!e.is("element","imageBlock"))}function bz(o,e){const n=b3(o,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}function fC(o,e,t){const n=o.model.schema,i=o.config.get("image.insert.type");return o.plugins.has("ImageBlockEditing")?o.plugins.has("ImageInlineEditing")?t||(i==="inline"?"imageInline":i==="block"?"imageBlock":e.is("selection")?np(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class wz extends Y{static get requires(){return[io]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new pz(this.editor))}}var pC=f(6831),op={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};op.insert="head",op.singleton=!0,de()(pC.Z,op),pC.Z.locals;var gC=f(1590),ip={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};ip.insert="head",ip.singleton=!0,de()(gC.Z,ip),gC.Z.locals;class _z extends be{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new zn,this.keystrokes=new ko,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),kt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),kt.cancel,"ck-button-cancel","cancel"),this._focusables=new Bi,this._focusCycler=new $s({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),k({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,i){const s=new Ye(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createLabeledInputView(){const e=this.locale.t,t=new X_(this.locale,ev);return t.label=e("Text alternative"),t}}function vz(o){const e=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const n=mC(o);e.updatePosition(n)}}function mC(o){const e=o.editing.view,t=Vt.defaultPositions,n=o.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class Cz extends Y{static get requires(){return[bc]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const i=e.commands.get("imageTextAlternative"),s=new Ye(n);return s.set({label:t("Change image text alternative"),icon:kt.lowVision,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",l=>!!l),this.listenTo(s,"execute",()=>{this._showForm()}),s})}_createForm(){const e=this.editor,n=e.editing.view.document,i=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(_(_z))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,l)=>{this._hideForm(!0),l()}),this.listenTo(e.ui,"update",()=>{i.getClosestSelectedImageWidget(n.selection)?this._isVisible&&vz(e):this._hideForm(!0)}),b({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:mC(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class kC extends Y{static get requires(){return[wz,Cz]}static get pluginName(){return"ImageTextAlternative"}}function Az(o){const e=(t,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const s=o.findViewImgElement(n.viewItem);if(!s||!i.consumable.test(s,{name:!0}))return;i.consumable.consume(n.viewItem,{name:!0,classes:"image"});const l=i.convertItem(s,n.modelCursor),c=_t(l.modelRange.getItems());if(!c){i.consumable.revert(n.viewItem,{name:!0,classes:"image"});return}i.convertChildren(n.viewItem,c),i.updateConversionResult(c,n)};return t=>{t.on("element:figure",e)}}function bC(o,e){const t=(n,i,s)=>{if(!s.consumable.consume(i.item,n.name))return;const l=s.writer,c=s.mapper.toViewElement(i.item),u=o.findViewImgElement(c);if(i.attributeNewValue===null){const p=i.attributeOldValue;p&&p.data&&(l.removeAttribute("srcset",u),l.removeAttribute("sizes",u),p.width&&l.removeAttribute("width",u))}else{const p=i.attributeNewValue;p&&p.data&&(l.setAttribute("srcset",p.data,u),l.setAttribute("sizes","100vw",u),p.width&&l.setAttribute("width",p.width,u))}};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Tc(o,e,t){const n=(i,s,l)=>{if(!l.consumable.consume(s.item,i.name))return;const c=l.writer,u=l.mapper.toViewElement(s.item),p=o.findViewImgElement(u);c.setAttribute(s.attributeKey,s.attributeNewValue||"",p)};return i=>{i.on(`attribute:${t}:${e}`,n)}}class yz extends Xn{observe(e){this.listenTo(e,"load",(t,n)=>{const i=n.target;this.checkShouldIgnoreEventFromTarget(i)||i.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class xz extends we{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&Ee("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&Ee("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Dt(e.source),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(n.getAttributes());t.forEach((l,c)=>{const u=n.getSelectedElement();if(typeof l=="string"&&(l={src:l}),c&&u&&i.isImage(u)){const p=this.editor.model.createPositionAfter(u);i.insertImage({...l,...s},p)}else i.insertImage({...l,...s})})}}class Ez extends we{refresh(){const t=this.editor.plugins.get("ImageUtils"),n=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(n),this.value=this.isEnabled?n.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}class wC extends Y{static get requires(){return[io]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(yz),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:s=>{const l={data:s.getAttribute("srcset")};return s.hasAttribute("width")&&(l.width=s.getAttribute("width")),l}}});const n=new xz(e),i=new Ez(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",n)}}class _C extends we{constructor(e,t){super(e),this._modelElementName=t}refresh(){const t=this.editor.plugins.get("ImageUtils"),n=t.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=t.isInlineImage(n):this.isEnabled=t.isBlockImage(n)}execute(){const e=this.editor,t=this.editor.model,n=e.plugins.get("ImageUtils"),i=n.getClosestSelectedImageElement(t.document.selection),s=Object.fromEntries(i.getAttributes());return!s.src&&!s.uploadId?null:t.change(l=>{const c=Array.from(t.markers).filter(m=>m.getRange().containsItem(i)),u=n.insertImage(s,t.createSelection(i,"on"),this._modelElementName);if(!u)return null;const p=l.createRangeOn(u);for(const m of c){const w=m.getRange(),x=w.root.rootName!="$graveyard"?w.getJoined(p,!0):p;l.updateMarker(m,{range:x})}return{oldElement:i,newElement:u}})}}class vC extends Y{static get requires(){return[wC,io,oo]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new _C(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:l})=>uC(l)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(s,{writer:l})=>i.toImageWidget(uC(l),l,t("image widget"))}),n.for("downcast").add(Tc(i,"imageBlock","src")).add(Tc(i,"imageBlock","alt")).add(bC(i,"imageBlock")),n.for("upcast").elementToElement({view:hC(e,"imageBlock"),model:(s,{writer:l})=>l.createElement("imageBlock",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)}).add(Az(i))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(l,c)=>{const u=Array.from(c.content.getChildren());let p;if(!u.every(i.isInlineImageView))return;c.targetRanges?p=e.editing.mapper.toModelRange(c.targetRanges[0]):p=t.document.selection.getFirstRange();const m=t.createSelection(p);if(np(t.schema,m)==="imageBlock"){const w=new Rr(n.document),x=u.map(T=>w.createElement("figure",{class:"image"},T));c.content=w.createDocumentFragment(x)}})}}var CC=f(9048),rp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};rp.insert="head",rp.singleton=!0,de()(CC.Z,rp),CC.Z.locals;class Sz extends Y{static get requires(){return[vC,Sc,kC]}static get pluginName(){return"ImageBlock"}}class Dz extends Y{static get requires(){return[wC,io,oo]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,i)=>{if(n.endsWith("caption")&&i.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new _C(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(s,{writer:l})=>l.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(s,{writer:l})=>i.toImageWidget(gz(l),l,t("image widget"))}),n.for("downcast").add(Tc(i,"imageInline","src")).add(Tc(i,"imageInline","alt")).add(bC(i,"imageInline")),n.for("upcast").elementToElement({view:hC(e,"imageInline"),model:(s,{writer:l})=>l.createElement("imageInline",s.hasAttribute("src")?{src:s.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",(l,c)=>{const u=Array.from(c.content.getChildren());let p;if(!u.every(i.isBlockImageView))return;c.targetRanges?p=e.editing.mapper.toModelRange(c.targetRanges[0]):p=t.document.selection.getFirstRange();const m=t.createSelection(p);if(np(t.schema,m)==="imageInline"){const w=new Rr(n.document),x=u.map(T=>T.childCount===1?(Array.from(T.getAttributes()).forEach(M=>w.setAttribute(...M,i.findViewImgElement(T))),T.getChild(0)):T);c.content=w.createDocumentFragment(x)}})}}class Tz extends Y{static get requires(){return[Dz,Sc,kC]}static get pluginName(){return"ImageInline"}}class Pz extends Y{static get requires(){return[Sz,Tz]}static get pluginName(){return"Image"}}class Iz extends we{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(vC)){this.isEnabled=!1,this.value=!1;return}const i=e.model.document.selection,s=i.getSelectedElement();if(!s){const l=t.getCaptionFromModelSelection(i);this.isEnabled=!!l,this.value=!!l;return}this.isEnabled=n.isImage(s),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const i=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing"),l=this.editor.plugins.get("ImageUtils");let c=i.getSelectedElement();const u=s._getSavedCaption(c);l.isInlineImage(c)&&(this.editor.execute("imageTypeBlock"),c=i.getSelectedElement());const p=u||e.createElement("caption");e.append(p,c),t&&e.setSelection(p,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,i=t.plugins.get("ImageCaptionEditing"),s=t.plugins.get("ImageCaptionUtils");let l=n.getSelectedElement(),c;l?c=s.getCaptionFromImageModelElement(l):(c=s.getCaptionFromModelSelection(n),l=c.parent),i._saveCaption(l,c),e.setSelection(l,"on"),e.remove(c)}}class AC extends Y{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[io]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class Bz extends Y{static get requires(){return[io,AC]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new Iz(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),s=e.t;e.conversion.for("upcast").elementToElement({view:l=>i.matchImageCaptionViewElement(l),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(l,{writer:c})=>n.isBlockImage(l.parent)?c.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(l,{writer:c})=>{if(!n.isBlockImage(l.parent))return null;const u=c.createEditableElement("figcaption");c.setCustomProperty("imageCaption",!0,u),Mb({view:t,element:u,text:s("Enter image caption"),keepOnFocus:!0});const p=l.parent.getAttribute("alt"),m=p?s("Caption for image: %0",[p]):s("Caption for the image");return Hv(u,c,{label:m})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),s=e.commands.get("imageTypeBlock"),l=c=>{if(!c.return)return;const{oldElement:u,newElement:p}=c.return;if(!u)return;if(t.isBlockImage(u)){const w=n.getCaptionFromImageModelElement(u);if(w){this._saveCaption(p,w);return}}const m=this._getSavedCaption(u);m&&this._saveCaption(p,m)};i&&this.listenTo(i,"execute",l,{priority:"low"}),s&&this.listenTo(s,"execute",l,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?Te.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const s=t.document.differ.getChanges();for(const l of s){if(l.attributeKey!=="alt")continue;const c=l.range.start.nodeAfter;if(n.isBlockImage(c)){const u=i.getCaptionFromImageModelElement(c);if(!u)return;e.editing.reconvertItem(u)}}})}}class Rz extends Y{static get requires(){return[AC]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",s=>{const l=e.commands.get("toggleImageCaption"),c=new Ye(s);return c.set({icon:kt.caption,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),c.bind("label").to(l,"value",u=>i(u?"Toggle caption off":"Toggle caption on")),this.listenTo(c,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const u=n.getCaptionFromModelSelection(e.model.document.selection);if(u){const p=e.editing.mapper.toViewElement(u);t.scrollToTheSelection(),t.change(m=>{m.addClass("image__caption_highlighted",p)})}e.editing.view.focus()}),c})}}var yC=f(8662),sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};sp.insert="head",sp.singleton=!0,de()(yC.Z,sp),yC.Z.locals;class Oz extends Y{static get requires(){return[Bz,Rz]}static get pluginName(){return"ImageCaption"}}class zz extends we{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const i of n.modelElements)this._defaultStyles[i]=n.name;return[n.name,n]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,i=t.plugins.get("ImageUtils");n.change(s=>{const l=e.value;let c=i.getClosestSelectedImageElement(n.document.selection);l&&this.shouldConvertImageType(l,c)&&(this.editor.execute(i.isBlockImage(c)?"imageTypeInline":"imageTypeBlock"),c=i.getClosestSelectedImageElement(n.document.selection)),!l||this._styles.get(l).isDefault?s.removeAttribute("imageStyle",c):s.setAttribute("imageStyle",l,c)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}const{objectFullWidth:Mz,objectInline:xC,objectLeft:EC,objectRight:ap,objectCenter:lp,objectBlockLeft:SC,objectBlockRight:DC}=kt,Pc={get inline(){return{name:"inline",title:"In line",icon:xC,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:EC,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:SC,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:lp,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:ap,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:DC,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:lp,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:ap,modelElements:["imageBlock"],className:"image-style-side"}}},TC={full:Mz,left:SC,right:DC,center:lp,inlineLeft:EC,inlineRight:ap,inline:xC},PC=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Nz(o){return(o.configuredStyles.options||[]).map(n=>Vz(n)).filter(n=>jz(n,o))}function Fz(o,e){return o&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:o?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}}function Lz(o){return o.has("ImageBlockEditing")&&o.has("ImageInlineEditing")?[...PC]:[]}function Vz(o){return typeof o=="string"?Pc[o]?o={...Pc[o]}:o={name:o}:o=Hz(Pc[o.name],o),typeof o.icon=="string"&&(o.icon=TC[o.icon]||o.icon),o}function jz(o,{isBlockPluginLoaded:e,isInlinePluginLoaded:t}){const{modelElements:n,name:i}=o;if(!n||!n.length||!i)return IC({style:o}),!1;{const s=[e?"imageBlock":null,t?"imageInline":null];if(!n.some(l=>s.includes(l)))return Ee("image-style-missing-dependency",{style:o,missingPlugins:n.map(l=>l==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}function Hz(o,e){const t={...e};for(const n in o)Object.prototype.hasOwnProperty.call(e,n)||(t[n]=o[n]);return t}function IC(o){Ee("image-style-configuration-definition-invalid",o)}const cp={normalizeStyles:Nz,getDefaultStylesConfiguration:Fz,getDefaultDropdownDefinitions:Lz,warnInvalidStyle:IC,DEFAULT_OPTIONS:Pc,DEFAULT_ICONS:TC,DEFAULT_DROPDOWN_DEFINITIONS:PC};function Uz(o){return(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=BC(t.attributeNewValue,o),s=BC(t.attributeOldValue,o),l=n.mapper.toViewElement(t.item),c=n.writer;s&&c.removeClass(s.className,l),i&&c.addClass(i.className,l)}}function Wz(o){const e={imageInline:o.filter(t=>!t.isDefault&&t.modelElements.includes("imageInline")),imageBlock:o.filter(t=>!t.isDefault&&t.modelElements.includes("imageBlock"))};return(t,n,i)=>{if(!n.modelRange)return;const s=n.viewItem,l=_t(n.modelRange.getItems());if(l&&i.schema.checkAttribute(l,"imageStyle"))for(const c of e[l.name])i.consumable.consume(s,{classes:c.className})&&i.writer.setAttribute("imageStyle",c.name,l)}}function BC(o,e){for(const t of e)if(t.name===o)return t}class RC extends Y{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[io]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=cp,n=this.editor,i=n.plugins.has("ImageBlockEditing"),s=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(i,s)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:s}),this._setupConversion(i,s),this._setupPostFixer(),n.commands.add("imageStyle",new zz(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,i=n.model.schema,s=Uz(this.normalizedStyles),l=Wz(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",s),n.data.downcastDispatcher.on("attribute:imageStyle",s),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",l,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",l,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(io),i=new Map(this.normalizedStyles.map(s=>[s.name,s]));t.registerPostFixer(s=>{let l=!1;for(const c of t.differ.getChanges())if(c.type=="insert"||c.type=="attribute"&&c.attributeKey=="imageStyle"){let u=c.type=="insert"?c.position.nodeAfter:c.range.start.nodeAfter;if(u&&u.is("element","paragraph")&&u.childCount>0&&(u=u.getChild(0)),!n.isImage(u))continue;const p=u.getAttribute("imageStyle");if(!p)continue;const m=i.get(p);(!m||!m.modelElements.includes(u.name))&&(s.removeAttribute("imageStyle",u),l=!0)}return l})}}var OC=f(4622),dp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};dp.insert="head",dp.singleton=!0,de()(OC.Z,dp),OC.Z.locals;class $z extends Y{static get requires(){return[RC]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=e.get("ImageStyleEditing"),i=zC(n.normalizedStyles,this.localizedDefaultStylesTitles);for(const l of i)this._createButton(l);const s=zC([...t.filter(Ne),...cp.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const l of s)this._createDropdown(l,i)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,i=>{let s;const{defaultItem:l,items:c,title:u}=e,p=c.filter(T=>t.find(({name:M})=>MC(M)===T)).map(T=>{const M=n.create(T);return T===l&&(s=M),M});c.length!==p.length&&cp.warnInvalidStyle({dropdown:e});const m=Wi(i,Nh),w=m.buttonView,x=w.arrowView;return Df(m,p,{enableActiveItemFocusOnDropdownOpen:!0}),w.set({label:NC(u,s.label),class:null,tooltip:!0}),x.unbind("label"),x.set({label:u}),w.bind("icon").toMany(p,"isOn",(...T)=>{const M=T.findIndex(zi);return M<0?s.icon:p[M].icon}),w.bind("label").toMany(p,"isOn",(...T)=>{const M=T.findIndex(zi);return NC(u,M<0?s.label:p[M].label)}),w.bind("isOn").toMany(p,"isOn",(...T)=>T.some(zi)),w.bind("class").toMany(p,"isOn",(...T)=>T.some(zi)?"ck-splitbutton_flatten":void 0),w.on("execute",()=>{p.some(({isOn:T})=>T)?m.isOpen=!m.isOpen:s.fire("execute")}),m.bind("isEnabled").toMany(p,"isEnabled",(...T)=>T.some(zi)),this.listenTo(m,"execute",()=>{this.editor.editing.view.focus()}),m})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(MC(t),n=>{const i=this.editor.commands.get("imageStyle"),s=new Ye(n);return s.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),s.bind("isEnabled").to(i,"isEnabled"),s.bind("isOn").to(i,"value",l=>l===t),s.on("execute",this._executeCommand.bind(this,t)),s})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function zC(o,e){for(const t of o)e[t.title]&&(t.title=e[t.title]);return o}function MC(o){return`imageStyle:${o}`}function NC(o,e){return(o?o+": ":"")+e}class qz extends Y{static get requires(){return[RC,$z]}static get pluginName(){return"ImageStyle"}}class Kz extends Y{static get requires(){return[Dc,io]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Dc),i=e.plugins.get("ImageUtils");n.register("image",{ariaLabel:t("Image toolbar"),items:Gz(e.config.get("image.toolbar")||[]),getRelatedElement:s=>i.getClosestSelectedImageWidget(s)})}}function Gz(o){return o.map(e=>Ne(e)?e.name:e)}class Qz extends be{constructor(e){super(e),this.buttonView=new Ye(e),this._fileInputView=new Zz(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Zz extends be{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function FC(o){const e=o.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Jz(o){return new Promise((e,t)=>{const n=o.getAttribute("src");fetch(n).then(i=>i.blob()).then(i=>{const s=LC(i,n),c=`image.${s.replace("image/","")}`,u=new File([i],c,{type:s});e(u)}).catch(i=>i&&i.name==="TypeError"?Xz(n).then(e).catch(t):t(i))})}function Yz(o,e){return!o.isInlineImageView(e)||!e.getAttribute("src")?!1:!!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g)}function LC(o,e){return o.type?o.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function Xz(o){return eM(o).then(e=>{const t=LC(e,o),i=`image.${t.replace("image/","")}`;return new File([e],i,{type:t})})}function eM(o){return new Promise((e,t)=>{const n=ke.document.createElement("img");n.addEventListener("load",()=>{const i=ke.document.createElement("canvas");i.width=n.width,i.height=n.height,i.getContext("2d").drawImage(n,0,0),i.toBlob(l=>l?e(l):t())}),n.addEventListener("error",()=>t()),n.src=o})}class tM extends Y{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=i=>{const s=new Qz(i),l=e.commands.get("uploadImage"),c=e.config.get("image.upload.types"),u=FC(c);return s.set({acceptedType:c.map(p=>`image/${p}`).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:t("Insert image"),icon:kt.image,tooltip:!0}),s.buttonView.bind("isEnabled").to(l),s.on("done",(p,m)=>{const w=Array.from(m).filter(x=>u.test(x.type));w.length&&(e.execute("uploadImage",{file:w}),e.editing.view.focus())}),s};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}var VC=f(5870),up={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};up.insert="head",up.singleton=!0,de()(VC.Z,up),VC.Z.locals;var jC=f(9899),hp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};hp.insert="head",hp.singleton=!0,de()(jC.Z,hp),jC.Z.locals;var HC=f(9825),fp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};fp.insert="head",fp.singleton=!0,de()(HC.Z,fp),HC.Z.locals;class nM extends Y{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.uploadStatusChange=(t,n,i)=>{const s=this.editor,l=n.item,c=l.getAttribute("uploadId");if(!i.consumable.consume(n.item,t.name))return;const u=s.plugins.get("ImageUtils"),p=s.plugins.get(qi),m=c?n.attributeNewValue:null,w=this.placeholder,x=s.editing.mapper.toViewElement(l),T=i.writer;if(m=="reading"){UC(x,T),WC(u,w,x,T);return}if(m=="uploading"){const M=p.loaders.get(c);UC(x,T),M?($C(x,T),iM(x,T,M,s.editing.view),cM(u,x,T,M)):WC(u,w,x,T);return}m=="complete"&&p.loaders.get(c)&&sM(x,T,s.editing.view),rM(x,T),$C(x,T),oM(x,T)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function UC(o,e){o.hasClass("ck-appear")||e.addClass("ck-appear",o)}function oM(o,e){e.removeClass("ck-appear",o)}function WC(o,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const i=o.findViewImgElement(t);i.getAttribute("src")!==e&&n.setAttribute("src",e,i),qC(t,"placeholder")||n.insert(n.createPositionAfter(i),lM(n))}function $C(o,e){o.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",o),KC(o,e,"placeholder")}function iM(o,e,t,n){const i=aM(e);e.insert(e.createPositionAt(o,"end"),i),t.on("change:uploadedPercent",(s,l,c)=>{n.change(u=>{u.setStyle("width",c+"%",i)})})}function rM(o,e){KC(o,e,"progressBar")}function sM(o,e,t){const n=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(o,"end"),n),setTimeout(()=>{t.change(i=>i.remove(i.createRangeOn(n)))},3e3)}function aM(o){const e=o.createUIElement("div",{class:"ck-progress-bar"});return o.setCustomProperty("progressBar",!0,e),e}function lM(o){const e=o.createUIElement("div",{class:"ck-upload-placeholder-loader"});return o.setCustomProperty("placeholder",!0,e),e}function qC(o,e){for(const t of o.getChildren())if(t.getCustomProperty(e))return t}function KC(o,e,t){const n=qC(o,t);n&&e.remove(e.createRangeOn(n))}function cM(o,e,t,n){if(n.data){const i=o.findViewImgElement(e);t.setAttribute("src",n.data,i)}}class dM extends we{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=Dt(e.file),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),s=Object.fromEntries(n.getAttributes());t.forEach((l,c)=>{const u=n.getSelectedElement();if(c&&u&&i.isImage(u)){const p=this.editor.model.createPositionAfter(u);this._uploadImage(l,s,p)}else this._uploadImage(l,s)})}_uploadImage(e,t,n){const i=this.editor,l=i.plugins.get(qi).createLoader(e),c=i.plugins.get("ImageUtils");l&&c.insertImage({...t,uploadId:l.id},n)}}class uM extends Y{static get requires(){return[qi,tv,oo,io]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,t=e.model.document,n=e.conversion,i=e.plugins.get(qi),s=e.plugins.get("ImageUtils"),l=e.plugins.get("ClipboardPipeline"),c=FC(e.config.get("image.upload.types")),u=new dM(e);e.commands.add("uploadImage",u),e.commands.add("imageUpload",u),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(p,m)=>{if(hM(m.dataTransfer))return;const w=Array.from(m.dataTransfer.files).filter(x=>x?c.test(x.type):!1);w.length&&(p.stop(),e.model.change(x=>{m.targetRanges&&x.setSelection(m.targetRanges.map(T=>e.editing.mapper.toModelRange(T))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:w})})}))}),this.listenTo(l,"inputTransformation",(p,m)=>{const w=Array.from(e.editing.view.createRangeIn(m.content)).map(T=>T.item).filter(T=>Yz(s,T)&&!T.getAttribute("uploadProcessed")).map(T=>({promise:Jz(T),imageElement:T}));if(!w.length)return;const x=new Rr(e.editing.view.document);for(const T of w){x.setAttribute("uploadProcessed",!0,T.imageElement);const M=i.createLoader(T.promise);M&&(x.setAttribute("src","",T.imageElement),x.setAttribute("uploadId",M.id,T.imageElement))}}),e.editing.view.document.on("dragover",(p,m)=>{m.preventDefault()}),t.on("change",()=>{const p=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),m=new Set;for(const w of p)if(w.type=="insert"&&w.name!="$text"){const x=w.position.nodeAfter,T=w.position.root.rootName=="$graveyard";for(const M of fM(e,x)){const F=M.getAttribute("uploadId");if(!F)continue;const W=i.loaders.get(F);W&&(T?m.has(F)||W.abort():(m.add(F),this._uploadImageElements.set(F,M),W.status=="idle"&&this._readAndUpload(W)))}}}),this.on("uploadComplete",(p,{imageElement:m,data:w})=>{const x=w.urls?w.urls:w;this.editor.model.change(T=>{T.setAttribute("src",x.default,m),this._parseAndSetSrcsetAttributeOnImage(x,m,T)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,i=t.locale.t,s=t.plugins.get(qi),l=t.plugins.get(tv),c=t.plugins.get("ImageUtils"),u=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},m=>{m.setAttribute("uploadStatus","reading",u.get(e.id))}),e.read().then(()=>{const m=e.upload(),w=u.get(e.id);if(y.isSafari){const x=t.editing.mapper.toViewElement(w),T=c.findViewImgElement(x);t.editing.view.once("render",()=>{if(!T.parent)return;const M=t.editing.view.domConverter.mapViewToDom(T.parent);if(!M)return;const F=M.style.display;M.style.display="none",M._ckHack=M.offsetHeight,M.style.display=F})}return n.enqueueChange({isUndoable:!1},x=>{x.setAttribute("uploadStatus","uploading",w)}),m}).then(m=>{n.enqueueChange({isUndoable:!1},w=>{const x=u.get(e.id);w.setAttribute("uploadStatus","complete",x),this.fire("uploadComplete",{data:m,imageElement:x})}),p()}).catch(m=>{if(e.status!=="error"&&e.status!=="aborted")throw m;e.status=="error"&&m&&l.showWarning(m,{title:i("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},w=>{w.remove(u.get(e.id))}),p()});function p(){n.enqueueChange({isUndoable:!1},m=>{const w=u.get(e.id);m.removeAttribute("uploadId",w),m.removeAttribute("uploadStatus",w),u.delete(e.id)}),s.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let i=0;const s=Object.keys(e).filter(l=>{const c=parseInt(l,10);if(!isNaN(c))return i=Math.max(i,c),!0}).map(l=>`${e[l]} ${l}w`).join(", ");s!=""&&n.setAttribute("srcset",{data:s,width:i},t)}}function hM(o){return Array.from(o.types).includes("text/html")&&o.getData("text/html")!==""}function fM(o,e){const t=o.plugins.get("ImageUtils");return Array.from(o.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}class pM extends Y{static get pluginName(){return"ImageUpload"}static get requires(){return[uM,tM,nM]}}class gM extends Y{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Ib(e)),e.commands.add("outdent",new Ib(e))}}const GC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',QC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class mM extends Y{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,i=t.uiLanguageDirection=="ltr"?GC:QC,s=t.uiLanguageDirection=="ltr"?QC:GC;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),s)}_defineButton(e,t,n){const i=this.editor;i.ui.componentFactory.add(e,s=>{const l=i.commands.get(e),c=new Ye(s);return c.set({label:t,icon:n,tooltip:!0}),c.bind("isEnabled").to(l,"isEnabled"),this.listenTo(c,"execute",()=>{i.execute(e),i.editing.view.focus()}),c})}}class kM extends Y{static get pluginName(){return"Indent"}static get requires(){return[gM,mM]}}const Lr="italic";class bM extends Y{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Lr}),e.model.schema.setAttributeProperties(Lr,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Lr,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Lr,new Mv(e,Lr)),e.keystrokes.set("CTRL+I",Lr)}}const wM='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',pp="italic";class _M extends Y{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(pp,n=>{const i=e.commands.get(pp),s=new Ye(n);return s.set({label:t("Italic"),icon:wM,keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(s,"execute",()=>{e.execute(pp),e.editing.view.focus()}),s})}}class vM extends Y{static get requires(){return[bM,_M]}static get pluginName(){return"Italic"}}class CM{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,i)=>{if(!i.consumable.test(n.item,"attribute:linkHref")||!(n.item.is("selection")||i.schema.isInline(n.item)))return;const s=i.writer,l=s.document.selection;for(const c of this._definitions){const u=s.createAttributeElement("a",c.attributes,{priority:5});c.classes&&s.addClass(c.classes,u);for(const p in c.styles)s.setStyle(p,c.styles[p],u);s.setCustomProperty("link",!0,u),c.callback(n.attributeNewValue)?n.item.is("selection")?s.wrap(l.getFirstRange(),u):s.wrap(i.mapper.toViewRange(n.range),u):s.unwrap(i.mapper.toViewRange(n.range),u)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:i,mapper:s})=>{const l=s.toViewElement(n.item),c=Array.from(l.getChildren()).find(u=>u.is("element","a"));for(const u of this._definitions){const p=bo(u.attributes);if(u.callback(n.attributeNewValue)){for(const[m,w]of p)m==="class"?i.addClass(w,c):i.setAttribute(m,w,c);u.classes&&i.addClass(u.classes,c);for(const m in u.styles)i.setStyle(m,u.styles[m],c)}else{for(const[m,w]of p)m==="class"?i.removeClass(w,c):i.removeAttribute(m,c);u.classes&&i.removeClass(u.classes,c);for(const m in u.styles)i.removeStyle(m,c)}}})}}}function AM(o,e,t){var n=o.length;return t=t===void 0?n:t,!e&&t>=n?o:Wb(o,e,t)}const yM=AM;var xM="\\ud800-\\udfff",EM="\\u0300-\\u036f",SM="\\ufe20-\\ufe2f",DM="\\u20d0-\\u20ff",TM=EM+SM+DM,PM="\\ufe0e\\ufe0f",IM="\\u200d",BM=RegExp("["+IM+xM+TM+PM+"]");function RM(o){return BM.test(o)}const ZC=RM;function OM(o){return o.split("")}const zM=OM;var JC="\\ud800-\\udfff",MM="\\u0300-\\u036f",NM="\\ufe20-\\ufe2f",FM="\\u20d0-\\u20ff",LM=MM+NM+FM,VM="\\ufe0e\\ufe0f",jM="["+JC+"]",gp="["+LM+"]",mp="\\ud83c[\\udffb-\\udfff]",HM="(?:"+gp+"|"+mp+")",YC="[^"+JC+"]",XC="(?:\\ud83c[\\udde6-\\uddff]){2}",eA="[\\ud800-\\udbff][\\udc00-\\udfff]",UM="\\u200d",tA=HM+"?",nA="["+VM+"]?",WM="(?:"+UM+"(?:"+[YC,XC,eA].join("|")+")"+nA+tA+")*",$M=nA+tA+WM,qM="(?:"+[YC+gp+"?",gp,XC,eA,jM].join("|")+")",KM=RegExp(mp+"(?="+mp+")|"+qM+$M,"g");function GM(o){return o.match(KM)||[]}const QM=GM;function ZM(o){return ZC(o)?QM(o):zM(o)}const JM=ZM;function YM(o){return function(e){e=Uh(e);var t=ZC(e)?JM(e):void 0,n=t?t[0]:e.charAt(0),i=t?yM(t,1).join(""):e.slice(1);return n[o]()+i}}var XM=YM("toUpperCase");const eN=XM,tN=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,nN=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,oN=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,iN=/^((\w+:(\/{2,})?)|(\W))/i,kp="Ctrl+K";function rN(o){return o.is("attributeElement")&&!!o.getCustomProperty("link")}function oA(o,{writer:e}){const t=e.createAttributeElement("a",{href:o},{priority:5});return e.setCustomProperty("link",!0,t),t}function iA(o){const e=String(o);return sN(e)?e:"#"}function sN(o){return!!o.replace(tN,"").match(nN)}function aN(o,e){const t={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return e.forEach(n=>("label"in n&&t[n.label]&&(n.label=t[n.label]),n)),e}function lN(o){const e=[];if(o)for(const[t,n]of Object.entries(o)){const i=Object.assign({},n,{id:`link${eN(t)}`});e.push(i)}return e}function bp(o,e){return o?e.checkAttribute(o.name,"linkHref"):!1}function cN(o){return oN.test(o)}function wp(o,e){const t=cN(o)?"mailto:":e,n=!!t&&!rA(o);return o&&n?t+o:o}function rA(o){return iN.test(o)}function sA(o){window.open(o,"_blank","noopener")}class dN extends we{constructor(){super(...arguments),this.manualDecorators=new On,this.automaticDecorators=new CM}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||_t(t.getSelectedBlocks());bp(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e,t={}){const n=this.editor.model,i=n.document.selection,s=[],l=[];for(const c in t)t[c]?s.push(c):l.push(c);n.change(c=>{if(i.isCollapsed){const u=i.getFirstPosition();if(i.hasAttribute("linkHref")){const p=aA(i);let m=Mr(u,"linkHref",i.getAttribute("linkHref"),n);i.getAttribute("linkHref")===p&&(m=this._updateLinkContent(n,c,m,e)),c.setAttribute("linkHref",e,m),s.forEach(w=>{c.setAttribute(w,!0,m)}),l.forEach(w=>{c.removeAttribute(w,m)}),c.setSelection(c.createPositionAfter(m.end.nodeBefore))}else if(e!==""){const p=bo(i.getAttributes());p.set("linkHref",e),s.forEach(w=>{p.set(w,!0)});const{end:m}=n.insertContent(c.createText(e,p),u);c.setSelection(m)}["linkHref",...s,...l].forEach(p=>{c.removeSelectionAttribute(p)})}else{const u=n.schema.getValidRanges(i.getRanges(),"linkHref"),p=[];for(const w of i.getSelectedBlocks())n.schema.checkAttribute(w,"linkHref")&&p.push(c.createRangeOn(w));const m=p.slice();for(const w of u)this._isRangeToUpdate(w,p)&&m.push(w);for(const w of m){let x=w;if(m.length===1){const T=aA(i);i.getAttribute("linkHref")===T&&(x=this._updateLinkContent(n,c,w,e),c.setSelection(c.createSelection(x)))}c.setAttribute("linkHref",e,x),s.forEach(T=>{c.setAttribute(T,!0,x)}),l.forEach(T=>{c.removeAttribute(T,x)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,i=n.getSelectedElement();return bp(i,t.schema)?i.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,i){const s=t.createText(i,{linkHref:i});return e.insertContent(s,n)}}function aA(o){if(o.isCollapsed){const e=o.getFirstPosition();return e.textNode&&e.textNode.data}else{const e=Array.from(o.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class uN extends we{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();bp(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,i=e.commands.get("link");t.change(s=>{const l=n.isCollapsed?[Mr(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const c of l)if(s.removeAttribute("linkHref",c),i)for(const u of i.manualDecorators)s.removeAttribute(u.id,c)})}}class hN extends De(){constructor({id:e,label:t,attributes:n,classes:i,styles:s,defaultValue:l}){super(),this.id=e,this.set("value",void 0),this.defaultValue=l,this.label=t,this.attributes=n,this.classes=i,this.styles=s}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var lA=f(399),_p={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};_p.insert="head",_p.singleton=!0,de()(lA.Z,_p),lA.Z.locals;const fN="ck-link_selected",cA="automatic",pN="manual",gN=/^(https?:)?\/\//;class mN extends Y{static get pluginName(){return"LinkEditing"}static get requires(){return[Cv,gv,oo]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:oA}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(i,s)=>oA(iA(i),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:i=>i.getAttribute("href")}}),e.commands.add("link",new dN(e)),e.commands.add("unlink",new uN(e));const t=aN(e.t,lN(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(i=>i.mode===cA)),this._enableManualDecorators(t.filter(i=>i.mode===pN)),e.plugins.get(Cv).registerAttribute("linkHref"),HO(e,"linkHref","a",fN),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,i=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&i.add({id:"linkIsExternal",mode:cA,callback:s=>!!s&&gN.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),i.add(e),i.length&&t.conversion.for("downcast").add(i.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,i=t.commands.get("link").manualDecorators;e.forEach(s=>{t.model.schema.extend("$text",{allowAttributes:s.id});const l=new hN(s);i.add(l),t.conversion.for("downcast").attributeToElement({model:l.id,view:(c,{writer:u,schema:p},{item:m})=>{if((m.is("selection")||p.isInline(m))&&c){const w=u.createAttributeElement("a",l.attributes,{priority:5});l.classes&&u.addClass(l.classes,w);for(const x in l.styles)u.setStyle(x,l.styles[x],w);return u.setCustomProperty("link",!0,w),w}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",...l._createPattern()},model:{key:l.id}})})}_enableLinkOpen(){const e=this.editor,n=e.editing.view.document;this.listenTo(n,"click",(i,s)=>{if(!(y.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let c=s.domTarget;if(c.tagName.toLowerCase()!="a"&&(c=c.closest("a")),!c)return;const u=c.getAttribute("href");u&&(i.stop(),s.preventDefault(),sA(u))},{context:"$capture"}),this.listenTo(n,"keydown",(i,s)=>{const c=e.commands.get("link").value;c&&s.keyCode===_e.enter&&s.altKey&&(i.stop(),sA(c))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,n=t.document.selection;this.listenTo(t,"insertContent",()=>{const i=n.anchor.nodeBefore,s=n.anchor.nodeAfter;n.hasAttribute("linkHref")&&i&&i.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||t.change(l=>{vp(l,Cp(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(vf);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const i=t.document.selection;if(!i.isCollapsed||!i.hasAttribute("linkHref"))return;const s=i.getFirstPosition(),l=Mr(s,"linkHref",i.getAttribute("linkHref"),t);(s.isTouching(l.start)||s.isTouching(l.end))&&t.change(c=>{vp(c,Cp(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,i=!1;this.listenTo(t.document,"delete",()=>{i=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const s=e.model.document.selection;if(!s.isCollapsed){if(i){i=!1;return}dA(e)&&kN(e.model)&&(n=s.getAttributes())}},{priority:"high"}),this.listenTo(e.model,"insertContent",(s,[l])=>{i=!1,dA(e)&&n&&(e.model.change(c=>{for(const[u,p]of n)c.setAttribute(u,p,l)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view;let s=!1,l=!1;this.listenTo(i.document,"delete",(c,u)=>{l=u.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{s=!1;const c=n.getFirstPosition(),u=n.getAttribute("linkHref");if(!u)return;const p=Mr(c,"linkHref",u,t);s=p.containsPosition(c)||p.end.isEqual(c)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{l&&(l=!1,!s&&e.model.enqueueChange(c=>{vp(c,Cp(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(i,s)=>{t.change(l=>{const c=l.createRangeIn(s.content);for(const u of c.getItems())if(u.hasAttribute("linkHref")){const p=wp(u.getAttribute("linkHref"),n);l.setAttribute("linkHref",p,u)}})})}}function vp(o,e){o.removeSelectionAttribute("linkHref");for(const t of e)o.removeSelectionAttribute(t)}function kN(o){const e=o.document.selection,t=e.getFirstPosition(),n=e.getLastPosition(),i=t.nodeAfter;if(!i||!i.is("$text")||!i.hasAttribute("linkHref"))return!1;const s=n.textNode||n.nodeBefore;return i===s?!0:Mr(t,"linkHref",i.getAttribute("linkHref"),o).containsRange(o.createRange(t,n),!0)}function dA(o){return o.model.change(t=>t.batch).isTyping}function Cp(o){return o.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var uA=f(4827),Ap={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Ap.insert="head",Ap.singleton=!0,de()(uA.Z,Ap),uA.Z.locals;class bN extends be{constructor(e,t){super(e),this.focusTracker=new zn,this.keystrokes=new ko,this._focusables=new Bi;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),kt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),kt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new $s({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&i.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),k({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new X_(this.locale,ev);return t.label=e("Link URL"),t}_createButton(e,t,n,i){const s=new Ye(this.locale);return s.set({label:e,icon:t,tooltip:!0}),s.extendTemplate({attributes:{class:n}}),i&&s.delegate("execute").to(this,i),s}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const i=new Xl(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,e],"value",(s,l)=>l===void 0&&s===void 0?!!n.defaultValue:!!s),i.on("execute",()=>{n.set("value",!i.isOn)}),t.add(i)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new be;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(i=>({tag:"li",children:[i],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var hA=f(9465),yp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};yp.insert="head",yp.singleton=!0,de()(hA.Z,yp),hA.Z.locals;const wN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';class _N extends be{constructor(e){super(e),this.focusTracker=new zn,this.keystrokes=new ko,this._focusables=new Bi;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),wN,"unlink"),this.editButtonView=this._createButton(t("Edit link"),kt.pencil,"edit"),this.set("href",void 0),this._focusCycler=new $s({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const i=new Ye(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const e=new Ye(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",i=>i&&iA(i)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",i=>i||n("This link has no URL")),e.bind("isEnabled").to(this,"href",i=>!!i),e.template.tag="a",e.template.eventListeners={},e}}const vN='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',ro="link-ui";class CN extends Y{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[bc]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(zR),this._balloon=e.plugins.get(bc),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:ro,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:ro,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new _N(e.locale),n=e.commands.get("link"),i=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(s,l)=>{this._hideUI(),l()}),t.keystrokes.set(kp,(s,l)=>{this._addFormView(),l()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),i=new(_(bN))(e.locale,t);return i.urlInputView.fieldView.bind("value").to(t,"value"),i.urlInputView.bind("isEnabled").to(t,"isEnabled"),i.saveButtonView.bind("isEnabled").to(t),this.listenTo(i,"submit",()=>{const{value:s}=i.urlInputView.fieldView.element,l=wp(s,n);e.execute("link",l,i.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(i,"cancel",()=>{this._closeFormView()}),i.keystrokes.set("Esc",(s,l)=>{this._closeFormView(),l()}),i}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",i=>{const s=new Ye(i);return s.isEnabled=!0,s.label=n("Link"),s.icon=vN,s.keystroke=kp,s.tooltip=!0,s.isToggleable=!0,s.bind("isEnabled").to(t,"isEnabled"),s.bind("isOn").to(t,"value",l=>!!l),this.listenTo(s,"execute",()=>this._showUI(!0)),s})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(kp,(n,i)=>{i(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),b({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),!this._areActionsInPanel&&this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),i=l();const s=()=>{const c=this._getSelectedLinkElement(),u=l();n&&!c||!n&&u!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=c,i=u};function l(){return t.selection.focus.getAncestors().reverse().find(c=>c.is("element"))}this.listenTo(e.ui,"update",s),this.listenTo(this._balloon,"change:visibleView",s)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let i;if(t.markers.has(ro)){const s=Array.from(this.editor.editing.mapper.markerNameToElements(ro)),l=e.createRange(e.createPositionBefore(s[0]),e.createPositionAfter(s[s.length-1]));i=e.domConverter.viewRangeToDom(l)}else i=()=>{const s=this._getSelectedLinkElement();return s?e.domConverter.mapViewToDom(s):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&Xe(n))return xp(t.getFirstPosition());{const i=t.getFirstRange().getTrimmed(),s=xp(i.start),l=xp(i.end);return!s||s!=l?null:e.createRangeIn(s).getTrimmed().isEqual(i)?s:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(ro))t.updateMarker(ro,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition(({item:s})=>!e.schema.isContent(s),{boundaries:n});t.addMarker(ro,{usingOperation:!1,affectsData:!1,range:t.createRange(i,n.end)})}else t.addMarker(ro,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(ro)&&e.change(t=>{t.removeMarker(ro)})}}function xp(o){return o.getAncestors().find(e=>rN(e))||null}const AN=4,yN=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),xN=2;class EN extends Y{static get requires(){return[$i]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new vv(e.model,n=>{if(!SN(n))return;const i=fA(n.substr(0,n.length-1));if(i)return{url:i}});t.on("matched:data",(n,i)=>{const{batch:s,range:l,url:c}=i;if(!s.isTyping)return;const u=l.end.getShiftedBy(-1),p=u.getShiftedBy(-c.length),m=e.model.createRange(p,u);this._applyAutoLink(c,m)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const i=t.document.selection.getFirstPosition();if(!i.parent.previousSibling)return;const s=t.createRangeIn(i.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(s)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const i=t.document.selection.getFirstPosition(),s=t.createRange(t.createPositionAt(i.parent,0),i.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(s)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:i}=_v(e,t),s=fA(n);if(s){const l=t.createRange(i.end.getShiftedBy(-s.length),i.end);this._applyAutoLink(s,l)}}_applyAutoLink(e,t){const n=this.editor.model,i=this.editor.config.get("link.defaultProtocol"),s=wp(e,i);!this.isEnabled||!DN(t,n)||!rA(s)||TN(t)||this._persistAutoLink(s,t)}_persistAutoLink(e,t){const n=this.editor.model,i=this.editor.plugins.get("Delete");n.enqueueChange(s=>{s.setAttribute("linkHref",e,t),n.enqueueChange(()=>{i.requestUndoOnBackspace()})})}}function SN(o){return o.length>AN&&o[o.length-1]===" "&&o[o.length-2]!==" "}function fA(o){const e=yN.exec(o);return e?e[xN]:null}function DN(o,e){return e.schema.checkAttributeInSelection(e.createSelection(o),"linkHref")}function TN(o){const e=o.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}class PN extends Y{static get requires(){return[mN,CN,EN]}static get pluginName(){return"Link"}}class pA extends we{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,i=Array.from(n.selection.getSelectedBlocks()).filter(l=>mA(l,t.schema)),s=e.forceValue!==void 0?!e.forceValue:this.value;t.change(l=>{if(s){let c=i[i.length-1].nextSibling,u=Number.POSITIVE_INFINITY,p=[];for(;c&&c.name=="listItem"&&c.getAttribute("listIndent")!==0;){const m=c.getAttribute("listIndent");m<u&&(u=m);const w=m-u;p.push({element:c,listIndent:w}),c=c.nextSibling}p=p.reverse();for(const m of p)l.setAttribute("listIndent",m.listIndent,m.element)}if(!s){let c=Number.POSITIVE_INFINITY;for(const u of i)u.is("element","listItem")&&u.getAttribute("listIndent")<c&&(c=u.getAttribute("listIndent"));c=c===0?1:c,gA(i,!0,c),gA(i,!1,c)}for(const c of i.reverse())s&&c.name=="listItem"?l.rename(c,"paragraph"):!s&&c.name!="listItem"?(l.setAttributes({listType:this.type,listIndent:0},c),l.rename(c,"listItem")):!s&&c.name=="listItem"&&c.getAttribute("listType")!=this.type&&l.setAttribute("listType",this.type,c);this.fire("_executeCleanup",i)})}_getValue(){const e=_t(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=_t(e.getSelectedBlocks());return n?mA(n,t):!1}}function gA(o,e,t){const n=e?o[0]:o[o.length-1];if(n.is("element","listItem")){let i=n[e?"previousSibling":"nextSibling"],s=n.getAttribute("listIndent");for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=t;)s>i.getAttribute("listIndent")&&(s=i.getAttribute("listIndent")),i.getAttribute("listIndent")==s&&o[e?"unshift":"push"](i),i=i[e?"previousSibling":"nextSibling"]}}function mA(o,e){return e.checkChild(o.parent,"listItem")&&!e.isObject(o)}class kA extends we{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(i=>{const s=n[n.length-1];let l=s.nextSibling;for(;l&&l.name=="listItem"&&l.getAttribute("listIndent")>s.getAttribute("listIndent");)n.push(l),l=l.nextSibling;this._indentBy<0&&(n=n.reverse());for(const c of n){const u=c.getAttribute("listIndent")+this._indentBy;u<0?i.rename(c,"paragraph"):i.setAttribute("listIndent",u,c)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=_t(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let i=e.previousSibling;for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=t;){if(i.getAttribute("listIndent")==t)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}function IN(o){const e=o.createContainerElement("li");return e.getFillerOffset=FN,e}function BN(o,e){const t=e.mapper,n=e.writer,i=o.getAttribute("listType")=="numbered"?"ol":"ul",s=IN(n),l=n.createContainerElement(i,null);return n.insert(n.createPositionAt(l,0),s),t.bindElements(o,s),s}function bA(o,e,t,n){const i=e.parent,s=t.mapper,l=t.writer;let c=s.toViewPosition(n.createPositionBefore(o));const u=_A(o.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:o.getAttribute("listIndent")}),p=o.previousSibling;if(u&&u.getAttribute("listIndent")==o.getAttribute("listIndent")){const m=s.toViewElement(u);c=l.breakContainer(l.createPositionAfter(m))}else if(p&&p.name=="listItem"){c=s.toViewPosition(n.createPositionAt(p,"end"));const m=s.findMappedViewAncestor(c),w=RN(m);w?c=l.createPositionBefore(w):c=l.createPositionAt(m,"end")}else c=s.toViewPosition(n.createPositionBefore(o));if(c=wA(c),l.insert(c,i),p&&p.name=="listItem"){const m=s.toViewElement(p),x=l.createRange(l.createPositionAt(m,0),c).getWalker({ignoreElementEnd:!0});for(const T of x)if(T.item.is("element","li")){const M=l.breakContainer(l.createPositionBefore(T.item)),F=T.item.parent,W=l.createPositionAt(e,"end");Cn(l,W.nodeBefore,W.nodeAfter),l.move(l.createRangeOn(F),W),x._position=M}}else{const m=i.nextSibling;if(m&&(m.is("element","ul")||m.is("element","ol"))){let w=null;for(const x of m.getChildren()){const T=s.toModelElement(x);if(T&&T.getAttribute("listIndent")>o.getAttribute("listIndent"))w=x;else break}w&&(l.breakContainer(l.createPositionAfter(w)),l.move(l.createRangeOn(w.parent),l.createPositionAt(e,"end")))}}Cn(l,i,i.nextSibling),Cn(l,i.previousSibling,i)}function Cn(o,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:o.mergeContainers(o.createPositionAfter(e))}function wA(o){return o.getLastMatchingPosition(e=>e.item.is("uiElement"))}function _A(o,e){const t=!!e.sameIndent,n=!!e.smallerIndent,i=e.listIndent;let s=o;for(;s&&s.name=="listItem";){const l=s.getAttribute("listIndent");if(t&&i==l||n&&i>l)return s;e.direction==="forward"?s=s.nextSibling:s=s.previousSibling}return null}function vA(o,e,t,n){o.ui.componentFactory.add(e,i=>{const s=o.commands.get(e),l=new Ye(i);return l.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),l.on("execute",()=>{o.execute(e),o.editing.view.focus()}),l})}function RN(o){for(const e of o.getChildren())if(e.name=="ul"||e.name=="ol")return e;return null}function Ep(o,e){const t=[],n=o.parent,i={ignoreElementEnd:!1,startPosition:o,shallow:!0,direction:e},s=n.getAttribute("listIndent"),l=[...new eo(i)].filter(c=>c.item.is("element")).map(c=>c.item);for(const c of l){if(!c.is("element","listItem")||c.getAttribute("listIndent")<s)break;if(!(c.getAttribute("listIndent")>s)){if(c.getAttribute("listType")!==n.getAttribute("listType")||c.getAttribute("listStyle")!==n.getAttribute("listStyle")||c.getAttribute("listReversed")!==n.getAttribute("listReversed")||c.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(c):t.push(c)}}return t}function ON(o){let t=[...o.document.selection.getSelectedBlocks()].filter(n=>n.is("element","listItem")).map(n=>{const i=o.change(s=>s.createPositionAt(n,0));return[...Ep(i,"backward"),...Ep(i,"forward")]}).flat();return t=[...new Set(t)],t}const zN=["disc","circle","square"],MN=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function NN(o){return zN.includes(o)?"bulleted":MN.includes(o)?"numbered":null}function FN(){const o=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||o?0:Zb.call(this)}class LN extends Y{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return NN(e)}getSelectedListItems(e){return ON(e)}getSiblingNodes(e,t){return Ep(e,t)}}function CA(o){return(e,t,n)=>{const i=n.consumable;if(!i.test(t.item,"insert")||!i.test(t.item,"attribute:listType")||!i.test(t.item,"attribute:listIndent"))return;i.consume(t.item,"insert"),i.consume(t.item,"attribute:listType"),i.consume(t.item,"attribute:listIndent");const s=t.item,l=BN(s,n);bA(s,l,n,o)}}function VN(o){return(e,t,n)=>{const l=n.mapper.toViewPosition(t.position).getLastMatchingPosition(T=>!T.item.is("element","li")).nodeAfter,c=n.writer;c.breakContainer(c.createPositionBefore(l)),c.breakContainer(c.createPositionAfter(l));const u=l.parent,p=u.previousSibling,m=c.createRangeOn(u),w=c.remove(m);p&&p.nextSibling&&Cn(c,p,p.nextSibling);const x=n.mapper.toModelElement(l);EA(x.getAttribute("listIndent")+1,t.position,m.start,l,n,o);for(const T of c.createRangeIn(w).getItems())n.mapper.unbindViewElement(T);e.stop()}}const jN=(o,e,t)=>{if(!t.consumable.test(e.item,o.name))return;const n=t.mapper.toViewElement(e.item),i=t.writer;i.breakContainer(i.createPositionBefore(n)),i.breakContainer(i.createPositionAfter(n));const s=n.parent,l=e.attributeNewValue=="numbered"?"ol":"ul";i.rename(l,s)},HN=(o,e,t)=>{t.consumable.consume(e.item,o.name);const i=t.mapper.toViewElement(e.item).parent,s=t.writer;Cn(s,i,i.nextSibling),Cn(s,i.previousSibling,i)};function UN(o){return(e,t,n)=>{if(!n.consumable.consume(t.item,"attribute:listIndent"))return;const i=n.mapper.toViewElement(t.item),s=n.writer;s.breakContainer(s.createPositionBefore(i)),s.breakContainer(s.createPositionAfter(i));const l=i.parent,c=l.previousSibling,u=s.createRangeOn(l);s.remove(u),c&&c.nextSibling&&Cn(s,c,c.nextSibling),EA(t.attributeOldValue+1,t.range.start,u.start,i,n,o),bA(t.item,i,n,o);for(const p of t.item.getChildren())n.consumable.consume(p,"insert")}}const AA=(o,e,t)=>{if(t.consumable.test(e.item,o.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const i=t.writer,s=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=i.breakContainer(n),n.parent.name=="li");){const l=n,c=i.createPositionAt(n.parent,"end");if(!l.isEqual(c)){const u=i.remove(i.createRange(l,c));s.push(u)}n=i.createPositionAfter(n.parent)}if(s.length>0){for(let l=0;l<s.length;l++){const c=n.nodeBefore;if(n=i.insert(n,s[l]).end,l>0){const p=Cn(i,c,c.nextSibling);p&&p.parent==c&&n.offset--}}Cn(i,n.nodeBefore,n.nodeAfter)}}},WN=(o,e,t)=>{const n=t.mapper.toViewPosition(e.position),i=n.nodeBefore,s=n.nodeAfter;Cn(t.writer,i,s)},$N=(o,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,i=n.createElement("listItem"),s=YN(e.viewItem);n.setAttribute("listIndent",s,i);const l=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",l,i),!t.safeInsert(i,e.modelCursor))return;const c=ZN(i,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,c),t.updateConversionResult(i,e)}},yA=(o,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const i of n)!(i.is("element","li")||Vr(i))&&i._remove()}},qN=(o,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let i=!1;for(const s of n)i&&!Vr(s)&&s._remove(),Vr(s)&&(i=!0)}};function xA(o){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const i=t.mapper.toViewElement(n),s=i.getAncestors().find(Vr),l=o.createPositionAt(i,0).getWalker();for(const c of l)if(c.type=="elementStart"&&c.item.is("element","li")){t.viewPosition=c.previousPosition;break}else if(c.type=="elementEnd"&&c.item==s){t.viewPosition=c.nextPosition;break}}}}function KN(o){return(e,t)=>{const n=t.viewPosition,i=n.parent,s=t.mapper;if(i.name=="ul"||i.name=="ol"){if(n.isAtEnd){const l=s.toModelElement(n.nodeBefore),c=s.getModelLength(n.nodeBefore);t.modelPosition=o.createPositionBefore(l).getShiftedBy(c)}else{const l=s.toModelElement(n.nodeAfter);t.modelPosition=o.createPositionBefore(l)}e.stop()}else if(i.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const l=s.toModelElement(i);let c=1,u=n.nodeBefore;for(;u&&Vr(u);)c+=s.getModelLength(u),u=u.previousSibling;t.modelPosition=o.createPositionBefore(l).getShiftedBy(c),e.stop()}}}function GN(o,e){const t=o.document.differ.getChanges(),n=new Map;let i=!1;for(const u of t)if(u.type=="insert"&&u.name=="listItem")s(u.position);else if(u.type=="insert"&&u.name!="listItem"){if(u.name!="$text"){const m=u.position.nodeAfter;m.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",m),i=!0),m.hasAttribute("listType")&&(e.removeAttribute("listType",m),i=!0),m.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",m),i=!0),m.hasAttribute("listReversed")&&(e.removeAttribute("listReversed",m),i=!0),m.hasAttribute("listStart")&&(e.removeAttribute("listStart",m),i=!0);for(const w of Array.from(o.createRangeIn(m)).filter(x=>x.item.is("element","listItem")))s(w.previousPosition)}const p=u.position.getShiftedBy(u.length);s(p)}else u.type=="remove"&&u.name=="listItem"?s(u.position):(u.type=="attribute"&&u.attributeKey=="listIndent"||u.type=="attribute"&&u.attributeKey=="listType")&&s(u.range.start);for(const u of n.values())l(u),c(u);return i;function s(u){const p=u.nodeBefore;if(!p||!p.is("element","listItem")){const m=u.nodeAfter;m&&m.is("element","listItem")&&n.set(m,m)}else{let m=p;if(n.has(m))return;for(let w=m.previousSibling;w&&w.is("element","listItem");w=m.previousSibling)if(m=w,n.has(m))return;n.set(p,m)}}function l(u){let p=0,m=null;for(;u&&u.is("element","listItem");){const w=u.getAttribute("listIndent");if(w>p){let x;m===null?(m=w-p,x=p):(m>w&&(m=w),x=w-m),e.setAttribute("listIndent",x,u),i=!0}else m=null,p=u.getAttribute("listIndent")+1;u=u.nextSibling}}function c(u){let p=[],m=null;for(;u&&u.is("element","listItem");){const w=u.getAttribute("listIndent");if(m&&m.getAttribute("listIndent")>w&&(p=p.slice(0,w+1)),w!=0)if(p[w]){const x=p[w];u.getAttribute("listType")!=x&&(e.setAttribute("listType",x,u),i=!0)}else p[w]=u.getAttribute("listType");m=u,u=u.nextSibling}}}const QN=function(o,[e,t]){const n=this;let i=e.is("documentFragment")?e.getChild(0):e,s;if(t?s=n.createSelection(t):s=n.document.selection,i&&i.is("element","listItem")){const l=s.getFirstPosition();let c=null;if(l.parent.is("element","listItem")?c=l.parent:l.nodeBefore&&l.nodeBefore.is("element","listItem")&&(c=l.nodeBefore),c){const u=c.getAttribute("listIndent");if(u>0)for(;i&&i.is("element","listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+u),i=i.nextSibling}}};function ZN(o,e,t){const{writer:n,schema:i}=t;let s=n.createPositionAfter(o);for(const l of e)if(l.name=="ul"||l.name=="ol")s=t.convertItem(l,s).modelCursor;else{const c=t.convertItem(l,n.createPositionAt(o,"end")),u=c.modelRange.start.nodeAfter;u&&u.is("element")&&!i.checkChild(o,u.name)&&(c.modelCursor.parent.is("element","listItem")?o=c.modelCursor.parent:o=JN(c.modelCursor),s=n.createPositionAfter(o))}return s}function JN(o){const e=new eo({startPosition:o});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function EA(o,e,t,n,i,s){const l=_A(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:o}),c=i.mapper,u=i.writer,p=l?l.getAttribute("listIndent"):null;let m;if(!l)m=t;else if(p==o){const w=c.toViewElement(l).parent;m=u.createPositionAfter(w)}else{const w=s.createPositionAt(l,"end");m=c.toViewPosition(w)}m=wA(m);for(const w of[...n.getChildren()])Vr(w)&&(m=u.move(u.createRangeOn(w),m).end,Cn(u,w,w.nextSibling),Cn(u,w.previousSibling,w))}function Vr(o){return o.is("element","ol")||o.is("element","ul")}function YN(o){let e=0,t=o.parent;for(;t;){if(t.is("element","li"))e++;else{const n=t.previousSibling;n&&n.is("element","li")&&e++}t=t.parent}return e}var SA=f(9989),Sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Sp.insert="head",Sp.singleton=!0,de()(SA.Z,Sp),SA.Z.locals;class XN extends Y{static get pluginName(){return"ListEditing"}static get requires(){return[yc,$i,LN]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;e.model.document.registerPostFixer(s=>GN(e.model,s)),n.mapper.registerViewToModelLength("li",Dp),t.mapper.registerViewToModelLength("li",Dp),n.mapper.on("modelToViewPosition",xA(n.view)),n.mapper.on("viewToModelPosition",KN(e.model)),t.mapper.on("modelToViewPosition",xA(n.view)),e.conversion.for("editingDowncast").add(s=>{s.on("insert",AA,{priority:"high"}),s.on("insert:listItem",CA(e.model)),s.on("attribute:listType:listItem",jN,{priority:"high"}),s.on("attribute:listType:listItem",HN,{priority:"low"}),s.on("attribute:listIndent:listItem",UN(e.model)),s.on("remove:listItem",VN(e.model)),s.on("remove",WN,{priority:"low"})}),e.conversion.for("dataDowncast").add(s=>{s.on("insert",AA,{priority:"high"}),s.on("insert:listItem",CA(e.model))}),e.conversion.for("upcast").add(s=>{s.on("element:ul",yA,{priority:"high"}),s.on("element:ol",yA,{priority:"high"}),s.on("element:li",qN,{priority:"high"}),s.on("element:li",$N)}),e.model.on("insertContent",QN,{priority:"high"}),e.commands.add("numberedList",new pA(e,"numbered")),e.commands.add("bulletedList",new pA(e,"bulleted")),e.commands.add("indentList",new kA(e,"forward")),e.commands.add("outdentList",new kA(e,"backward"));const i=n.view.document;this.listenTo(i,"enter",(s,l)=>{const c=this.editor.model.document,u=c.selection.getLastPosition().parent;c.selection.isCollapsed&&u.name=="listItem"&&u.isEmpty&&(this.editor.execute("outdentList"),l.preventDefault(),s.stop())},{context:"li"}),this.listenTo(i,"delete",(s,l)=>{if(l.direction!=="backward")return;const c=this.editor.model.document.selection;if(!c.isCollapsed)return;const u=c.getFirstPosition();if(!u.isAtStart)return;const p=u.parent;p.name!=="listItem"||p.previousSibling&&p.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),l.preventDefault(),s.stop())},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(s,l)=>{const c=l.shiftKey?"outdentList":"indentList";this.editor.commands.get(c).isEnabled&&(e.execute(c),l.stopPropagation(),l.preventDefault(),s.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function Dp(o){let e=1;for(const t of o.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=Dp(n);return e}const eF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',tF='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class nF extends Y{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;vA(this.editor,"numberedList",e("Numbered List"),eF),vA(this.editor,"bulletedList",e("Bulleted List"),tF)}}class oF extends Y{static get requires(){return[XN,nF]}static get pluginName(){return"List"}}function iF(o,e){for(const t of o.getChildren())if(t.is("element","b")&&t.getStyle("font-weight")==="normal"){const n=o.getChildIndex(t);e.remove(t),e.insertChild(n,t.getChildren(),o)}}function rF(o,e){const t=new rc(e.document.stylesProcessor),n=new cc(t,{renderingMode:"data"}),i=n.blockElements,s=n.inlineObjectElements,l=[];for(const c of e.createRangeIn(o)){const u=c.item;if(u.is("element","br")){const p=DA(u,"forward",e,{blockElements:i,inlineObjectElements:s}),m=DA(u,"backward",e,{blockElements:i,inlineObjectElements:s}),w=TA(p,i);(TA(m,i)||w)&&l.push(u)}}for(const c of l)c.hasClass("Apple-interchange-newline")?e.remove(c):e.replace(c,e.createElement("p"))}function DA(o,e,t,{blockElements:n,inlineObjectElements:i}){let s=t.createPositionAt(o,e=="forward"?"after":"before");return s=s.getLastMatchingPosition(({item:l})=>l.is("element")&&!n.includes(l.name)&&!i.includes(l.name),{direction:e}),e=="forward"?s.nodeAfter:s.nodeBefore}function TA(o,e){return!!o&&o.is("element")&&e.includes(o.name)}function sF(o,e){if(!o.childCount)return;const t=new Rr(o.document),n=lF(o,t);if(!n.length)return;let i=null,s=1;n.forEach((l,c)=>{const u=mF(n[c-1],l),p=u?null:n[c-1],m=bF(p,l);if(u&&(i=null,s=1),!i||m!==0){const x=cF(l,e);if(!i)i=PA(x,l.element,t);else if(l.indent>s){const T=i.getChild(i.childCount-1),M=T.getChild(T.childCount-1);i=PA(x,M,t),s+=1}else if(l.indent<s){const T=s-l.indent;i=wF(i,T),s=l.indent}l.indent<=s&&(i.is("element",x.type)||(i=t.rename(x.type,i)))}const w=fF(l.element,t);t.appendChild(w,i)})}function aF(o,e){for(const t of e.createRangeIn(o)){const n=t.item;if(n.is("element","li")){const i=n.getChild(0);i&&i.is("element","p")&&e.unwrapElement(i)}}}function lF(o,e){const t=e.createRangeIn(o),n=new Zn({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[];for(const s of t)if(s.type==="elementStart"&&n.match(s.item)){const l=pF(s.item);i.push({element:s.item,id:l.id,order:l.order,indent:l.indent})}return i}function cF(o,e){const t=new RegExp(`@list l${o.id}:level${o.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,s=t.exec(e);let l="decimal",c="ol",u=null;if(s&&s[1]){const p=n.exec(s[1]);if(p&&p[1]&&(l=p[1].trim(),c=l!=="bullet"&&l!=="image"?"ol":"ul"),l==="bullet"){const m=dF(o.element);m&&(l=m)}else{const m=i.exec(s[1]);m&&m[1]&&(u=parseInt(m[1]))}}return{type:c,startIndex:u,style:hF(l)}}function dF(o){const e=uF(o);if(!e)return null;const t=e._data;return t==="o"?"circle":t==="·"?"disc":t==="§"?"square":null}function uF(o){if(o.getChild(0).is("$text"))return null;for(const e of o.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}function hF(o){if(o.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(o){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return o;default:return null}}function PA(o,e,t){const n=e.parent,i=t.createElement(o.type),s=n.getChildIndex(e)+1;return t.insertChild(s,i,n),o.style&&t.setStyle("list-style-type",o.style,i),o.startIndex&&o.startIndex>1&&t.setAttribute("start",o.startIndex,i),i}function fF(o,e){return gF(o,e),e.rename("li",o)}function pF(o){const e={},t=o.getStyle("mso-list");if(t){const n=t.match(/(^|\s{1,100})l(\d+)/i),i=t.match(/\s{0,100}lfo(\d+)/i),s=t.match(/\s{0,100}level(\d+)/i);n&&i&&s&&(e.id=n[2],e.order=i[1],e.indent=parseInt(s[1]))}return e}function gF(o,e){const t=new Zn({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(o);for(const i of n)i.type==="elementStart"&&t.match(i.item)&&e.remove(i.item)}function mF(o,e){if(!o)return!0;if(o.id!==e.id)return e.indent-o.indent!==1;const t=e.element.previousSibling;return t?!kF(t):!0}function kF(o){return o.is("element","ol")||o.is("element","ul")}function bF(o,e){return o?e.indent-o.indent:e.indent-1}function wF(o,e){const t=o.getAncestors({parentFirst:!0});let n=null,i=0;for(const s of t)if((s.is("element","ul")||s.is("element","ol"))&&i++,i===e){n=s;break}return n}const _F=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class vF{constructor(e){this.document=e}isActive(e){return _F.test(e)}execute(e){const t=new Rr(this.document),{body:n}=e._parsedData;iF(n,t),aF(n,t),rF(n,t),e.content=n}}function CF(o,e){if(!o.childCount)return;const t=new Rr(o.document),n=yF(o,t);xF(n,o,t),SF(n,o,t),EF(o,t);const i=DF(o,t);i.length&&PF(i,TF(e),t)}function AF(o){return btoa(o.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function yF(o,e){const t=e.createRangeIn(o),n=new Zn({name:/v:(.+)/}),i=[];for(const s of t){if(s.type!="elementStart")continue;const l=s.item,c=l.previousSibling,u=c&&c.is("element")?c.name:null;n.match(l)&&l.getAttribute("o:gfxdata")&&u!=="v:shapetype"&&i.push(s.item.getAttribute("id"))}return i}function xF(o,e,t){const n=t.createRangeIn(e),i=new Zn({name:"img"}),s=[];for(const l of n)if(l.item.is("element")&&i.match(l.item)){const c=l.item,u=c.getAttribute("v:shapes")?c.getAttribute("v:shapes").split(" "):[];u.length&&u.every(p=>o.indexOf(p)>-1)?s.push(c):c.getAttribute("src")||s.push(c)}for(const l of s)t.remove(l)}function EF(o,e){const t=e.createRangeIn(o),n=new Zn({name:/v:(.+)/}),i=[];for(const s of t)s.type=="elementStart"&&n.match(s.item)&&i.push(s.item);for(const s of i)e.remove(s)}function SF(o,e,t){const n=t.createRangeIn(e),i=[];for(const c of n)if(c.type=="elementStart"&&c.item.is("element","v:shape")){const u=c.item.getAttribute("id");if(o.includes(u))continue;s(c.item.parent.getChildren(),u)||i.push(c.item)}for(const c of i){const u={src:l(c)};c.hasAttribute("alt")&&(u.alt=c.getAttribute("alt"));const p=t.createElement("img",u);t.insertChild(c.index+1,p,c.parent)}function s(c,u){for(const p of c)if(p.is("element")&&(p.name=="img"&&p.getAttribute("v:shapes")==u||s(p.getChildren(),u)))return!0;return!1}function l(c){for(const u of c.getChildren())if(u.is("element")&&u.getAttribute("src"))return u.getAttribute("src")}}function DF(o,e){const t=e.createRangeIn(o),n=new Zn({name:"img"}),i=[];for(const s of t)s.item.is("element")&&n.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&i.push(s.item);return i}function TF(o){if(!o)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,t=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),n=o.match(t),i=[];if(n)for(const s of n){let l=!1;s.includes("\\pngblip")?l="image/png":s.includes("\\jpegblip")&&(l="image/jpeg"),l&&i.push({hex:s.replace(e,"").replace(/[^\da-fA-F]/g,""),type:l})}return i}function PF(o,e,t){if(o.length===e.length)for(let n=0;n<o.length;n++){const i=`data:${e[n].type};base64,${AF(e[n].hex)}`;t.setAttribute("src",i,o[n])}}const IF=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,BF=/xmlns:o="urn:schemas-microsoft-com/i;class RF{constructor(e){this.document=e}isActive(e){return IF.test(e)||BF.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;sF(t,n),CF(t,e.dataTransfer.getData("text/rtf")),e.content=t}}function OF(o){return IA(IA(o)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}function zF(o){o.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e,n=t.innerText.length||0;t.innerText=Array(n+1).join("  ").substr(0,n)})}function IA(o){return o.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function MF(o,e){const t=new DOMParser;o=o.replace(/<!--\[if gte vml 1]>/g,"");const n=OF(LF(o)),i=t.parseFromString(n,"text/html");zF(i);const s=i.body.innerHTML,l=NF(i,e),c=FF(i);return{body:l,bodyString:s,styles:c.styles,stylesString:c.stylesString}}function NF(o,e){const t=new rc(e),n=new cc(t,{renderingMode:"data"}),i=o.createDocumentFragment(),s=o.body.childNodes;for(;s.length>0;)i.appendChild(s[0]);return n.domToView(i,{skipComments:!0})}function FF(o){const e=[],t=[],n=Array.from(o.getElementsByTagName("style"));for(const i of n)i.sheet&&i.sheet.cssRules&&i.sheet.cssRules.length&&(e.push(i.sheet),t.push(i.innerHTML));return{styles:e,stylesString:t.join(" ")}}function LF(o){const e="</body>",t="</html>",n=o.indexOf(e);if(n<0)return o;const i=o.indexOf(t,n+e.length);return o.substring(0,n+e.length)+(i>=0?o.substring(i):"")}class VF extends Y{static get pluginName(){return"PasteFromOffice"}static get requires(){return[oo]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),n=e.editing.view.document,i=[];i.push(new RF(n)),i.push(new vF(n)),t.on("inputTransformation",(s,l)=>{if(l._isTransformedWithPasteFromOffice||e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const u=l.dataTransfer.getData("text/html"),p=i.find(m=>m.isActive(u));p&&(l._parsedData=MF(u,n.stylesProcessor),p.execute(l),l._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}}function lt(o,e,t,n,i=1){e!=null&&i!==void 0&&i!==null&&e>i?n.setAttribute(o,e,t):n.removeAttribute(o,t)}function Gi(o,e,t={}){const n=o.createElement("tableCell",t);return o.insertElement("paragraph",n),o.insert(n,e),n}function Tp(o,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:i}=o.getCellLocation(e);return!!n&&i<n}function jF(){return o=>{o.on("element:figure",(e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const i=WF(t.viewItem);if(!i||!n.consumable.test(i,{name:!0}))return;n.consumable.consume(t.viewItem,{name:!0,classes:"table"});const s=n.convertItem(i,t.modelCursor),l=_t(s.modelRange.getItems());if(!l){n.consumable.revert(t.viewItem,{name:!0,classes:"table"});return}n.convertChildren(t.viewItem,n.writer.createPositionAt(l,"end")),n.updateConversionResult(l,t)})}}function HF(){return o=>{o.on("element:table",(e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:s,headingRows:l,headingColumns:c}=$F(i),u={};c&&(u.headingColumns=c),l&&(u.headingRows=l);const p=n.writer.createElement("table",u);if(n.safeInsert(p,t.modelCursor)){if(n.consumable.consume(i,{name:!0}),s.forEach(m=>n.convertItem(m,n.writer.createPositionAt(p,"end"))),n.convertChildren(i,n.writer.createPositionAt(p,"end")),p.isEmpty){const m=n.writer.createElement("tableRow");n.writer.insert(m,n.writer.createPositionAt(p,"end")),Gi(n.writer,n.writer.createPositionAt(m,"end"))}n.updateConversionResult(p,t)}})}}function UF(){return o=>{o.on("element:tr",(e,t)=>{t.viewItem.isEmpty&&t.modelCursor.index==0&&e.stop()},{priority:"high"})}}function BA(o){return e=>{e.on(`element:${o}`,(t,n,{writer:i})=>{if(!n.modelRange)return;const s=n.modelRange.start.nodeAfter,l=i.createPositionAt(s,0);if(n.viewItem.isEmpty){i.insertElement("paragraph",l);return}const c=Array.from(s.getChildren());if(c.every(u=>u.is("element","$marker"))){const u=i.createElement("paragraph");i.insert(u,i.createPositionAt(s,0));for(const p of c)i.move(i.createRangeOn(p),i.createPositionAt(u,"end"))}},{priority:"low"})}}function WF(o){for(const e of o.getChildren())if(e.is("element","table"))return e}function $F(o){let e=0,t;const n=[],i=[];let s;for(const l of Array.from(o.getChildren())){if(l.name!=="tbody"&&l.name!=="thead"&&l.name!=="tfoot")continue;l.name==="thead"&&!s&&(s=l);const c=Array.from(l.getChildren()).filter(u=>u.is("element","tr"));for(const u of c)if(s&&l===s||l.name==="tbody"&&Array.from(u.getChildren()).length&&Array.from(u.getChildren()).every(p=>p.is("element","th")))e++,n.push(u);else{i.push(u);const p=qF(u);(!t||p<t)&&(t=p)}}return{headingRows:e,headingColumns:t||0,rows:[...n,...i]}}function qF(o){let e=0,t=0;const n=Array.from(o.getChildren()).filter(i=>i.name==="th"||i.name==="td");for(;t<n.length&&n[t].name==="th";){const i=n[t],s=parseInt(i.getAttribute("colspan")||"1");e=e+s,t++}return e}class Pe{constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const i=e.getChild(this._cellIndex);if(!i)return this._advanceToNextRow();const s=parseInt(i.getAttribute("colspan")||"1"),l=parseInt(i.getAttribute("rowspan")||"1");(s>1||l>1)&&this._recordSpans(i,l,s),this._shouldSkipSlot()||(t=this._formatOutValue(i)),this._nextCellAtColumn=this._column+s}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new KF(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let s=this._row;s<this._row+t;s++)for(let l=this._column;l<this._column+n;l++)(s!=this._row||l!=this._column)&&this._markSpannedCell(s,l,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}class KF{constructor(e,t,n,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function RA(o,e){return(t,{writer:n})=>{const i=t.getAttribute("headingRows")||0,s=n.createContainerElement("table",null,[]),l=n.createContainerElement("figure",{class:"table"},s);i>0&&n.insert(n.createPositionAt(s,"end"),n.createContainerElement("thead",null,n.createSlot(c=>c.is("element","tableRow")&&c.index<i))),i<o.getRows(t)&&n.insert(n.createPositionAt(s,"end"),n.createContainerElement("tbody",null,n.createSlot(c=>c.is("element","tableRow")&&c.index>=i)));for(const{positionOffset:c,filter:u}of e.additionalSlots)n.insert(n.createPositionAt(s,c),n.createSlot(u));return n.insert(n.createPositionAt(s,"after"),n.createSlot(c=>c.is("element","tableRow")?!1:!e.additionalSlots.some(({filter:u})=>u(c)))),e.asWidget?QF(l,n):l}}function GF(){return(o,{writer:e})=>o.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}function OA(o={}){return(e,{writer:t})=>{const n=e.parent,i=n.parent,s=i.getChildIndex(n),l=new Pe(i,{row:s}),c=i.getAttribute("headingRows")||0,u=i.getAttribute("headingColumns")||0;let p=null;for(const m of l)if(m.cell==e){const x=m.row<c||m.column<u?"th":"td";p=o.asWidget?Hv(t.createEditableElement(x),t):t.createContainerElement(x);break}return p}}function zA(o={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!MA(e))return null;if(o.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function MA(o){return o.parent.childCount==1&&!ZF(o)}function QF(o,e){return e.setCustomProperty("table",!0,o),Vv(o,e,{hasSelectionHandle:!0})}function ZF(o){return!o.getAttributeKeys().next().done}class JF extends we{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=YF(t,n)}execute(e={}){const t=this.editor,n=t.model,i=t.plugins.get("TableUtils"),s=t.config.get("table.defaultHeadings.rows"),l=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&s&&(e.headingRows=s),e.headingColumns===void 0&&l&&(e.headingColumns=l),n.change(c=>{const u=i.createTable(c,e);n.insertObject(u,null,null,{findOptimalPosition:"auto"}),c.setSelection(c.createPositionAt(u.getNodeByPath([0,0,0]),0))})}}function YF(o,e){const t=o.getFirstPosition().parent,n=t===t.root?t:t.parent;return e.checkChild(n,"table")}class NA extends we{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i=this.order==="above",s=n.getSelectionAffectedTableCells(t),l=n.getRowIndexes(s),c=i?l.first:l.last,u=s[0].findAncestor("table");n.insertRows(u,{at:i?c:c+1,copyStructureFromAbove:!i})}}class FA extends we{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,n=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=n}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i=this.order==="left",s=n.getSelectionAffectedTableCells(t),l=n.getColumnIndexes(s),c=i?l.first:l.last,u=s[0].findAncestor("table");n.insertColumns(u,{columns:1,at:i?c:c+1})}}class LA extends we{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function VA(o,e,t){const{startRow:n,startColumn:i,endRow:s,endColumn:l}=e,c=t.createElement("table"),u=s-n+1;for(let m=0;m<u;m++)t.insertElement("tableRow",c,"end");const p=[...new Pe(o,{startRow:n,endRow:s,startColumn:i,endColumn:l,includeAllSlots:!0})];for(const{row:m,column:w,cell:x,isAnchor:T,cellAnchorRow:M,cellAnchorColumn:F}of p){const W=m-n,K=c.getChild(W);if(!T)(M<n||F<i)&&Gi(t,t.createPositionAt(K,"end"));else{const ne=t.cloneElement(x);t.append(ne,K),$A(ne,m,w,s,l,t)}}return XF(c,o,n,i,t),c}function jA(o,e,t=0){const n=[],i=new Pe(o,{startRow:t,endRow:e-1});for(const s of i){const{row:l,cellHeight:c}=s,u=l+c-1;l<e&&e<=u&&n.push(s)}return n}function HA(o,e,t){const n=o.parent,i=n.parent,s=n.index,l=parseInt(o.getAttribute("rowspan")),c=e-s,u={},p=l-c;p>1&&(u.rowspan=p);const m=parseInt(o.getAttribute("colspan")||"1");m>1&&(u.colspan=m);const w=s,x=w+c,T=[...new Pe(i,{startRow:w,endRow:x,includeAllSlots:!0})];let M=null,F;for(const W of T){const{row:K,column:ne,cell:Ce}=W;Ce===o&&F===void 0&&(F=ne),F!==void 0&&F===ne&&K===x&&(M=Gi(t,W.getPositionBefore(),u))}return lt("rowspan",c,o,t),M}function UA(o,e){const t=[],n=new Pe(o);for(const i of n){const{column:s,cellWidth:l}=i,c=s+l-1;s<e&&e<=c&&t.push(i)}return t}function WA(o,e,t,n){const i=parseInt(o.getAttribute("colspan")),s=t-e,l={},c=i-s;c>1&&(l.colspan=c);const u=parseInt(o.getAttribute("rowspan")||"1");u>1&&(l.rowspan=u);const p=Gi(n,n.createPositionAfter(o),l);return lt("colspan",s,o,n),p}function $A(o,e,t,n,i,s){const l=parseInt(o.getAttribute("colspan")||"1"),c=parseInt(o.getAttribute("rowspan")||"1");if(t+l-1>i){const m=i-t+1;lt("colspan",m,o,s,1)}if(e+c-1>n){const m=n-e+1;lt("rowspan",m,o,s,1)}}function XF(o,e,t,n,i){const s=parseInt(e.getAttribute("headingRows")||"0");if(s>0){const c=s-t;lt("headingRows",c,o,i,0)}const l=parseInt(e.getAttribute("headingColumns")||"0");if(l>0){const c=l-n;lt("headingColumns",c,o,i,0)}}function Pp(o,e){const t=e.getColumns(o),n=new Array(t).fill(0);for(const{column:s}of new Pe(o))n[s]++;const i=n.reduce((s,l,c)=>l?s:[...s,c],[]);if(i.length>0){const s=i[i.length-1];return e.removeColumns(o,{at:s}),!0}return!1}function Ip(o,e){const t=[],n=e.getRows(o);for(let i=0;i<n;i++)o.getChild(i).isEmpty&&t.push(i);if(t.length>0){const i=t[t.length-1];return e.removeRows(o,{at:i}),!0}return!1}function Bp(o,e){Pp(o,e)||Ip(o,e)}function qA(o,e){const t=Array.from(new Pe(o,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:s})=>s===1))return e.lastRow;const i=t[0].cellHeight-1;return e.lastRow+i}function KA(o,e){const t=Array.from(new Pe(o,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:s})=>s===1))return e.lastColumn;const i=t[0].cellWidth-1;return e.lastColumn+i}class Ic extends we{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,i=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],s=this.value,l=this.direction;e.change(c=>{const u=l=="right"||l=="down",p=u?i:s,m=u?s:i,w=m.parent;n4(m,p,c);const x=this.isHorizontal?"colspan":"rowspan",T=parseInt(i.getAttribute(x)||"1"),M=parseInt(s.getAttribute(x)||"1");c.setAttribute(x,T+M,p),c.setSelection(c.createRangeIn(p));const F=this.editor.plugins.get("TableUtils"),W=w.findAncestor("table");Bp(W,F)})}_getMergeableCell(){const t=this.editor.model.document,n=this.editor.plugins.get("TableUtils"),i=n.getTableCellsContainingSelection(t.selection)[0];if(!i)return;const s=this.isHorizontal?e4(i,this.direction,n):t4(i,this.direction,n);if(!s)return;const l=this.isHorizontal?"rowspan":"colspan",c=parseInt(i.getAttribute(l)||"1");if(parseInt(s.getAttribute(l)||"1")===c)return s}}function e4(o,e,t){const i=o.parent.parent,s=e=="right"?o.nextSibling:o.previousSibling,l=(i.getAttribute("headingColumns")||0)>0;if(!s)return;const c=e=="right"?o:s,u=e=="right"?s:o,{column:p}=t.getCellLocation(c),{column:m}=t.getCellLocation(u),w=parseInt(c.getAttribute("colspan")||"1"),x=Tp(t,c),T=Tp(t,u);return l&&x!=T?void 0:p+w===m?s:void 0}function t4(o,e,t){const n=o.parent,i=n.parent,s=i.getChildIndex(n);if(e=="down"&&s===t.getRows(i)-1||e=="up"&&s===0)return null;const l=parseInt(o.getAttribute("rowspan")||"1"),c=i.getAttribute("headingRows")||0,u=e=="down"&&s+l===c,p=e=="up"&&s===c;if(c&&(u||p))return null;const m=parseInt(o.getAttribute("rowspan")||"1"),w=e=="down"?s+m:s,x=[...new Pe(i,{endRow:w})],M=x.find(W=>W.cell===o).column,F=x.find(({row:W,cellHeight:K,column:ne})=>ne!==M?!1:e=="down"?W===w:w===W+K);return F&&F.cell?F.cell:null}function n4(o,e,t){GA(o)||(GA(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(o),t.createPositionAt(e,"end"))),t.remove(o)}function GA(o){const e=o.getChild(0);return o.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class o4 extends we{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),l=e.getRows(i)-1,c=e.getRowIndexes(t),u=c.first===0&&c.last===l;this.isEnabled=!u}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),s=n[0],l=s.findAncestor("table"),c=t.getCellLocation(s).column;e.change(u=>{const p=i.last-i.first+1;t.removeRows(l,{at:i.first,rows:p});const m=i4(l,i.first,c,t.getRows(l));u.setSelection(u.createPositionAt(m,0))})}}function i4(o,e,t,n){const i=o.getChild(Math.min(e,n-1));let s=i.getChild(0),l=0;for(const c of i.getChildren()){if(l>t)return s;s=c,l+=parseInt(c.getAttribute("colspan")||"1")}return s}class r4 extends we{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),s=e.getColumns(i),{first:l,last:c}=e.getColumnIndexes(t);this.isEnabled=c-l<s-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=a4(this.editor.model.document.selection,e),i=t.parent.parent,s=[...new Pe(i)],l={first:s.find(u=>u.cell===t).column,last:s.find(u=>u.cell===n).column},c=s4(s,t,n,l);this.editor.model.change(u=>{const p=l.last-l.first+1;e.removeColumns(i,{at:l.first,columns:p}),u.setSelection(u.createPositionAt(c,0))})}}function s4(o,e,t,n){return parseInt(t.getAttribute("colspan")||"1")>1?t:e.previousSibling||t.nextSibling?t.nextSibling||e.previousSibling:n.first?o.reverse().find(({column:s})=>s<n.first).cell:o.reverse().find(({column:s})=>s>n.last).cell}function a4(o,e){const t=e.getSelectionAffectedTableCells(o),n=t[0],i=t.pop(),s=[n,i];return n.isBefore(i)?s:s.reverse()}class l4 extends we{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every(s=>this._isInHeading(s,s.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),s=i[0].findAncestor("table"),{first:l,last:c}=t.getRowIndexes(i),u=this.value?l:c+1,p=s.getAttribute("headingRows")||0;n.change(m=>{if(u){const w=u>p?p:0,x=jA(s,u,w);for(const{cell:T}of x)HA(T,u,m)}lt("headingRows",u,s,m,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class c4 extends we{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every(s=>Tp(t,s))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,i=t.getSelectionAffectedTableCells(n.document.selection),s=i[0].findAncestor("table"),{first:l,last:c}=t.getColumnIndexes(i),u=this.value?l:c+1;n.change(p=>{if(u){const m=UA(s,u);for(const{cell:w,column:x}of m)WA(w,x,u,p)}lt("headingColumns",u,s,p,0)})}}class Rt extends Y{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,i=n.getChildIndex(t),s=new Pe(n,{row:i});for(const{cell:l,row:c,column:u}of s)if(l===e)return{row:c,column:u}}createTable(e,t){const n=e.createElement("table"),i=t.rows||2,s=t.columns||2;return Rp(e,n,0,i,s),t.headingRows&&lt("headingRows",Math.min(t.headingRows,i),n,e,0),t.headingColumns&&lt("headingColumns",Math.min(t.headingColumns,s),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,i=t.at||0,s=t.rows||1,l=t.copyStructureFromAbove!==void 0,c=t.copyStructureFromAbove?i-1:i,u=this.getRows(e),p=this.getColumns(e);if(i>u)throw new I("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(m=>{const w=e.getAttribute("headingRows")||0;if(w>i&&lt("headingRows",w+s,e,m,0),!l&&(i===0||i===u)){Rp(m,e,i,s,p);return}const x=l?Math.max(i,c):i,T=new Pe(e,{endRow:x}),M=new Array(p).fill(1);for(const{row:F,column:W,cellHeight:K,cellWidth:ne,cell:Ce}of T){const Ve=F+K-1,et=F<i&&i<=Ve,re=F<=c&&c<=Ve;et?(m.setAttribute("rowspan",K+s,Ce),M[W]=-ne):l&&re&&(M[W]=ne)}for(let F=0;F<s;F++){const W=m.createElement("tableRow");m.insert(W,e,i);for(let K=0;K<M.length;K++){const ne=M[K],Ce=m.createPositionAt(W,"end");ne>0&&Gi(m,Ce,ne>1?{colspan:ne}:void 0),K+=Math.abs(ne)-1}}})}insertColumns(e,t={}){const n=this.editor.model,i=t.at||0,s=t.columns||1;n.change(l=>{const c=e.getAttribute("headingColumns");i<c&&l.setAttribute("headingColumns",c+s,e);const u=this.getColumns(e);if(i===0||u===i){for(const m of e.getChildren())m.is("element","tableRow")&&jr(s,l,l.createPositionAt(m,i?"end":0));return}const p=new Pe(e,{column:i,includeAllSlots:!0});for(const m of p){const{row:w,cell:x,cellAnchorColumn:T,cellAnchorRow:M,cellWidth:F,cellHeight:W}=m;if(T<i){l.setAttribute("colspan",F+s,x);const K=M+W-1;for(let ne=w;ne<=K;ne++)p.skipRow(ne)}else jr(s,l,m.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,i=t.rows||1,s=this.getRows(e),l=t.at,c=l+i-1;if(c>s-1)throw new I("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(u=>{const p={first:l,last:c},{cellsToMove:m,cellsToTrim:w}=h4(e,p);if(m.size){const x=c+1;f4(e,x,m,u)}for(let x=c;x>=l;x--)u.remove(e.getChild(x));for(const{rowspan:x,cell:T}of w)lt("rowspan",x,T,u);u4(e,p,u),Pp(e,this)||Ip(e,this)})}removeColumns(e,t){const n=this.editor.model,i=t.at,s=t.columns||1,l=t.at+s-1;n.change(c=>{d4(e,{first:i,last:l},c);for(let u=l;u>=i;u--)for(const{cell:p,column:m,cellWidth:w}of[...new Pe(e)])m<=u&&w>1&&m+w>u?lt("colspan",w-1,p,c):m===u&&c.remove(p);Ip(e,this)||Pp(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,s=e.parent.parent,l=parseInt(e.getAttribute("rowspan")||"1"),c=parseInt(e.getAttribute("colspan")||"1");n.change(u=>{if(c>1){const{newCellsSpan:p,updatedSpan:m}=QA(c,t);lt("colspan",m,e,u);const w={};p>1&&(w.colspan=p),l>1&&(w.rowspan=l);const x=c>t?t-1:c-1;jr(x,u,u.createPositionAfter(e),w)}if(c<t){const p=t-c,m=[...new Pe(s)],{column:w}=m.find(({cell:F})=>F===e),x=m.filter(({cell:F,cellWidth:W,column:K})=>{const ne=F!==e&&K===w,Ce=K<w&&K+W>w;return ne||Ce});for(const{cell:F,cellWidth:W}of x)u.setAttribute("colspan",W+p,F);const T={};l>1&&(T.rowspan=l),jr(p,u,u.createPositionAfter(e),T);const M=s.getAttribute("headingColumns")||0;M>w&&lt("headingColumns",M+p,s,u)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,i=e.parent,s=i.parent,l=s.getChildIndex(i),c=parseInt(e.getAttribute("rowspan")||"1"),u=parseInt(e.getAttribute("colspan")||"1");n.change(p=>{if(c>1){const m=[...new Pe(s,{startRow:l,endRow:l+c-1,includeAllSlots:!0})],{newCellsSpan:w,updatedSpan:x}=QA(c,t);lt("rowspan",x,e,p);const{column:T}=m.find(({cell:F})=>F===e),M={};w>1&&(M.rowspan=w),u>1&&(M.colspan=u);for(const F of m){const{column:W,row:K}=F,ne=K>=l+x,Ce=W===T,Ve=(K+l+x)%w===0;ne&&Ce&&Ve&&jr(1,p,F.getPositionBefore(),M)}}if(c<t){const m=t-c,w=[...new Pe(s,{startRow:0,endRow:l})];for(const{cell:M,cellHeight:F,row:W}of w)if(M!==e&&W+F>l){const K=F+m;p.setAttribute("rowspan",K,M)}const x={};u>1&&(x.colspan=u),Rp(p,s,l+1,m,1,x);const T=s.getAttribute("headingRows")||0;T>l&&lt("headingRows",T+m,s,p)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((n,i)=>{const s=parseInt(i.getAttribute("colspan")||"1");return n+s},0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new Pe(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const i=n.getContainedElement();i&&i.is("element","tableCell")&&t.push(i)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const i=n.start.findAncestor("tableCell");i&&t.push(i)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),i=[...new Pe(t)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(i)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let i=0;for(const l of e){const{row:c,column:u}=this.getCellLocation(l),p=parseInt(l.getAttribute("rowspan"))||1,m=parseInt(l.getAttribute("colspan"))||1;t.add(c),n.add(u),p>1&&t.add(c+p-1),m>1&&n.add(u+m-1),i+=p*m}return g4(t,n)==i}sortRanges(e){return Array.from(e).sort(p4)}_getFirstLastIndexesObject(e){const t=e.sort((s,l)=>s-l),n=t[0],i=t[t.length-1];return{first:n,last:i}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const s=this.getColumnIndexes(e),l=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(s,l)}_areIndexesInSameSection({first:e,last:t},n){const i=e<n,s=t<n;return i===s}}function Rp(o,e,t,n,i,s={}){for(let l=0;l<n;l++){const c=o.createElement("tableRow");o.insert(c,e,t),jr(i,o,o.createPositionAt(c,"end"),s)}}function jr(o,e,t,n={}){for(let i=0;i<o;i++)Gi(e,t,n)}function QA(o,e){if(o<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(o/e),n=o-t*e+t;return{newCellsSpan:t,updatedSpan:n}}function d4(o,e,t){const n=o.getAttribute("headingColumns")||0;if(n&&e.first<n){const i=Math.min(n-1,e.last)-e.first+1;t.setAttribute("headingColumns",n-i,o)}}function u4(o,{first:e,last:t},n){const i=o.getAttribute("headingRows")||0;if(e<i){const s=t<i?i-(t-e+1):e;lt("headingRows",s,o,n,0)}}function h4(o,{first:e,last:t}){const n=new Map,i=[];for(const{row:s,column:l,cellHeight:c,cell:u}of new Pe(o,{endRow:t})){const p=s+c-1;if(s>=e&&s<=t&&p>t){const x=t-s+1,T=c-x;n.set(l,{cell:u,rowspan:T})}if(s<e&&p>=e){let x;p>=t?x=t-e+1:x=p-e+1,i.push({cell:u,rowspan:c-x})}}return{cellsToMove:n,cellsToTrim:i}}function f4(o,e,t,n){const s=[...new Pe(o,{includeAllSlots:!0,row:e})],l=o.getChild(e);let c;for(const{column:u,cell:p,isAnchor:m}of s)if(t.has(u)){const{cell:w,rowspan:x}=t.get(u),T=c?n.createPositionAfter(c):n.createPositionAt(l,0);n.move(n.createRangeOn(w),T),lt("rowspan",x,w,n),c=w}else m&&(c=p)}function p4(o,e){const t=o.start,n=e.start;return t.isBefore(n)?-1:1}function g4(o,e){const t=Array.from(o.values()),n=Array.from(e.values()),i=Math.max(...t),s=Math.min(...t),l=Math.max(...n),c=Math.min(...n);return(i-s+1)*(l-c+1)}class m4 extends we{refresh(){const e=this.editor.plugins.get(Rt),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(Rt);e.change(n=>{const i=t.getSelectedTableCells(e.document.selection),s=i.shift(),{mergeWidth:l,mergeHeight:c}=b4(s,i,t);lt("colspan",l,s,n),lt("rowspan",c,s,n);for(const p of i)k4(p,s,n);const u=s.findAncestor("table");Bp(u,t),n.setSelection(s,"in")})}}function k4(o,e,t){ZA(o)||(ZA(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(o),t.createPositionAt(e,"end"))),t.remove(o)}function ZA(o){const e=o.getChild(0);return o.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function b4(o,e,t){let n=0,i=0;for(const p of e){const{row:m,column:w}=t.getCellLocation(p);n=JA(p,w,n,"colspan"),i=JA(p,m,i,"rowspan")}const{row:s,column:l}=t.getCellLocation(o),c=n-l,u=i-s;return{mergeWidth:c,mergeHeight:u}}function JA(o,e,t,n){const i=parseInt(o.getAttribute(n)||"1");return Math.max(t,e+i)}class w4 extends we{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),s=n[0].findAncestor("table"),l=[];for(let c=i.first;c<=i.last;c++)for(const u of s.getChild(c).getChildren())l.push(e.createRangeOn(u));e.change(c=>{c.setSelection(l)})}}class _4 extends we{constructor(e){super(e),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0],s=n.pop(),l=i.findAncestor("table"),c=e.getCellLocation(i),u=e.getCellLocation(s),p=Math.min(c.column,u.column),m=Math.max(c.column,u.column),w=[];for(const x of new Pe(l,{startColumn:p,endColumn:m}))w.push(t.createRangeOn(x.cell));t.change(x=>{x.setSelection(w)})}}function v4(o){o.document.registerPostFixer(e=>C4(e,o))}function C4(o,e){const t=e.document.differ.getChanges();let n=!1;const i=new Set;for(const s of t){let l=null;s.type=="insert"&&s.name=="table"&&(l=s.position.nodeAfter),(s.type=="insert"||s.type=="remove")&&(s.name=="tableRow"||s.name=="tableCell")&&(l=s.position.findAncestor("table")),S4(s)&&(l=s.range.start.findAncestor("table")),l&&!i.has(l)&&(n=A4(l,o)||n,n=y4(l,o)||n,i.add(l))}return n}function A4(o,e){let t=!1;const n=x4(o);if(n.length){t=!0;for(const i of n)lt("rowspan",i.rowspan,i.cell,e,1)}return t}function y4(o,e){let t=!1;const n=E4(o),i=[];for(const[u,p]of n.entries())!p&&o.getChild(u).is("element","tableRow")&&i.push(u);if(i.length){t=!0;for(const u of i.reverse())e.remove(o.getChild(u)),n.splice(u,1)}const s=n.filter((u,p)=>o.getChild(p).is("element","tableRow")),l=s[0];if(!s.every(u=>u===l)){const u=s.reduce((p,m)=>m>p?m:p,0);for(const[p,m]of s.entries()){const w=u-m;if(w){for(let x=0;x<w;x++)Gi(e,e.createPositionAt(o.getChild(p),"end"));t=!0}}}return t}function x4(o){const e=parseInt(o.getAttribute("headingRows")||"0"),t=Array.from(o.getChildren()).reduce((i,s)=>s.is("element","tableRow")?i+1:i,0),n=[];for(const{row:i,cell:s,cellHeight:l}of new Pe(o)){if(l<2)continue;const u=i<e?e:t;if(i+l>u){const p=u-i;n.push({cell:s,rowspan:p})}}return n}function E4(o){const e=new Array(o.childCount).fill(0);for(const{rowIndex:t}of new Pe(o,{includeAllSlots:!0}))e[t]++;return e}function S4(o){if(o.type!=="attribute")return!1;const e=o.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function D4(o){o.document.registerPostFixer(e=>T4(e,o))}function T4(o,e){const t=e.document.differ.getChanges();let n=!1;for(const i of t)i.type=="insert"&&i.name=="table"&&(n=P4(i.position.nodeAfter,o)||n),i.type=="insert"&&i.name=="tableRow"&&(n=YA(i.position.nodeAfter,o)||n),i.type=="insert"&&i.name=="tableCell"&&(n=Op(i.position.nodeAfter,o)||n),(i.type=="remove"||i.type=="insert")&&I4(i)&&(n=Op(i.position.parent,o)||n);return n}function P4(o,e){let t=!1;for(const n of o.getChildren())n.is("element","tableRow")&&(t=YA(n,e)||t);return t}function YA(o,e){let t=!1;for(const n of o.getChildren())t=Op(n,e)||t;return t}function Op(o,e){if(o.childCount==0)return e.insertElement("paragraph",o),!0;const t=Array.from(o.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function I4(o){return o.position.parent.is("element","tableCell")?o.type=="insert"&&o.name=="$text"||o.type=="remove":!1}function B4(o,e){const t=o.document.differ;for(const n of t.getChanges()){let i,s=!1;if(n.type=="attribute"){const p=n.range.start.nodeAfter;if(!p||!p.is("element","table")||n.attributeKey!="headingRows"&&n.attributeKey!="headingColumns")continue;i=p,s=n.attributeKey=="headingRows"}else(n.name=="tableRow"||n.name=="tableCell")&&(i=n.position.findAncestor("table"),s=n.name=="tableRow");if(!i)continue;const l=i.getAttribute("headingRows")||0,c=i.getAttribute("headingColumns")||0,u=new Pe(i);for(const p of u){const w=p.row<l||p.column<c?"th":"td",x=e.mapper.toViewElement(p.cell);x&&x.is("element")&&x.name!=w&&e.reconvertItem(s?p.cell.parent:p.cell)}}}function R4(o,e){const t=o.document.differ,n=new Set;for(const i of t.getChanges()){const s=i.type=="attribute"?i.range.start.parent:i.position.parent;s.is("element","tableCell")&&n.add(s)}for(const i of n.values()){const s=Array.from(i.getChildren()).filter(l=>O4(l,e.mapper));for(const l of s)e.reconvertItem(l)}}function O4(o,e){if(!o.is("element","paragraph"))return!1;const t=e.toViewElement(o);return t?MA(o)!==t.is("element","span"):!1}var XA=f(4777),zp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};zp.insert="head",zp.singleton=!0,de()(XA.Z,zp),XA.Z.locals;class z4 extends Y{static get pluginName(){return"TableEditing"}static get requires(){return[Rt]}constructor(e){super(e),this._additionalSlots=[]}init(){const e=this.editor,t=e.model,n=t.schema,i=e.conversion,s=e.plugins.get(Rt);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add(jF()),i.for("upcast").add(HF()),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:RA(s,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:RA(s,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add(UF()),i.for("downcast").elementToElement({model:"tableRow",view:GF()}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(BA("td")),i.for("upcast").add(BA("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:OA({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:OA()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:zA({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:zA(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:ey("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:ey("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new JF(e)),e.commands.add("insertTableRowAbove",new NA(e,{order:"above"})),e.commands.add("insertTableRowBelow",new NA(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new FA(e,{order:"left"})),e.commands.add("insertTableColumnRight",new FA(e,{order:"right"})),e.commands.add("removeTableRow",new o4(e)),e.commands.add("removeTableColumn",new r4(e)),e.commands.add("splitTableCellVertically",new LA(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new LA(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new m4(e)),e.commands.add("mergeTableCellRight",new Ic(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Ic(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Ic(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Ic(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new c4(e)),e.commands.add("setTableRowHeader",new l4(e)),e.commands.add("selectTableRow",new w4(e)),e.commands.add("selectTableColumn",new _4(e)),v4(t),D4(t),this.listenTo(t.document,"change:data",()=>{B4(t,e.editing),R4(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function ey(o){return e=>{const t=parseInt(e.getAttribute(o));return Number.isNaN(t)||t<=0?null:t}}var ty=f(8085),Mp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Mp.insert="head",Mp.singleton=!0,de()(ty.Z,Mp),ty.Z.locals;class M4 extends be{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new ko,this.focusTracker=new zn,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,i)=>`${i} × ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,i)=>{const{row:s,column:l}=i.target.dataset;this.items.get((parseInt(s,10)-1)*10+(parseInt(l,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,i,s)=>{if(!s)return;const{row:l,column:c}=s.dataset;this.set({rows:parseInt(l),columns:parseInt(c)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),A({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,i)=>{const s=Math.floor(i/10),l=i%10,c=s<e&&l<t;n.set("isOn",c)})}_createGridButton(e,t,n,i){const s=new Ye(e);return s.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),s.extendTemplate({attributes:{"data-row":t,"data-column":n}}),s}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),i=t%10,s=`${n+1} × ${i+1}`;e.push(this._createGridButton(this.locale,n+1,i+1,s))}return this.createCollection(e)}}const N4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',F4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',L4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',V4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class j4 extends Y{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,i=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const l=e.commands.get("insertTable"),c=Wi(s);c.bind("isEnabled").to(l),c.buttonView.set({icon:N4,label:t("Insert table"),tooltip:!0});let u;return c.on("change:isOpen",()=>{u||(u=new M4(s),c.panelView.children.add(u),u.delegate("execute").to(c),c.on("execute",()=>{e.execute("insertTable",{rows:u.rows,columns:u.columns}),e.editing.view.focus()}))}),c}),e.ui.componentFactory.add("tableColumn",s=>{const l=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),F4,l,s)}),e.ui.componentFactory.add("tableRow",s=>{const l=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),L4,l,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const l=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),V4,l,s)})}_prepareDropdown(e,t,n,i){const s=this.editor,l=Wi(i),c=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:e,icon:t,tooltip:!0}),l.bind("isEnabled").toMany(c,"isEnabled",(...u)=>u.some(p=>p)),this.listenTo(l,"execute",u=>{s.execute(u.source.commandName),u.source instanceof Xl||s.editing.view.focus()}),l}_prepareMergeSplitButtonDropdown(e,t,n,i){const s=this.editor,l=Wi(i,Nh),c="mergeTableCells",u=s.commands.get(c),p=this._fillDropdownWithListOptions(l,n);return l.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),l.bind("isEnabled").toMany([u,...p],"isEnabled",(...m)=>m.some(w=>w)),this.listenTo(l.buttonView,"execute",()=>{s.execute(c),s.editing.view.focus()}),this.listenTo(l,"execute",m=>{s.execute(m.source.commandName),s.editing.view.focus()}),l}_fillDropdownWithListOptions(e,t){const n=this.editor,i=[],s=new On;for(const l of t)H4(l,n,i,s);return N_(e,s),i}}function H4(o,e,t,n){if(o.type==="button"||o.type==="switchbutton"){const i=o.model=new nv(o.model),{commandName:s,bindIsOn:l}=o.model,c=e.commands.get(s);t.push(c),i.set({commandName:s}),i.bind("isEnabled").to(c),l&&i.bind("isOn").to(c,"value"),i.set({withText:!0})}n.add(o)}var ny=f(5593),Np={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Np.insert="head",Np.singleton=!0,de()(ny.Z,Np),ny.Z.locals;class Qi extends Y{static get pluginName(){return"TableSelection"}static get requires(){return[Rt,Rt]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(i,s)=>this._handleDeleteContent(i,s),{priority:"high"}),this.listenTo(n.document,"insertText",(i,s)=>this._handleInsertTextEvent(i,s),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Rt),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(Rt),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const i=n.createDocumentFragment(),{first:s,last:l}=e.getColumnIndexes(t),{first:c,last:u}=e.getRowIndexes(t),p=t[0].findAncestor("table");let m=u,w=l;if(e.isSelectionRectangular(t)){const M={firstColumn:s,lastColumn:l,firstRow:c,lastRow:u};m=qA(p,M),w=KA(p,M)}const T=VA(p,{startRow:c,startColumn:s,endRow:m,endColumn:w},n);return n.insert(T,i,0),i}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(i=>{i.setSelection(n.cells.map(s=>i.createRangeOn(s)),{backward:n.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const e=this.editor.model.document.selection,n=_t(e.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(i=>i.on("selection",(s,l,c)=>{const u=c.writer;n(u);const p=this.getSelectedTableCells();if(!p)return;for(const w of p){const x=c.mapper.toViewElement(w);u.addClass("ck-editor__editable_selected",x),t.add(x)}const m=c.mapper.toViewElement(p[p.length-1]);u.setSelection(m,0)},{priority:"lowest"}));function n(i){for(const s of t)i.removeClass("ck-editor__editable_selected",s);t.clear()}}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const i=n.createPositionAt(t[0],0),s=e.model.schema.getNearestSelectionRange(i);n.setSelection(s)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(Rt),i=t[0],s=t[1],l=this.editor.model,c=!s||s.direction=="backward",u=n.getSelectedTableCells(i);u.length&&(e.stop(),l.change(p=>{const m=u[c?u.length-1:0];l.change(x=>{for(const T of u)l.deleteContent(x.createSelection(T,"in"))});const w=l.schema.getNearestSelectionRange(p.createPositionAt(m,0));i.is("documentSelection")?p.setSelection(w):i.setTo(w)}))}_handleInsertTextEvent(e,t){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const s=n.editing.view,l=n.editing.mapper,c=i.map(u=>s.createRangeOn(l.toViewElement(u)));t.selection=s.createSelection(c)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(e),s=n.getCellLocation(t),l=Math.min(i.row,s.row),c=Math.max(i.row,s.row),u=Math.min(i.column,s.column),p=Math.max(i.column,s.column),m=new Array(c-l+1).fill(null).map(()=>[]),w={startRow:l,endRow:c,startColumn:u,endColumn:p};for(const{row:M,cell:F}of new Pe(e.findAncestor("table"),w))m[M-l].push(F);const x=s.row<i.row,T=s.column<i.column;return x&&m.reverse(),T&&m.forEach(M=>M.reverse()),{cells:m.flat(),backward:x||T}}}class U4 extends Y{static get pluginName(){return"TableClipboard"}static get requires(){return[Qi,Rt]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,i)=>this._onCopyCut(n,i)),this.listenTo(t,"cut",(n,i)=>this._onCopyCut(n,i)),this.listenTo(e.model,"insertContent",(n,[i,s])=>this._onInsertContent(n,i,s),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.plugins.get(Qi);if(!n.getSelectedTableCells()||e.name=="cut"&&this.editor.isReadOnly)return;t.preventDefault(),e.stop();const i=this.editor.data,s=this.editor.editing.view.document,l=i.toView(n.getSelectionAsFragment());s.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:l,method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,s=this.editor.plugins.get(Rt);let l=this.getTableIfOnlyTableInContent(t,i);if(!l)return;const c=s.getSelectionAffectedTableCells(i.document.selection);if(!c.length){Bp(l,s);return}e.stop(),i.change(u=>{const p={width:s.getColumns(l),height:s.getRows(l)},m=W4(c,p,u,s),w=m.lastRow-m.firstRow+1,x=m.lastColumn-m.firstColumn+1,T={startRow:0,startColumn:0,endRow:Math.min(w,p.height)-1,endColumn:Math.min(x,p.width)-1};l=VA(l,T,u);const M=c[0].findAncestor("table"),F=this._replaceSelectedCellsWithPasted(l,p,M,m,u);if(this.editor.plugins.get("TableSelection").isEnabled){const W=s.sortRanges(F.map(K=>u.createRangeOn(K)));u.setSelection(W)}else u.setSelection(F[0],0)})}_replaceSelectedCellsWithPasted(e,t,n,i,s){const{width:l,height:c}=t,u=q4(e,l,c),p=[...new Pe(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],m=[];let w;for(const W of p){const{row:K,column:ne}=W;ne===i.firstColumn&&(w=W.getPositionBefore());const Ce=K-i.firstRow,Ve=ne-i.firstColumn,et=u[Ce%c][Ve%l],re=et?s.cloneElement(et):null,ue=this._replaceTableSlotCell(W,re,w,s);ue&&($A(ue,K,ne,i.lastRow,i.lastColumn,s),m.push(ue),w=s.createPositionAfter(ue))}const x=parseInt(n.getAttribute("headingRows")||"0"),T=parseInt(n.getAttribute("headingColumns")||"0"),M=i.firstRow<x&&x<=i.lastRow,F=i.firstColumn<T&&T<=i.lastColumn;if(M){const W={first:i.firstColumn,last:i.lastColumn},K=Fp(n,x,W,s,i.firstRow);m.push(...K)}if(F){const W={first:i.firstRow,last:i.lastRow},K=Lp(n,T,W,s);m.push(...K)}return m}_replaceTableSlotCell(e,t,n,i){const{cell:s,isAnchor:l}=e;return l&&i.remove(s),t?(i.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const i of n.getItems())if(i.is("element","table")){const s=t.createRange(n.start,t.createPositionBefore(i));if(t.hasContent(s,{ignoreWhitespaces:!0}))return null;const l=t.createRange(t.createPositionAfter(i),n.end);return t.hasContent(l,{ignoreWhitespaces:!0})?null:i}return null}}function W4(o,e,t,n){const i=o[0].findAncestor("table"),s=n.getColumnIndexes(o),l=n.getRowIndexes(o),c={firstColumn:s.first,lastColumn:s.last,firstRow:l.first,lastRow:l.last},u=o.length===1;return u&&(c.lastRow+=e.height-1,c.lastColumn+=e.width-1,$4(i,c.lastRow+1,c.lastColumn+1,n)),u||!n.isSelectionRectangular(o)?K4(i,c,t):(c.lastRow=qA(i,c),c.lastColumn=KA(i,c)),c}function $4(o,e,t,n){const i=n.getColumns(o),s=n.getRows(o);t>i&&n.insertColumns(o,{at:i,columns:t-i}),e>s&&n.insertRows(o,{at:s,rows:e-s})}function q4(o,e,t){const n=new Array(t).fill(null).map(()=>new Array(e).fill(null));for(const{column:i,row:s,cell:l}of new Pe(o))n[s][i]=l;return n}function K4(o,e,t){const{firstRow:n,lastRow:i,firstColumn:s,lastColumn:l}=e,c={first:n,last:i},u={first:s,last:l};Lp(o,s,c,t),Lp(o,l+1,c,t),Fp(o,n,u,t),Fp(o,i+1,u,t,n)}function Fp(o,e,t,n,i=0){return e<1?void 0:jA(o,e,i).filter(({column:c,cellWidth:u})=>oy(c,u,t)).map(({cell:c})=>HA(c,e,n))}function Lp(o,e,t,n){return e<1?void 0:UA(o,e).filter(({row:l,cellHeight:c})=>oy(l,c,t)).map(({cell:l,column:c})=>WA(l,c,e,n))}function oy(o,e,t){const n=o+e-1,{first:i,last:s}=t,l=o>=i&&o<=s,c=o<i&&n>=i;return l||c}class G4 extends Y{static get pluginName(){return"TableKeyboard"}static get requires(){return[Qi,Rt]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...n)=>this._onArrowKey(...n),{context:"table"}),this.listenTo(t,"tab",(...n)=>this._handleTabOnSelectedTable(...n),{context:"figure"}),this.listenTo(t,"tab",(...n)=>this._handleTab(...n),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const n=this.editor,s=n.model.document.selection.getSelectedElement();!s||!s.is("element","table")||(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(l=>{l.setSelection(l.createRangeIn(s.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,i=this.editor.plugins.get(Rt),s=this.editor.plugins.get("TableSelection"),l=n.model.document.selection,c=!t.shiftKey;let u=i.getTableCellsContainingSelection(l)[0];if(u||(u=s.getFocusCell()),!u)return;t.preventDefault(),t.stopPropagation(),e.stop();const p=u.parent,m=p.parent,w=m.getChildIndex(p),x=p.getChildIndex(u),T=x===0;if(!c&&T&&w===0){n.model.change(K=>{K.setSelection(K.createRangeOn(m))});return}const M=x===p.childCount-1,F=w===i.getRows(m)-1;if(c&&F&&M&&(n.execute("insertTableRowBelow"),w===i.getRows(m)-1)){n.model.change(K=>{K.setSelection(K.createRangeOn(m))});return}let W;if(c&&M)W=m.getChild(w+1).getChild(0);else if(!c&&T){const K=m.getChild(w-1);W=K.getChild(K.childCount-1)}else W=p.getChild(x+(c?1:-1));n.model.change(K=>{K.setSelection(K.createRangeIn(W))})}_onArrowKey(e,t){const n=this.editor,i=t.keyCode,s=yh(i,n.locale.contentLanguageDirection);this._handleArrowKeys(s,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(Rt),i=this.editor.plugins.get("TableSelection"),s=this.editor.model,l=s.document.selection,c=["right","down"].includes(e),u=n.getSelectedTableCells(l);if(u.length){let m;return t?m=i.getFocusCell():m=c?u[u.length-1]:u[0],this._navigateFromCellInDirection(m,e,t),!0}const p=l.focus.findAncestor("tableCell");if(!p)return!1;if(!l.isCollapsed)if(t){if(l.isBackward==c&&!l.containsEntireContent(p))return!1}else{const m=l.getSelectedElement();if(!m||!s.schema.isObject(m))return!1}return this._isSelectionAtCellEdge(l,p,c)?(this._navigateFromCellInDirection(p,e,t),!0):!1}_isSelectionAtCellEdge(e,t,n){const i=this.editor.model,s=this.editor.model.schema,l=n?e.getLastPosition():e.getFirstPosition();if(!s.getLimitElement(l).is("element","tableCell"))return i.createPositionAt(t,n?"end":0).isTouching(l);const c=i.createSelection(l);return i.modifySelection(c,{direction:n?"forward":"backward"}),l.isEqual(c.focus)}_navigateFromCellInDirection(e,t,n=!1){const i=this.editor.model,s=e.findAncestor("table"),l=[...new Pe(s,{includeAllSlots:!0})],{row:c,column:u}=l[l.length-1],p=l.find(({cell:ne})=>ne==e);let{row:m,column:w}=p;switch(t){case"left":w--;break;case"up":m--;break;case"right":w+=p.cellWidth;break;case"down":m+=p.cellHeight;break}const x=m<0||m>c,T=w<0&&m<=0,M=w>u&&m>=c;if(x||T||M){i.change(ne=>{ne.setSelection(ne.createRangeOn(s))});return}w<0?(w=n?0:u,m--):w>u&&(w=n?u:0,m++);const F=l.find(ne=>ne.row==m&&ne.column==w).cell,W=["right","down"].includes(t),K=this.editor.plugins.get("TableSelection");if(n&&K.isEnabled){const ne=K.getAnchorCell()||e;K.setCellSelection(ne,F)}else{const ne=i.createPositionAt(F,W?0:"end");i.change(Ce=>{Ce.setSelection(ne)})}}}class Q4 extends Ko{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class Z4 extends Y{static get pluginName(){return"TableMouse"}static get requires(){return[Qi,Rt]}init(){this.editor.editing.view.addObserver(Q4),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(Rt);let n=!1;const i=e.plugins.get(Qi);this.listenTo(e.editing.view.document,"mousedown",(s,l)=>{const c=e.model.document.selection;if(!this.isEnabled||!i.isEnabled||!l.domEvent.shiftKey)return;const u=i.getAnchorCell()||t.getTableCellsContainingSelection(c)[0];if(!u)return;const p=this._getModelTableCellFromDomEvent(l);p&&iy(u,p)&&(n=!0,i.setCellSelection(u,p),l.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",s=>{n&&s.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,i=!1,s=!1;const l=e.plugins.get(Qi);this.listenTo(e.editing.view.document,"mousedown",(c,u)=>{!this.isEnabled||!l.isEnabled||u.domEvent.shiftKey||u.domEvent.ctrlKey||u.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(u))}),this.listenTo(e.editing.view.document,"mousemove",(c,u)=>{if(!u.domEvent.buttons||!t)return;const p=this._getModelTableCellFromDomEvent(u);p&&iy(t,p)&&(n=p,!i&&n!=t&&(i=!0)),i&&(s=!0,l.setCellSelection(t,n),u.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{i=!1,s=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",c=>{s&&c.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function iy(o,e){return o.parent.parent==e.parent.parent}var ry=f(4104),Vp={injectType:"singletonStyleTag",attributes:{"data-cke":!0}};Vp.insert="head",Vp.singleton=!0,de()(ry.Z,Vp),ry.Z.locals;class J4 extends Y{static get requires(){return[z4,j4,Qi,Z4,G4,U4,Sc]}static get pluginName(){return"Table"}}function Y4(o){const e=o.getSelectedElement();return e&&sy(e)?e:null}function X4(o){const e=o.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&sy(t))return t;t=t.parent}return null}function sy(o){return!!o.getCustomProperty("table")&&Xe(o)}class e7 extends Y{static get requires(){return[Dc]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Dc),i=e.config.get("table.contentToolbar"),s=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:X4}),s&&n.register("table",{ariaLabel:t("Table toolbar"),items:s,getRelatedElement:Y4})}}class jp extends wc{}jp.builtinPlugins=[WO,qO,o3,s3,sz,fz,Pz,Oz,qz,Kz,pM,kM,vM,PN,oF,ca,VF,J4,e7,MO],jp.defaultConfig={toolbar:{items:["heading","|","bold","italic","|","bulletedList","numberedList","outdent","indent","|","link","imageUpload","insertTable","blockQuote","|","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}};const t7=jp})(),g=g.default,g})())})(PL,Bd);const Sx=k0(Bd);var cm={},IL={get exports(){return cm},set exports(r){cm=r}};(function(r,a){(function(d,h){h()})(dn,function(){function d(A,S){return typeof S>"u"?S={autoBom:!1}:typeof S!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}function h(A,S,E){var D=new XMLHttpRequest;D.open("GET",A),D.responseType="blob",D.onload=function(){k(D.response,S,E)},D.onerror=function(){console.error("could not download file")},D.send()}function f(A){var S=new XMLHttpRequest;S.open("HEAD",A,!1);try{S.send()}catch{}return 200<=S.status&&299>=S.status}function g(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var S=document.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(S)}}var b=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof dn=="object"&&dn.global===dn?dn:void 0,_=b.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),k=b.saveAs||(typeof window!="object"||window!==b?function(){}:"download"in HTMLAnchorElement.prototype&&!_?function(A,S,E){var D=b.URL||b.webkitURL,y=document.createElement("a");S=S||A.name||"download",y.download=S,y.rel="noopener",typeof A=="string"?(y.href=A,y.origin===location.origin?g(y):f(y.href)?h(A,S,E):g(y,y.target="_blank")):(y.href=D.createObjectURL(A),setTimeout(function(){D.revokeObjectURL(y.href)},4e4),setTimeout(function(){g(y)},0))}:"msSaveOrOpenBlob"in navigator?function(A,S,E){if(S=S||A.name||"download",typeof A!="string")navigator.msSaveOrOpenBlob(d(A,E),S);else if(f(A))h(A,S,E);else{var D=document.createElement("a");D.href=A,D.target="_blank",setTimeout(function(){g(D)})}}:function(A,S,E,D){if(D=D||open("","_blank"),D&&(D.document.title=D.document.body.innerText="downloading..."),typeof A=="string")return h(A,S,E);var y=A.type==="application/octet-stream",R=/constructor/i.test(b.HTMLElement)||b.safari,V=/CriOS\/[\d]+/.test(navigator.userAgent);if((V||y&&R||_)&&typeof FileReader<"u"){var J=new FileReader;J.onloadend=function(){var O=J.result;O=V?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),D?D.location.href=O:location=O,D=null},J.readAsDataURL(A)}else{var z=b.URL||b.webkitURL,B=z.createObjectURL(A);D?D.location=B:location.href=B,D=null,setTimeout(function(){z.revokeObjectURL(B)},4e4)}});b.saveAs=k.saveAs=k,r.exports=k})})(IL);var dm={},BL={get exports(){return dm},set exports(r){dm=r}};(function(r){(function(){var a={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0},d;a.encodeHTMLSource=function(_){var k={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},A=_?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(S){return S?S.toString().replace(A,function(E){return k[E]||E}):""}},d=function(){return this||(0,eval)("this")}(),r.exports?r.exports=a:d.doT=a;var h={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},f=/$^/;function g(_,k,A){return(typeof k=="string"?k:k.toString()).replace(_.define||f,function(S,E,D,y){return E.indexOf("def.")===0&&(E=E.substring(4)),E in A||(D===":"?(_.defineParams&&y.replace(_.defineParams,function(R,V,J){A[E]={arg:V,text:J}}),E in A||(A[E]=y)):new Function("def","def['"+E+"']="+y)(A)),""}).replace(_.use||f,function(S,E){_.useParams&&(E=E.replace(_.useParams,function(y,R,V,J){if(A[V]&&A[V].arg&&J){var z=(V+":"+J).replace(/'|\\/g,"_");return A.__exp=A.__exp||{},A.__exp[z]=A[V].text.replace(new RegExp("(^|[^\\w$])"+A[V].arg+"([^\\w$])","g"),"$1"+J+"$2"),R+"def.__exp['"+z+"']"}}));var D=new Function("def","return "+E)(A);return D&&g(_,D,A)})}function b(_){return _.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}a.template=function(_,k,A){k=k||a.templateSettings;var S=k.append?h.append:h.split,E,D=0,y,R=k.use||k.define?g(k,_,A||{}):_;R=("var out='"+(k.strip?R.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):R).replace(/'|\\/g,"\\$&").replace(k.interpolate||f,function(V,J){return S.start+b(J)+S.end}).replace(k.encode||f,function(V,J){return E=!0,S.startencode+b(J)+S.end}).replace(k.conditional||f,function(V,J,z){return J?z?"';}else if("+b(z)+"){out+='":"';}else{out+='":z?"';if("+b(z)+"){out+='":"';}out+='"}).replace(k.iterate||f,function(V,J,z,B){return J?(D+=1,y=B||"i"+D,J=b(J),"';var arr"+D+"="+J+";if(arr"+D+"){var "+z+","+y+"=-1,l"+D+"=arr"+D+".length-1;while("+y+"<l"+D+"){"+z+"=arr"+D+"["+y+"+=1];out+='"):"';} } out+='"}).replace(k.evaluate||f,function(V,J){return"';"+b(J)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),E&&(!k.selfcontained&&d&&!d._encodeHTML&&(d._encodeHTML=a.encodeHTMLSource(k.doNotSkipEncoded)),R="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+a.encodeHTMLSource.toString()+"("+(k.doNotSkipEncoded||"")+"));"+R);try{return new Function(k.varname,R)}catch(V){throw typeof console<"u"&&console.log("Could not create a template function: "+R),V}},a.compile=function(_,k){return a.template(_,null,k)}})()})(BL);const um=dm,RL={typing:{transformations:{include:[],remove:["quotes"]}},toolbar:["heading","|","bold","italic","|","bulletedList","numberedList","indent","outdent","|","imageUpload","insertTable","blockQuote","|","undo","redo"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]}},OL={toolbar:[]};function zL({onClose:r,editorState:a,renderList:d}){const[h,f]=At.useState(-1),g=At.createRef();At.useEffect(()=>{f(-1)},[a]);const b=A=>{var S,E,D,y;f(A),(E=(S=g.current)==null?void 0:S.editor)==null||E.data.set(d[A].rendered),(y=(D=g.current)==null?void 0:D.editor)==null||y.enableReadOnlyMode("proofreading")},_=a===Ca.Publishing||a===Ca.Displaying?"is-active":"",k=[];return d.forEach((A,S)=>{const E=k.findIndex(D=>D.length?A.rendered===d[D[0]].rendered:!1);E===-1?k.push([S]):k[E].push(S)}),yo("div",{className:`modal ${_}`,children:[xe("div",{className:"modal-background",onClick:r}),a===Ca.Publishing&&xe("div",{className:"modal-content",children:xe("progress",{className:"progress",max:"100"})}),a===Ca.Displaying&&yo("div",{className:"modal-card",style:{width:"calc(100vw - 40px)",height:"calc(100vh - 40px)"},children:[xe("div",{className:"modal-card-head",children:xe("div",{className:"modal-card-title",children:"Proofreading"})}),xe("div",{className:"modal-card-body",children:yo("div",{style:{display:"flex",flexDirection:"row"},children:[xe("div",{className:"menu",style:{minWidth:"160px"},children:k.map((A,S)=>yo(x0.Fragment,{children:[yo("div",{className:"menu-label",children:["Group ",S]}),xe("ul",{className:"menu-list",children:A.map(E=>xe("li",{children:xe("a",{className:E===h?"is-active":"",onClick:()=>b(E),children:d[E].key})},d[E].key))})]},S))}),xe("div",{style:{flexGrow:"1"},children:xe("div",{className:"content",children:xe(Qa.CKEditor,{editor:Sx,config:OL,ref:g})})})]})}),xe("div",{className:"modal-card-foot"})]})]})}var Ca=(r=>(r[r.Editing=0]="Editing",r[r.Publishing=1]="Publishing",r[r.Displaying=2]="Displaying",r))(Ca||{});um.templateSettings.varname="data";function ML(){const r=At.createRef(),a=At.createRef(),d=At.createRef(),h=At.createRef(),[f,g]=At.useState({key:"key",varname:"data"}),[b,_]=At.useState([]),[k,A]=At.useState([]),[S,E]=At.useState(0);At.useEffect(()=>{var B;!r.current||!d.current||!((B=h.current)!=null&&B.editor)||(r.current.addEventListener("change",()=>{var Q,H;const O=(H=(Q=r.current)==null?void 0:Q.files)==null?void 0:H[0];if(!O)return;const j=new FileReader;j.addEventListener("load",()=>{var q,oe;if(!a.current||typeof j.result!="string")return;const U=O.name.split(".");U.pop(),a.current.value=U.join("."),(oe=(q=h.current)==null?void 0:q.editor)==null||oe.data.set(j.result)}),j.readAsText(O)}),d.current.addEventListener("change",()=>{var Q,H;const O=(H=(Q=d.current)==null?void 0:Q.files)==null?void 0:H[0];if(!O)return;const j=new FileReader;j.addEventListener("load",()=>{if(typeof j.result!="string")return;const{metadata:U,data:q}=JSON.parse(j.result);g(U??{key:"key",varname:"data"}),um.templateSettings.varname=U.varname||"data",_(q)}),j.readAsText(O)}))},[r,d,h]);const D=()=>{var B,O;(O=(B=h.current)==null?void 0:B.editor)!=null&&O.data&&h.current.editor.data.set("")},y=()=>{r.current&&r.current.click()},R=()=>{var j,Q;if(!((j=h.current)!=null&&j.editor))return;const B=new Blob([h.current.editor.data.get()]),O=((Q=a.current)==null?void 0:Q.value)||"tempub";cm.saveAs(B,`${O}.html`)},V=()=>{var B;(B=d.current)==null||B.click()},J=()=>{var Q,H;if(!((H=(Q=h.current)==null?void 0:Q.editor)!=null&&H.data))return;E(1);const B=h.current.editor.data.get(),O=um.template(B),j=[];b.forEach(U=>{const q=O(U).replaceAll(/(<p>(&nbsp;)*<\/p>[\r\n]*)+/gm,"<p></p>");j.push({key:U[f.key||"key"],rendered:q})}),A(j),E(2)},z=()=>{S===2&&E(0)};return yo("div",{className:"App",children:[yo("div",{className:"field is-grouped",children:[xe("div",{className:"control",children:xe("a",{className:"button is-text",onClick:D,children:"New"})}),yo("div",{className:"control",children:[xe("a",{className:"button is-text",onClick:y,children:"Load template"}),xe("input",{type:"file",ref:r,style:{display:"none"}})]}),xe("div",{className:"control",children:xe("input",{className:"input",ref:a,placeholder:"tempub"})}),xe("div",{className:"control",children:xe("a",{className:"button is-text",onClick:R,children:"Save template"})}),yo("div",{className:"control",children:[xe("a",{className:"button is-text",onClick:V,children:"Load data"}),xe("input",{type:"file",ref:d,style:{display:"none"}})]}),xe("div",{className:"control",children:xe("a",{className:"button is-text",onClick:J,children:"Publish"})})]}),xe("div",{className:"content",children:xe(Qa.CKEditor,{editor:Sx,config:RL,ref:h})}),xe(zL,{onClose:z,editorState:S,renderList:k})]})}pg.createRoot(document.getElementById("root")).render(xe(x0.StrictMode,{children:xe(ML,{})}));
